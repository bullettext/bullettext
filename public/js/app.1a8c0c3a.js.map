{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/keyboardHelpers.js","webpack:///./src/App.vue","webpack:///./src/components/Loader.vue","webpack:///./src/components/Loader.vue?8914","webpack:///./src/App.vue?eabf","webpack:///./src/views/Dashboard.vue","webpack:///./src/views/Dashboard.vue?c9b2","webpack:///./src/views/Note.vue","webpack:///./src/components/BlockList.vue","webpack:///./src/components/BlockList.vue?1917","webpack:///./src/views/Note.vue?cf57","webpack:///./src/views/Block.vue","webpack:///./src/views/Block.vue?12d8","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?f1df","webpack:///./src/views/Forgot.vue","webpack:///./src/views/Forgot.vue?d5c3","webpack:///./src/views/NewPassword.vue","webpack:///./src/views/NewPassword.vue?d0b4","webpack:///./src/router.js","webpack:///./src/store.js","webpack:///./src/helpers.js","webpack:///./src/menuHelpers.js","webpack:///./src/main.js","webpack:///./src/textareaHelpers.js","webpack:///./src/components/Loader.vue?8d6e"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","edited","timerSave","document","addEventListener","e","clearTimeout","setTimeout","saveAll","console","log","target","matches","handleKeyEscape","handleKeyBackspace","handleKeyDelete","shiftKey","ctrlKey","handleKeyCtrlEnter","handleKeyEnter","handleShiftTab","handleTab","handleKeyArrowUp","handleKeyArrowDown","handleKeySlash","revertHistory","setBold","setItalic","addLetter","prevCharacter","nextCharacter","createMenuReference","hasMenu","destroyMenu","preventDefault","removeTextareas","createMenuDefault","prevItemSelectedMenu","altKey","block","closest","parent","parentNode","prev","previousSibling","removeChild","insertBefore","editBlock","isFirstLine","selectPrev","nextItemSelectedMenu","next","nextSibling","nextNext","appendChild","isLastLine","selectNext","callSelectItemMenu","textarea","text","li","createElement","setAttribute","getTempId","innerHTML","unmarked","substr","selectionStart","selectionEnd","setTodo","setInputHeight","prevBlock","getPrevBlock","prevText","querySelector","nextBlock","getNextBlock","nextvalue","$","ul","focus","tagName","parentBlock","reference","querySelectorAll","class","to","$route","fullPath","loadingMessage","isLoading","computed","this","$store","state","loading","render","components","Loader","isAuthenticated","getters","editingBlockId","methods","created","today","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","$router","newNote","note","required","notes","id","slug","dispatch","method","url","then","res","path","finally","mounted","onclick","note_id","data-note","references","index","data-level","level","levelBlocks","setLayerHeight","handleEnter","$event","marked","blocks","parent_id","props","filter","match","replace","block_id","BlockList","map","addHistory","$nextTick","hydrate","newBlock","viewBox","fill","project","href","domain","openModalDomain","is_published","openModalUnpublish","openModalPublish","tables","urladmin","pages","page","output","removePage","newPage","isAdmin","openModalSaveTemplate","modalDomain","modalTemplate","modalPublish","modalUnpublish","user","is_admin","token","dataBr","getProject","catch","toastr","prompt","project_id","confirm","__scopeId","type","error","onSubmitLogin","placeholder","login","email","password","onSubmitRegister","register","intendedUrl","response","onSubmit","alert","readonly","query","location","search","queryArr","split","obj","parts","decodeURIComponent","router","createRouter","history","createWebHistory","process","routes","component","Dashboard","meta","restricted","Login","Forgot","NewPassword","Note","Block","beforeEach","from","axios","store","Vuex","createStore","authInitialized","mutations","startLoading","stopLoading","setLoadingMessage","payload","setIntendedUrl","setUser","setNotes","actions","commit","message","bool","getNotesIndex","getNote","sort","dict","forEach","find","$$","selector","context","elements","Array","JSON","stringify","pop","getData","getAttribute","order","getBlockOrder","temp_id","classList","contains","stopPropagation","Router","toggleCheckbox","blockDom","clickedBlock","tempId","getTime","container","clientX","getBoundingClientRect","x","clientY","y","clickPos","getSelection","getRangeAt","endOffset","textareaDom","updateBlocksRefs","removeAttribute","temp_ids","new_notes","indexOf","pos","getCarretPosition","getSelectionEnd","getSelectionStart","build_html","output_html","saferEval","expression","dataContext","Function","body","title","color","seconds","div","className","note_name","event","remove","add","defaultListMenu","function","insertTodo","insertCurrentDate","insertCurrentTime","setStrikeout","functionsList","menuElement","createMenu","menu","positions","getCarretPositonByWindow","style","top","left","updateMenu","changeItemSelectedMenu","listNotes","substring","str","insertText","list","reset","resetMenu","item","itemElement","clickItemMenu","removeSlash","element","change","selectedElement","itemsElements","selectedIndex","getIndexOfElement","futureIndex","getTextarea","date","year","month","day","dateStr","hours","getHours","minutes","getMinutes","timeStr","children","Vue","vm","createApp","App","use","mount","el","height","textareaHeight","scrollHeight","originalText","span","width","offsetWidth","inner","createTextNode","carret","time","offsetLeft","textContent","timeEnd","ret","offsetTop","letter","setTextFormat","append","sizeAppend"],"mappings":"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","file":"js/app.1a8c0c3a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","window.edited = false;\nwindow.timerSave = null;\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n\n\tdocument.addEventListener('keydown',function(e){\n\n\t\tedited = true;\n\t\tclearTimeout(timerSave);\n\t\ttimerSave = setTimeout(()=>{\n\t\t\tif(!edited) return;\n\t\t\tsaveAll();\n\t\t\tedited = false;\n\t\t},5000);\n\n\n\t\tconsole.log(e.key)\n\t\tif(e.key=='Escape' && e.target.matches('textarea')){\n\t\t\thandleKeyEscape(e);\n\t\t}\n\t\tif(e.key=='Backspace' && e.target.matches('textarea')){\n\t\t\thandleKeyBackspace(e);\n\t\t}\n\t\tif(e.key=='Delete' && e.target.matches('textarea')){\n\t\t\thandleKeyDelete(e);\n\t\t}\n\t\tif(e.key=='Enter' && e.target.matches('textarea') && !e.shiftKey){\n\t\t\tif(e.ctrlKey){\n\t\t\t\thandleKeyCtrlEnter(e);\n\t\t\t} else {\n\t\t\t\thandleKeyEnter(e);\n\t\t\t}\n\t\t}\n\t\tif(e.key=='Tab' && e.target.matches('textarea')){\n\t\t\tif(e.shiftKey){\n\t\t\t\thandleShiftTab(e);\n\t\t\t} else {\n\t\t\t\thandleTab(e);\n\t\t\t}\n\t\t}\n\n\t\tif(e.key=='ArrowUp' && e.target.matches('textarea')){ //arrowUp\n\t\t\thandleKeyArrowUp(e);\n\t\t}\n\t\tif(e.key=='ArrowDown' && e.target.matches('textarea')){ //arrowDown\n\t\t\thandleKeyArrowDown(e);\n\t\t}\n\t\tif(e.key=='/'){ //arrowDown\n\t\t\thandleKeySlash(e);\n\t\t}\n\t\tif(e.key=='z' && e.ctrlKey){\n\t\t\trevertHistory();\n\t\t}\n\t\tif(e.key=='b' && e.ctrlKey) {\n\t\t\tsetBold(e);\n\t\t}\n\t\tif(e.key=='i' && e.ctrlKey) {\n\t\t\tsetItalic(e);\n\t\t}\n\t\tif(e.key=='[') {\n\t\t\taddLetter(']');\n\t\t\tif(prevCharacter('[') && nextCharacter(']')) {\n\t\t\t\tcreateMenuReference();\n\t\t\t}\n\t\t}\n\t\tif(e.key=='(') {\n\t\t\taddLetter(')');\n\t\t}\n\t\tif(e.key=='{') {\n\t\t\taddLetter('}');\n\t\t}\n\t});\n});\n\nwindow.handleKeyEscape = function(e) {\n\tif(window.hasMenu()) {\n\t\twindow.destroyMenu();\n\t\te.preventDefault();\n\t} else {\n\t\tremoveTextareas();\n\t}\n}\n\nwindow.handleKeySlash = function(e) {\n\tcreateMenuDefault();\n}\n\nwindow.handleKeyArrowUp = function(e){\n\tif(window.hasMenu()) {\n\t\twindow.prevItemSelectedMenu();\n\t\te.preventDefault();\n\t\treturn;\n\t}\n\n\tif(e.shiftKey && e.altKey){\n\t\tvar block = e.target.closest('[data-block]');\n\t\tvar parent = block.parentNode;\n\t\tvar prev = block.previousSibling;\n\t\tif(!prev) return;\n\t\tparent.removeChild(block);\n\t\tparent.insertBefore(block,prev);\n\t\treturn editBlock(block);\n\t}\n\n\tif(isFirstLine(e.target)) {\n\t\te.preventDefault();\n\t\tselectPrev();\n\t}\n}\nwindow.handleKeyArrowDown = function(e){\n\tif(window.hasMenu()) {\n\t\twindow.nextItemSelectedMenu();\n\t\te.preventDefault();\n\t\treturn;\n\t}\n\n\tif(e.shiftKey && e.altKey){\n\t\tvar block = e.target.closest('[data-block]');\n\t\tvar parent = block.parentNode;\n\t\tvar next = block.nextSibling;\n\t\tif(!next) return;\n\t\tparent.removeChild(block);\n\t\tvar nextNext = next.nextSibling;\n\t\tif(nextNext){\n\t\t\tparent.insertBefore(block,nextNext);\n\t\t} else {\n\t\t\tparent.appendChild(block);\n\t\t}\n\t\treturn editBlock(block);\n\t}\n\n\tif(isLastLine(e.target)) {\n\t\te.preventDefault();\n\t\tselectNext();\n\t}\n}\n\nwindow.handleKeyEnter = function(e){\n\te.preventDefault();\n\tif(window.hasMenu()) {\n\t\twindow.callSelectItemMenu();\n\t\treturn;\n\t}\n\tvar textarea = e.target;\n\tvar block = textarea.closest('[data-block]');\n\tvar text = textarea.value;\n\n\tvar li = document.createElement('li');\n\tli.setAttribute('data-block','');\n\tli.setAttribute('data-temp-id',getTempId());\n\tvar p = document.createElement('p');\n\tp.innerHTML = unmarked(text.substr(0,textarea.selectionStart));\n\tli.appendChild(p);\n\n\tblock.parentNode.insertBefore(li,block);\n\n\ttextarea.value = text.substr(textarea.selectionEnd);\n\ttextarea.selectionStart = 0;\n\ttextarea.selectionEnd = 0;\n}\n\nwindow.handleKeyCtrlEnter = function(e){\n\te.preventDefault();\n\tvar textarea = e.target;\n\tsetTodo(textarea);\n\tsetInputHeight(textarea);\n}\n\nwindow.handleKeyBackspace = function(e){\n\tvar textarea = e.target;\n\tif(textarea.selectionStart == 0 && textarea.selectionEnd==0) {\n\t\tvar block = textarea.closest('[data-block]');\n\n\t\t//get previous\n\t\tvar prevBlock = getPrevBlock(block);\n\t\tif(!prevBlock) return;\n\n\t\te.preventDefault();\n\t\t//grab text,\n\t\tvar text = textarea.value;\n\n\t\tvar prevText = unmarked(prevBlock.querySelector('p').innerHTML);\n\n\t\t//delete previous block\n\t\tprevBlock.parentNode.removeChild(prevBlock);\n\n\t\t//append text\n\t\ttextarea.value = prevText + textarea.value;\n\t\tsetInputHeight(textarea);\n\n\t\ttextarea.selectionStart = prevText.length;\n\t\ttextarea.selectionEnd = prevText.length;\n\n\t}\n}\n\n\n\nwindow.handleKeyDelete = function(e){\n\tvar textarea = e.target;\n\tif(textarea.selectionStart == textarea.value.length && textarea.selectionEnd==textarea.value.length) {\n\t\tvar block = textarea.closest('[data-block]');\n\t\tvar text = textarea.value;\n\n\t\t//get next block\n\t\tvar nextBlock = getNextBlock(block);\n\t\tif(!nextBlock) return;\n\n\t\te.preventDefault();\n\n\n\t\t//if next block is a child, grab its text and merge with current block\n\t\tif(nextBlock == block.querySelector('[data-block]')){\n\t\t\tvar nextvalue = unmarked(nextBlock.querySelector('p').innerHTML);\n\t\t\tnextBlock.parentNode.removeChild(nextBlock);\n\t\t\ttextarea.value += nextvalue;\n\t\t\tsetInputHeight(textarea);\n\t\t} else {\n\t\t\tblock.parentNode.removeChild(block);\n\t\t\teditBlock(nextBlock);\n\t\t\ttextarea = $('textarea');\n\t\t\ttextarea.value = text + textarea.value;\n\t\t}\n\t\ttextarea.selectionStart = text.length;\n\t\ttextarea.selectionEnd = text.length;\n\n\t}\n}\n\n\n\nwindow.handleTab = function(e){\n\te.preventDefault();\n\tvar textarea = e.target;\n\tvar block = textarea.closest('[data-block]');\n\n\t//get prev\n\tvar prevBlock = block.previousSibling;\n\tif(!prevBlock) return;\n\n\tvar ul = prevBlock.querySelector('ul');\n\tif(!ul){\n\t\tul = document.createElement('ul');\n\t\tprevBlock.appendChild(ul);\n\t}\n\n\tblock.parentNode.removeChild(block);\n\n\tul.appendChild(block);\n\t$('textarea').focus();\n\n}\n\n\n\nwindow.handleShiftTab = function(e){\n\te.preventDefault();\n\tvar textarea = e.target;\n\tvar block = textarea.closest('[data-block]');\n\n\tvar ul = block.parentNode;\n\tif(ul.tagName!='UL') return;\n\n\tvar parentBlock = ul.closest('[data-block]');\n\n\tvar reference = parentBlock.nextSibling;\n\n\tul.removeChild(block);\n\tif(ul.querySelectorAll('li').length==0){\n\t\tparentBlock.removeChild(ul);\n\t}\n\n\tif(reference){\n\t\tparentBlock.parentNode.insertBefore(block,reference);\n\t} else {\n\t\tparentBlock.parentNode.appendChild(block);\n\t}\n\n\t$('textarea').focus();\n\n\n}\n","<template>\n<div class=\"wrapper-app\">\n\t<aside>\n\t\t<router-link to=\"/\">Dashboard</router-link>\n\t</aside>\n\t<main>\n\t\t<router-view :key=\"$route.fullPath\" />\n\n\t</main>\n\t<loader/>\n</div>\n</template>\n\n<script>\n\n\nimport Loader from './components/Loader.vue';\n\nexport default {\n\tname: 'app',\n\tcomponents: {\n\t\tLoader\n\t},\n\tdata() {\n\t\treturn {\n\t\t}\n\t},\n\tcomputed:{\n\t\tisAuthenticated:function(){\n\t\t\treturn this.$store.getters.isAuthenticated\n\t\t},\n\t\teditingBlockId(){\n\t\t\treturn this.$store.state.editingBlockId;\n\t\t},\n\t},\n\tmethods:{\n\n\t},\n\tcreated() {\n\t\tvar today = new Date();\n\t\tvar dd = String(today.getDate()).padStart(2, '0');\n\t\tvar mm = String(today.getMonth() + 1).padStart(2, '0');\n\t\tvar yyyy = today.getFullYear();\n\n\t\ttoday = `${yyyy}-${mm}-${dd}`;\n\t\tif(this.$route.fullPath == '/') {\n\t\t\tthis.$router.push(`/${today}`);\n\t\t}\n\t},\n\n}\n\n\n\n</script>\n","<template>\n\n\t<div v-show=\"isLoading\" class=\"ajax-loader\">\n\t\t<div class=\"loader-circle\">\n\t\t\t<div class=\"loader-line-mask\">\n\t\t\t\t<div class=\"loader-line\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"loader-img\"></div>\n\t\t</div>\n\t\t<p v-if=\"loadingMessage\">{{loadingMessage}}</p>\n\t</div>\n</template>\n\n<style>\n\n\n.ajax-loader {\n  position: fixed;\n  background: rgba(255,255,255,.7);\n  top:0;\n  left:0;\n  width: 100%;\n  height: 100%;\n  z-index: 999999;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color:#fff;\n}\n\n.ajax-loader .loader-circle {\n  position:relative;\n  width:120px;\n  height:120px;\n  border-radius: 50%;\n  box-shadow: inset 0 0 0 1px rgba(255,255,255,.1);\n}\n\n.ajax-loader .loader-line-mask {\n  position: absolute;\n  top:0;\n  left:0;\n  width:60px;\n  height:120px;\n  overflow: hidden;\n  transform-origin:60px 60px;\n  -webkit-mask-image: -webkit-linear-gradient(top, rgba(0,0,0,1), rgba(0,0,0,0));\n  animation: rotate 1.2s infinite linear;\n}\n.ajax-loader .loader-line {\n  width:120px;\n  height:120px;\n  border-radius: 50%;\n  box-shadow: inset 0 0 0 3px #000;\n}\n.ajax-loader .loader-img {\n  position: relative;\n  top: 30px;\n  left: 30px;\n  display: block;\n  width:60px;\n  height:60px;\n  /* background:url(../../public/logo.png) no-repeat center; */\n  background-size:contain;\n}\n.ajax-loader p{\n  font-weight: bold;\n  color:#000;\n  margin-top:20px;\n}\n@keyframes rotate {\n  0% { transform: rotate(0deg);}\n  100% { transform: rotate(360deg);}\n}\n\n\n\n\t</style>\n\n\n<script>\n\n\texport default {\n\t\tcomputed:{\n\n\t\t\tisLoading(){\n\t\t\t\treturn this.$store.state.loading\n\t\t\t},\n\t\t\tloadingMessage(){\n\t\t\t\treturn this.$store.state.loadingMessage\n\t\t\t}\n\n\t\t}\n\t}\n\n</script>\n","import { render } from \"./Loader.vue?vue&type=template&id=6f5b6b41\"\nimport script from \"./Loader.vue?vue&type=script&lang=js\"\nexport * from \"./Loader.vue?vue&type=script&lang=js\"\n\nimport \"./Loader.vue?vue&type=style&index=0&id=6f5b6b41&lang=css\"\nscript.render = render\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=0a04b83c\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n\n\t<div class=\"dashboard\">\n\n\t\t<!-- <app-header /> -->\n\n\t\t<div class=\"container\">\n\t\t\t<div class=\"d-flex align-items-center justify-content-between my-3\">\n\t\t\t\t<h1>Notes</h1>\n\t\t\t</div>\n\t\t\t<form @submit.prevent=\"newNote\">\n\t\t\t\tnew note: <input v-model=\"note.name\" required>\n\t\t\t</form>\n\t\t\t<ul class=\"notes\">\n\t\t\t\t<li v-for=\"note in notes\" :key=\"note.id\">\n\t\t\t\t\t<router-link :to=\"'/'+note.slug\">{{note.slug}}</router-link>\n\t\t\t\t</li>\n\t\t\t</ul>\n\n\t\t</div>\n\n\t</div>\n\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n\tname: 'dashboard',\n\tdata() {\n\t\treturn {\n\t\t\tnote:{\n\t\t\t\t\tname:''\n\t\t\t}\n\t\t}\n\t},\n\tcomputed:{\n\t\tnotes(){\n\t\t\treturn this.$store.state.notes\n\t\t}\n\t},\n\tmethods:{\n\n\t\tnewNote(){\n\t\t\tif(!this.note.name) return false;\n\t\t\tthis.$store.dispatch('startLoading');\n\t\t\tvar data = this.note;\n\t\t\taxios({\n\t\t\t\tmethod:'post',\n\t\t\t\turl: '/api/notes',\n\t\t\t\tdata:data,\n\t\t\t}).then((res) => {\n\t\t\t\tthis.$router.push({path:res.data.slug});\n\t\t\t\tthis.$store.dispatch('getNotesIndex');\n\t\t\t}).finally(()=>{\n\t\t\t\tthis.$store.dispatch('stopLoading');\n\t\t\t});\n\n\t\t}\n\n\n\n\t},\n\n\tmounted(){\n\t\tthis.$store.dispatch('getNotesIndex');\n\t},\n\n}\n\n</script>\n","import { render } from \"./Dashboard.vue?vue&type=template&id=93e4cb9a\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n\t<div>\n\t\t<div class=\"container\" v-if=\"note_id\" :data-note=\"note_id\">\n\t\t\t<button onclick=\"saveAll()\">save</button>\n\t\t\t<div class=\"my-3\">\n\t\t\t\t<h1>{{ note.name }}</h1>\n\t\t\t</div>\n\t\t\t<div class=\"blocks\">\n\t\t\t\t<div class=\"vanilla\"><ul></ul></div>\n\t\t\t</div>\n\n\t\t\t<ul class=\"references\" v-if=\"note.references\">\n\t\t\t\t<li v-for=\"(block,index) in references\" :key=\"index\">\n\t\t\t\t\t<router-link :to=\"'/'+block.note.slug\">{{block.note.name}}</router-link>\n\t\t\t\t\t<p>{{block.text}}</p>\n\t\t\t\t</li>\n\t\t\t</ul>\n\n\n\n\t\t</div>\n\t</div>\n</template>\n<script>\nimport axios from \"axios\";\nimport BlockList from \"@/components/BlockList\";\n\nexport default {\n\tname: \"note\",\n\tcomponents: {\n\t\tBlockList\n\t},\n\n\tprops: [\"slug\"],\n\tdata() {\n\t\treturn {\n\t\t\tnote_id:null,\n\t\t};\n\t},\n\tcomputed: {\n\t\tnotes() {\n\t\t\treturn this.$store.getters.notes;\n\t\t},\n\t\tnote() {\n\t\t\treturn this.$store.state.note;\n\t\t},\n\t\treferences(){\n\t\t\tif(!this.notes || !this.note.references) return false;\n\t\t\tvar blocks = this.note.references;\n\n\t\t\treturn blocks.map(block=>{\n\t\t\t\tblock.note = this.notes[block.note_id];\n\t\t\t\treturn block;\n\t\t\t})\n\n\t\t}\n\t},\n\tmethods: {\n\n\t\taddHistory(){ window.addHistory() },\n\t\trevertHistory(){ window.revertHistory() },\n\t},\n\tmounted() {\n\n\t\tif(!this.notes){\n\t\t\tthis.$store.dispatch('getNotesIndex');\n\t\t}\n\n\t\tthis.$store.dispatch(\"getNote\", this.slug).then(res => {\n\t\t\tthis.note_id = res.data.id;\n\t\t\tthis.$nextTick(()=>{\n\t\t\t\thydrate(res.data.id, res.data.blocks);\n\t\t\t\tif(res.data.blocks.length==0){\n\t\t\t\t\twindow.newBlock(res.data.id);\n\t\t\t\t}\n\t\t\t})\n\t\t});\n\t},\n};\n</script>\n\n<style scoped></style>\n","<template>\n\t<ul :data-level=\"level\">\n\t\t<li v-for=\"block in levelBlocks\" :key=\"block.id\">\n\t\t\t<div class=\"block-content\">\n\t\t\t\t<textarea\n\t\t\t\t\t:key=\"block.id\"\n\t\t\t\t\tv-if=\"editingBlockId !== null && editingBlockId == block.id\"\n\t\t\t\t\tv-model=\"block.text\"\n\t\t\t\t\t@input=\"setLayerHeight\"\n\t\t\t\t\t@focus=\"setLayerHeight\"\n\t\t\t\t\t@keydown.enter=\"handleEnter($event, block)\"\n\t\t\t\t></textarea>\n\t\t\t\t<p @click=\"editBlock(block.id)\" v-html=\"marked(block.text)\"></p>\n\t\t\t</div>\n\t\t\t<block-list\n\t\t\t\t:blocks=\"blocks\"\n\t\t\t\t:level=\"level + 1\"\n\t\t\t\t:parent_id=\"block.id\"\n\t\t\t\t:note_id=\"note_id\"\n\t\t\t/>\n\t\t</li>\n\t</ul>\n</template>\n<script>\nimport axios from \"axios\";\n\nexport default {\n\tname: \"BlockList\",\n\tcomponents: {},\n\tprops: [\"blocks\", \"level\", \"parent_id\", \"note_id\"],\n\tdata() {\n\t\treturn {};\n\t},\n\tcomputed: {\n\t\teditingBlockId() {\n\t\t\treturn this.$store.state.editingBlockId;\n\t\t},\n\t\tlevelBlocks() {\n\t\t\treturn this.blocks.filter(block => block.parent_id == this.parent_id);\n\t\t}\n\t},\n\tmethods: {\n\t\thandleEnter(e) {\n\t\t\tconsole.log(\"enter\");\n\t\t\tif (e.ctrlKey) {\n\t\t\t\tvar block = this.$store.getters.block;\n\t\t\t\tif (!block.text.match(/^\\[\\[(TODO|DONE)\\]\\]/)) {\n\t\t\t\t\tblock.text = \"[[TODO]] \" + block.text;\n\t\t\t\t} else if (block.text.match(/^\\[\\[TODO\\]\\]/)) {\n\t\t\t\t\tblock.text = block.text.replace(/^\\[\\[TODO\\]\\]/, \"[[DONE]]\");\n\t\t\t\t} else if (block.text.match(/^\\[\\[DONE\\]\\]/)) {\n\t\t\t\t\tblock.text = block.text.replace(/^\\[\\[DONE\\]\\] */, \"\");\n\t\t\t\t}\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!e.shiftKey) {\n\t\t\t\tthis.$store.dispatch(\"saveAndNew\");\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\teditBlock(block_id) {\n\t\t\tconsole.log(\"starteditblock\");\n\t\t\tthis.$store.dispatch(\"editBlock\", block_id);\n\t\t\t//this.$nextTick(function(){\n\t\t\t//    document.querySelector('textarea').focus()\n\t\t\t//})\n\t\t},\n\t},\n\tmounted() {}\n};\n</script>\n\n<style></style>\n","import { render } from \"./BlockList.vue?vue&type=template&id=14b0fc65\"\nimport script from \"./BlockList.vue?vue&type=script&lang=js\"\nexport * from \"./BlockList.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Note.vue?vue&type=template&id=1ad4d231\"\nimport script from \"./Note.vue?vue&type=script&lang=js\"\nexport * from \"./Note.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n\n<div>\n\n\n\n  <div class=\"container\">\n\n      <div class=\"my-3\">\n        <h1>{{project.name}}</h1>\n        <p class=\"text-muted\"><a :href=\"url(project.slug)\" target=\"_blank\">{{url(project.slug)}}</a></p>\n\n\n        <div class=\"row\">\n          <div class=\"col\">\n            <dl>\n              <dt>Domain</dt>\n              <dd>\n                <span>{{ project.domain || '(not set)'}}</span>\n                <button class=\"btn ml-1  btn-sm btn-light\" @click=\"openModalDomain\">Configure</button>\n              </dd>\n            </dl>\n          </div>\n          <div class=\"col\" v-if=\"project.domain\">\n            <dl>\n              <dt>State</dt>\n              <dd>\n                <span v-if=\"project.is_published\">\n                  <a @click.prevent=\"openModalUnpublish\">\n                    <i class=\"state-published\"></i>\n                    Published\n                  </a>\n                </span>\n                <span v-if=\"!project.is_published\">\n                  <a @click.prevent=\"openModalPublish\">\n                    <i class=\"state-unpublished\"></i>\n                    Unpublished\n                  </a>\n                </span>\n              </dd>\n            </dl>\n          </div>\n        </div>\n\n        <router-link class=\"btn btn-light btn-sm\" :to=\"'/project/'+project.id+'/edit'\">Edit project</router-link>\n        <router-link class=\"btn btn-light btn-sm\" :to=\"{name:'project-tables',params:{project_id:project.id}}\">Admin</router-link>\n        <router-link v-if=\"project.domain\" class=\"btn btn-light btn-sm\" :to=\"{name:'form-history',params:{project_id:project.id}}\">Form history</router-link>\n\n        <p v-if=\"project.tables && project.tables.length>0\" class=\"text-muted\"><a :href=\"urladmin()\" target=\"_blank\">Painel Admin</a></p>\n\n      </div>\n\n      <h3>Pages</h3>\n      <table class=\"table\">\n        <tbody>\n          <tr v-for=\"page in project.pages\">\n            <td>{{ page.name }}</td>\n            <td class=\"text-nowrap\">\n              {{ page.slug }}\n              <a class=\"ml-2\" :href=\"url(project.slug,page.slug)\" target=\"_blank\">\n                <svg class=\"icosvg\" viewBox=\"0 0 24 24\">\n                  <path fill=\"currentColor\" d=\"M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z\" />\n                </svg>\n              </a>\n            </td>\n            <td class=\"text-right text-nowrap\">\n              <router-link class=\"btn btn-sm btn-primary mr-2\" :to=\"'/project/'+project.id+'/'+page.id\">\n                <span class=\"is-desktop\"><span v-if=\"!page.output\">start building page</span><span v-else>edit page</span></span>\n                <svg class=\"is-mobile icosvg\" viewBox=\"0 0 24 24\">\n                    <path fill=\"currentColor\" d=\"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z\" />\n                </svg>\n              </router-link>\n              <button class=\"btn btn-sm btn-link has-text-danger\" @click=\"removePage(page)\"><svg class=\"icosvg\" viewBox=\"0 0 24 24\">\n                <path fill=\"currentColor\" d=\"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z\" />\n              </svg></button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <button class=\"btn btn-primary\" @click=\"newPage\">New page</button>\n\n\n\n      <button v-if=\"isAdmin\" class=\"btn btn-warning\" @click=\"openModalSaveTemplate\">save as template</button>\n\n   </div>\n\n\n\n\n\n</div>\n\n</template>\n<script>\n\nimport axios from 'axios';\n\n\nexport default {\n  name: 'project',\n  components:{\n\n  },\n  // prop:['id'],\n  props:['id'],\n  data() {\n    return {\n        modalDomain:false,\n        modalTemplate:false,\n        modalPublish:false,\n        modalUnpublish:false,\n\n    }\n  },\n  computed:{\n    project(){\n      return this.$store.getters.project;\n    },\n    isAdmin(){\n      return this.$store.getters.user.is_admin;\n    },\n  },\n  methods:{\n    openModalSaveTemplate(){\n      this.modalTemplate = true;\n    },\n    openModalDomain(){\n      this.modalDomain = true;\n    },\n    openModalUnpublish(){\n      this.modalUnpublish = true;\n      },\n    openModalPublish(){\n      this.modalPublish = true;\n    },\n    url(slug,page){\n      var url = process.env.VUE_APP_PROTOCOL+'://'+slug+'.'+process.env.VUE_APP_BASEURL;\n      if(page) url += '/'+page.replace(/\\/$/,'')\n      return url;\n    },\n    urladmin(){\n      var domain = this.project.domain;\n      if(domain){\n        var url = 'https://'+domain;\n      } else {\n        var url = process.env.VUE_APP_PROTOCOL+'://'+this.project.slug+'.'+process.env.VUE_APP_BASEURL;\n      }\n\n      url += '/admin?token='+this.project.token;\n      return url;\n    },\n    dataBr(data){\n      var d = new Date(data);\n      return ('0'+d.getDate()).substr(-2) + '/' +('0'+(d.getMonth()+1)).substr(-2)+'/'+d.getFullYear();\n    },\n\n    getProject(){\n      this.$store.dispatch('startLoading');\n      this.$store.dispatch('getProject',this.id).catch(res=>{\n        toastr('No permisson to view this project','Error','#cc0000');\n        this.$router.replace('/');\n      }).finally(()=>{\n        this.$store.dispatch('stopLoading');\n      })\n    },\n\n    newPage(){\n      let name = prompt('Page name');\n      if(!name) return;\n\n      axios({\n        method: 'post',\n        url: '/api/pages',\n        data: {\n          name:name,\n          project_id:this.id,\n        }\n      }).then((res) => {\n        this.$router.push('/project/'+this.id+'/'+res.data.id);\n//      let project = res.data;\n//      this.editProject(project.id);\n      });\n\n    },\n    removePage(page){\n      if(!confirm('Remove page?')) return;\n      axios({\n        method: 'delete',\n        url: '/api/page/'+page.id,\n      }).then((res) => {\n        this.getProject();\n        //router push /project/'+project.id+'/'+page.id\n//        let project = res.data;\n//        this.editProject(project.id);\n      });\n\n    },\n\n  },\n  mounted(){\n  \tconsole.log('id',this.id);\n    this.getProject();\n  }\n\n}\n\n\n\n</script>\n\n<style scoped>\n\n\n\n\n\n\n</style>\n","import { render } from \"./Block.vue?vue&type=template&id=fc4871f8&scoped=true\"\nimport script from \"./Block.vue?vue&type=script&lang=js\"\nexport * from \"./Block.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-fc4871f8\"\n\nexport default script","<template>\n\n  <div class=\"container\">\n\n    <h1 class=\"mt-5 mb-3 text-center\">Bullet Text</h1>\n\n    <div v-if=\"error\" class=\"alert alert-danger\">{{ error }}</div>\n\n\n\n    <div class=\"row\">\n      <div class=\"col-lg-6\">\n\n        <div class=\"card\">\n          <div class=\"card-header\">Login</div>\n          <div class=\"card-body\">\n            <form @submit.prevent=\"onSubmitLogin\">\n              <div class=\"form-group\">\n                <input type=\"email\" placeholder=\"E-mail\" class=\"form-control\" v-model=\"login.email\" required>\n              </div>\n              <div class=\"form-group\">\n                <input type=\"password\" placeholder=\"Password\" class=\"form-control\" v-model=\"login.password\" required>\n                <small class=\"form-text text-muted text-right\"><router-link to=\"forgot\">forgot password</router-link></small>\n              </div>\n              <button class=\"btn btn-primary\" type=\"submit\">Login</button>\n            </form>\n          </div>\n\n\n        </div>\n\n\n      </div>\n      <div class=\"col-lg-6\">\n        <div class=\"card\">\n          <div class=\"card-header\">Register</div>\n          <div class=\"card-body\">\n            <form @submit.prevent=\"onSubmitRegister\">\n              <div class=\"form-group\">\n                <input type=\"text\" placeholder=\"Name\" v-model=\"register.name\" class=\"form-control\" required>\n              </div>\n              <div class=\"form-group\">\n                <input type=\"text\" placeholder=\"E-mail\" v-model=\"register.email\" class=\"form-control\" required>\n              </div>\n              <div class=\"form-group\">\n                <input type=\"password\" placeholder=\"Password\" v-model=\"register.password\" class=\"form-control\" required>\n              </div>\n              <button class=\"btn btn-primary\" type=\"submit\">Register</button>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n\n\n</template>\n<style scoped>\n\n\n\n</style>\n\n<script>\n\n  import axios from 'axios';\n\n  export default {\n  // props:['id','page_id'],\n  data() {\n    return {\n      error:'',\n      login:{\n        email:'',\n        password:'',\n      },\n      register:{\n        name:'',\n        email:'',\n        password:'',\n      }\n    }\n  },\n\n  methods:{\n\n    onSubmitLogin(){\n      this.error = '';\n      axios({\n        method: 'post',\n        url: '/api/login',\n        data: this.login\n      }).then((res)=>{\n        this.$store.dispatch('setUser',res.data)\n        let intendedUrl = this.$store.state.intendedUrl;\n        if(intendedUrl=='/login' || !intendedUrl) intendedUrl = '/';\n        this.$router.push({path:intendedUrl})\n\n      }).catch((error)=>{\n        this.error = error.response.data;\n      });\n\n    },\n\n    onSubmitRegister(){\n      this.error = '';\n      axios({\n        method: 'post',\n        url: '/api/register',\n        data: this.register\n      }).then((res)=>{\n        this.$store.dispatch('setUser',res.data)\n\n        let intendedUrl = this.$store.state.intendedUrl;\n        if(intendedUrl=='/login' || !intendedUrl) intendedUrl = '/';\n        this.$router.push({path:intendedUrl})\n\n      }).catch((error)=>{\n        this.error = error.response.data;\n      });\n\n    },\n\n  },\n  mounted(){\n  }\n\n}\n\n\n\n</script>\n\n","import { render } from \"./Login.vue?vue&type=template&id=2650618a&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-2650618a\"\n\nexport default script","<template>\n\n  <div class=\"container\">\n\n<h1 class=\"mt-5 mb-3 text-center\">Bullet Text</h1>\n\n<div v-if=\"error\" class=\"alert alert-danger\">{{ error }}</div>\n\n<div class=\"w-50 mx-auto\">\n<div class=\"card\">\n  <div class=\"card-header\">Password recovery</div>\n  <div class=\"card-body\">\n\n        <form @submit.prevent=\"onSubmit\">\n            <div class=\"form-group\">\n              <label>E-mail</label>\n              <input type=\"text\" class=\"form-control\" v-model=\"login.email\" required>\n            </div>\n          <button type=\"submit\" class=\"btn btn-primary\">Recover</button>\n        </form>\n\n\n  </div>\n  </div>\n  <p class=\"text-center mt-3\">\n        <router-link to=\"login\">Back to login</router-link>\n        </p>\n\n  </div>\n  </div>\n\n\n</template>\n<style scoped>\n\n\n</style>\n\n<script>\n\nimport axios from 'axios';\n\nexport default {\n  // props:['id','page_id'],\n  data() {\n    return {\n      error:'',\n      login:{\n        email:'',\n      },\n    }\n  },\n\n  methods:{\n\n    onSubmit(){\n      this.error = '';\n      axios({\n        method: 'post',\n        url: '/api/forgot',\n        data: this.login\n      }).then((res)=>{\n          alert('mensagem enviada');\n      }).catch((error)=>{\n          this.error = error.response.data;\n      });\n\n    },\n  },\n  mounted(){\n  }\n\n}\n\n\n\n</script>\n\n","import { render } from \"./Forgot.vue?vue&type=template&id=6e1ae4d9&scoped=true\"\nimport script from \"./Forgot.vue?vue&type=script&lang=js\"\nexport * from \"./Forgot.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-6e1ae4d9\"\n\nexport default script","<template>\n\n  <div class=\"container\">\n\n<h1 class=\"mt-5 mb-3 text-center\">Bullet Text</h1>\n\n<div v-if=\"error\" class=\"alert alert-danger\">{{ error }}</div>\n\n<div class=\"w-50 mx-auto\">\n<div class=\"card\">\n  <div class=\"card-header\">Set a new password</div>\n  <div class=\"card-body\">\n\n        <form @submit.prevent=\"onSubmit\">\n            <div class=\"form-group\">\n              <label>E-mail</label>\n              <input type=\"text\" class=\"form-control\" v-model=\"login.email\" readonly>\n             </div>\n            <div class=\"form-group\">\n              <label>New password</label>\n              <input type=\"password\" class=\"form-control\" v-model=\"login.password\">\n             </div>\n            <!-- <p><label>token:</label><input type=\"text\" v-model=\"login.token\"></p> -->\n        <button type=\"submit\" class=\"btn btn-primary\">Save</button>\n        </form>\n\n  </div>\n  </div>\n  </div>\n  </div>\n\n\n</template>\n<style scoped>\n\n\n</style>\n\n<script>\n\nimport axios from 'axios';\n\nexport default {\n  // props:['id','page_id'],\n  data() {\n    return {\n      error:'',\n      login:{\n        email:'',\n        password:'',\n        token:'',\n      },\n    }\n  },\n\n  methods:{\n\n    onSubmit(){\n      this.error = '';\n      axios({\n        method: 'post',\n        url: '/api/new-password',\n        data: this.login\n      }).then((res)=>{\n          alert('New password successfully set');\n          this.$router.push('login')\n      }).catch((error)=>{\n          this.error = error.response.data;\n      });\n\n    },\n\n  },\n  mounted(){\n      var query = window.location.search.replace(/^\\?/,'');\n      var queryArr = query.split('&');\n      var obj = {};\n      for(var i in queryArr){\n          var parts = queryArr[i].split('=');\n          obj[parts[0]] = parts[1];\n      }\n\n      this.login.email = decodeURIComponent(obj.email)\n      this.login.token = decodeURIComponent(obj.token)\n  }\n\n}\n\n\n\n</script>\n\n","import { render } from \"./NewPassword.vue?vue&type=template&id=52fcf5f6&scoped=true\"\nimport script from \"./NewPassword.vue?vue&type=script&lang=js\"\nexport * from \"./NewPassword.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-52fcf5f6\"\n\nexport default script","/* eslint-disable no-console */\nimport { createRouter, createWebHistory } from 'vue-router'\n\nimport axios from 'axios';\nimport store from '@/store';\n\nimport Dashboard from './views/Dashboard.vue'\nimport Note from './views/Note.vue'\nimport Block from './views/Block.vue'\n\nimport Login from './views/Login.vue'\nimport Forgot from './views/Forgot.vue'\nimport NewPassword from './views/NewPassword.vue'\n\n\nconst router = createRouter({\n\thistory:createWebHistory(process.env.BASE_URL),\n\troutes: [\n\t\t{ path: '/', name: 'dashboard', component: Dashboard, meta: {restricted:true}, },\n\n\t\t{ path: '/login', name: 'login', component: Login, props: true, meta: {restricted:false}, },\n\t\t{ path: '/forgot', name: 'forgot', component: Forgot, props: true, meta: {restricted:false}, },\n\t\t{ path: '/new-password', name: 'new-password', component: NewPassword, props: true, meta: {restricted:false}, },\n\n\t\t{ path: '/:slug', name: 'note', component: Note, props: true, meta: {restricted:true}, },\n\t\t{ path: '/:slug/:id', name: 'block', component: Block, props: true, meta: {restricted:true}, },\n\n\t]\n})\n\n\nrouter.beforeEach((to, from, next) => {\n/*  window.scrollTo(0,0); */\n\n\tconsole.log('route beforeeach to: ',to.path);\n\n\tif(edited && $('[data-note]')){\n\t\tsaveAll();\n\t}\n\n\tif(to.path=='/logout'){\n\n\t\taxios({\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/logout',\n\t\t}).then((res)=>{\n\t\t\tstore.dispatch('setUser',{})\n\t\t}).catch((error)=>{\n\t\t\tconsole.log('error',error);\n\t\t});\n\n\t\treturn next('/login');\n\t}\n\n\tif(!store.getters.isAuthenticated && to.meta.restricted){\n\t\tstore.dispatch('setIntendedUrl',to.path);\n\t\treturn next('/login');\n\t}\n\n\tnext();\n\n});\n\nexport default router;\n","import Vuex from 'vuex'\nimport axios from 'axios';\nimport router from '@/router';\n\nexport default Vuex.createStore({\n\tstate: {\n\t\tuser: {\n\t\t\tid:null,\n\t\t\temail:'',\n\t\t\tis_admin:false,\n\t\t},\n\t\tauthInitialized:false,\n\t\tintendedUrl:'',\n\t\tnotes:[],\n\t\tnote:{},\n\t\tblocks:[],\n\t\tloading: 0,\n\t\tloadingMessage: '',\n\t},\n\tmutations: {\n\t\tstartLoading(state) {\n\t\t\tstate.loading += 1;\n\t\t},\n\t\tstopLoading(state) {\n\t\t\tif(state.loading>0) state.loading -= 1;\n\t\t},\n\t\tsetLoadingMessage(state, payload) {\n\t\t\tstate.loadingMessage = payload;\n\t\t},\n\t\tsetIntendedUrl (state,payload) {\n\t\t\tstate.intendedUrl = payload;\n\t\t},\n\t\tauthInitialized (state) {\n\t\t\tstate.authInitialized = true;\n\t\t},\n\t\tsetUser (state,payload) {\n\t\t\t\tstate.user = payload;\n\t\t},\n\t\tsetNotes (state,payload) {\n\t\t\tstate.notes = payload;\n\t\t},\n\t},\n\tactions: {\n\t\tstartLoading({commit}){\n\t\t\tcommit('startLoading')\n\t\t},\n\t\tstopLoading({commit}){\n\t\t\tcommit('stopLoading')\n\t\t\tif(this.state.loading==0 && this.state.loadingMessage) {\n\t\t\t\tcommit('setLoadingMessage','');\n\t\t\t}\n\t\t},\n\t\tsetLoadingMessage({commit},{message}){\n\t\t\tcommit('setLoadingMessage',message)\n\t\t},\n\t\tsetUser ({commit},user) {\n\t\t\tcommit('setUser',user)\n\t\t},\n\t\tsetIntendedUrl ({commit},url) {\n\t\t\tcommit('setIntendedUrl',url)\n\t\t},\n\t\tauthInitialized ({commit},bool) {\n\t\t\tcommit('authInitialized',bool)\n\t\t},\n\t\tgetNotesIndex({commit}){\n\t\t\tconsole.log('getNotesIndex')\n\t\t\tthis.dispatch('startLoading');\n\t\t\taxios({\n\t\t\t\turl: '/api/notes',\n\t\t\t}).then((res) => {\n\t\t\t\tcommit('setNotes',res.data)\n\t\t\t}).finally(()=>{\n\t\t\t\tthis.dispatch('stopLoading');\n\t\t\t});\n\t\t},\n\t\tgetNote({state},slug){\n\n\t\t\tthis.dispatch('startLoading');\n\t\t\treturn axios({\n\t\t\t\t\turl: '/api/notes/'+slug,\n\t\t\t}).then(res=>{\n\t\t\t\t\tstate.note = res.data;\n\t\t\t\t\tstate.blocks = res.data.blocks;\n\t\t\t\t\treturn res;\n\n\t\t\t}).catch(res=>{\n\t\t\t\t\ttoastr('No permisson to view this project','Error','#cc0000');\n\t\t\t\t\tthis.$router.replace('/');\n\t\t\t}).finally(()=>{\n\t\t\t\t\tthis.dispatch('stopLoading');\n\t\t\t})\n\n\n\t\t},\n\n\t},\n\n\n\n\tgetters: {\n\t\tisAuthenticated:(state) => state.authInitialized && state.user &&  state.user.id,\n\n\t\tblocks:(state,getters) => {\n\t\t\t\treturn getters.sort(state.blocks);\n\t\t},\n\t\tnotes:(state) => {\n\t\t\tif(state.notes.length==0) return false;\n\t\t\tvar dict = {};\n\t\t\tstate.notes.forEach(note=>{\n\t\t\t\tdict[note.id] = note;\n\t\t\t});\n\t\t\treturn dict;\n\t\t},\n\t\tblock:(state) => {\n\t\t\t\tif(state.editingBlockId===null) return null;\n\t\t\t\treturn state.blocks.find(i=>i.id==state.editingBlockId);\n\t\t}\n\t}\n});\n","import axios from \"axios\";\nimport store from '@/store';\nimport Router from '@/router';\n\nvar note_id;\nvar history = [];\nvar selectedBlock = null;\n\nwindow.$$ = window.$$ || function(selector, context) {\n\tcontext = context || document;\n\tvar elements = context.querySelectorAll(selector);\n\treturn Array.prototype.slice.call(elements);\n}\nwindow.$ = window.$ || function(selector, context) {\n\tcontext = context || document;\n\treturn context.querySelector(selector);\n}\n\nwindow.addHistory = function(data){\n\tif(!data) return;\n\n\tif(history.length && JSON.stringify(data) == JSON.stringify(history[history.length-1])) return; //same\n\thistory.push(data);\n\tconsole.log('history added',data);\n\n\tif(history.length>10) {\n\t\thistory.shift();\n\t}\n\n}\n\nwindow.revertHistory = function(){\n\tvar data = history.pop();\n\tconsole.log('history data',data);\n\tif(!data) return;\n\thydrate(window.note_id,data);\n}\n\n\nwindow.getData = function(){\n\n\n\tvar textarea = $('textarea');\n\tif(textarea){\n\t\tvar p = textarea.nextSibling;\n\t\tif(p && p.tagName=='P') p.innerHTML = marked(textarea.value);\n\t}\n\n\tvar data = $$('[data-block]').map(block=>{\n\t\tvar parent = block.parentNode.closest('[data-block]');\n\t\tvar parent_id = null;\n\t\tif(parent){\n\t\t\tparent_id = parent.getAttribute('data-block');\n\t\t\tif(!parent_id) parent_id = parent.getAttribute('data-temp-id');\n\t\t}\n\t\treturn {\n\t\t\tid:block.getAttribute('data-block'),\n\t\t\tparent_id:parent_id,\n\t\t\torder:getBlockOrder(block),\n\t\t\ttemp_id:block.getAttribute('data-temp-id'),\n\t\t\ttext:unmarked($('p',block).innerHTML),\n\t\t}\n\t});\n\n\treturn data;\n\n}\n\ndocument.addEventListener('click',function(e){\n\tconsole.log(e.target);\n\tif(e.target.classList.contains('reference')) {\n\t\tconsole.log('link reference clicked');\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tconsole.log(Router);\n\t\tRouter.push(e.target.getAttribute('href'));\n\t} else if(e.target.classList.contains('checkbox')) {\n\t\tconsole.log('checkbox clicked');\n\t\ttoggleCheckbox(e);\n\t} else if(e.target.matches('textarea')) {\n\t\tconsole.log('textarea clicked');\n\t\tconsole.log(e);\n\t\te.stopPropagation();\n\t} else {\n\t\tvar blockDom = e.target.closest('[data-block]');\n\t\tif(!blockDom) return;\n\n\t\tclickedBlock(blockDom,e)\n\t}\n})\n\n\nwindow.getTempId = function(){\n\tif(!window.tempId) window.tempId = new Date().getTime();\n\treturn 'temp-'+(window.tempId++);\n}\n\n\nwindow.newBlock = function(note_id){\n\tvar li = document.createElement('li');\n\tli.setAttribute('data-block','');\n\tli.setAttribute('data-temp-id',getTempId());\n\tvar p = document.createElement('p');\n\tli.appendChild(p);\n\tvar container = $(`[data-note=\"${note_id}\"] .vanilla`);\n\tvar parent =  $('ul',container);\n\tif(!parent) {\n\t\tvar parent = document.createElement('ul');\n\t\tcontainer.appendChild(parent);\n\t}\n\tparent.appendChild(li);\n\teditBlock(li);\n}\n\nwindow.clickedBlock = function(block,e){\n\n\tvar x = e.clientX - e.target.getBoundingClientRect().x;\n\tvar y = e.clientY - e.target.getBoundingClientRect().y;\n\n\tvar clickPos = window.getSelection().getRangeAt(0).endOffset;\n\teditBlock(block);\n\n\tconsole.log('clickPos',clickPos);\n\n\tvar textareaDom = $('textarea');\n\ttextareaDom.focus();\n\ttextareaDom.selectionStart = clickPos;\n\ttextareaDom.selectionEnd = clickPos;\n\n}\n\nwindow.editBlock = function(block){\n\tconsole.log('editBlock');\n\n\tselectedBlock = block;\n\n\tvar p = block.querySelector('p');\n\tvar prev = p.previousSibling;\n\tif(prev && prev.tagName=='TEXTAREA') return prev.focus();\n\n\tremoveTextareas()\n\n\tvar textareaDom = document.createElement('textarea');\n\ttextareaDom.value = unmarked(p.innerHTML);\n\tblock.insertBefore(textareaDom,p);\n\ttextareaDom.focus();\n\tsetInputHeight(textareaDom);\n\n}\n\nwindow.updateBlocksRefs = function(data){\n\n\tfor(var temp_id in data){\n\t\tvar block_id = data[temp_id]\n\t\tvar block = document.querySelector(`[data-temp-id=\"${temp_id}\"]`);\n\t\tif(!block) continue;\n\t\tblock.removeAttribute('data-temp-id');\n\t\tblock.setAttribute('data-block',block_id);\n\t}\n\n}\n\nwindow.saveAll = function(){\n\n\tconsole.log('saving');\n\n\tvar note_id = $('[data-note]').getAttribute('data-note');\n\n\tvar data = getData();\n\taddHistory(data);\n\n\taxios({\n\t\t\tmethod:'post',\n\t\t\turl:'/api/notes/save-blocks/'+note_id,\n\t\t\tdata:data,\n\t}).then(res=>{\n\t\tconsole.log(res);\n\t\t\tupdateBlocksRefs(res.data.temp_ids);\n\t\t\tstore.state.notes = [...res.data.new_notes, ...store.state.notes];\n\t}).catch(res=>{\n\t\t\tconsole.error('save error');\n\t\t\tconsole.error(res);\n\t});\n}\n\nwindow.getBlockOrder = function(block){\n\tvar blocks = $$('[data-block]');\n\treturn blocks.indexOf(block)+1;\n}\n\nwindow.getPrevBlock = function(block){\n\tif(!block) block = $('textarea').closest('[data-block]');\n\tvar blocks = $$('[data-block]');\n\tvar index = blocks.indexOf(block)\n\tif(index==0) return;\n\treturn blocks[index-1];\n}\n\nwindow.selectPrev = function(){\n\tvar block = getPrevBlock(block);\n\tif(!block) return;\n\tvar pos = getCarretPosition();\n\teditBlock(block);\n\tvar textareaDom = $('textarea');\n\tvar selectionStart = getSelectionEnd(textareaDom,pos.x);\n\ttextareaDom.selectionStart = selectionStart;\n\ttextareaDom.selectionEnd = selectionStart;\n}\n\nwindow.getNextBlock = function(block){\n\tif(!block) block = $('textarea').closest('[data-block]');\n\tvar blocks = $$('[data-block]');\n\tvar index = blocks.indexOf(block)\n\tif(index==blocks.length-1) return;\n\treturn blocks[index+1];\n}\n\nwindow.selectNext = function(block){\n\tvar block = getNextBlock(block);\n\tif(!block) return;\n\tvar pos = getCarretPosition();\n\teditBlock(block);\n\tvar textareaDom = $('textarea');\n\tvar selectionStart = getSelectionStart(textareaDom,pos.x);\n\ttextareaDom.selectionStart = selectionStart;\n\ttextareaDom.selectionEnd = selectionStart;\n}\n\nwindow.hydrate = function(note_id,data){\n\twindow.note_id = note_id;\n\t$(`[data-note=\"${note_id}\"] .vanilla`).innerHTML = build_html(data);\n}\n\nwindow.build_html = function(data,parent_id,level) {\n\tparent_id = parent_id || null;\n\tlevel = level || 0;\n\tvar output_html = ''\n\tdata.forEach(block=>{\n\t\tif(block.parent_id==parent_id){\n\t\t\toutput_html += `<li data-block=\"${block.id}\">`;\n\t\t\toutput_html += `<p>${marked(block.text)}</p>`;\n\t\t\toutput_html += build_html(data,block.id,level+1);\n\t\t\toutput_html += `</li>`;\n\t\t}\n\t})\n\tif(!output_html) return '';\n\treturn `<ul>${output_html}</ul>`;\n}\n\nwindow.saferEval = function(expression, dataContext) {\n\ttry{\n\t\treturn (new Function(['$data'], `var result; with($data) { result = ${expression} }; return result`))(dataContext)\n\t} catch(e){\n\t\tconsole.log('Safer eval error: '+e)\n\t\treturn;\n\t}\n}\n\nwindow.toastr = function(body,title,color,seconds){\n\n\ttitle = title || '';\n\tcolor = color || '#007aff'\n\tseconds = seconds || (2 + body.length/50);\n\n\tvar div = document.createElement('div');\n\tdiv.className = 'toast show';\n\tdiv.setAttribute('style','min-width:200px; position: fixed; bottom: 10px; right: 10px;');\n\tdiv.innerHTML = `\n\t<div class=\"toast-header\">\n\t<svg class=\"bd-placeholder-img rounded mr-2\" width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\" preserveAspectRatio=\"xMidYMid slice\" focusable=\"false\" role=\"img\"><rect width=\"100%\" height=\"100%\" fill=\"${color}\"></rect></svg>\n\t<strong>${title}</strong>\n\t</div>\n\t<div class=\"toast-body\">\n\t${body}\n\t</div>`;\n\tdocument.body.appendChild(div);\n\n\tsetTimeout(()=>{\n\t\tdocument.body.removeChild(div);\n\t},seconds*1000);\n\n}\n\nwindow.marked = function(text){\n\tif(!text) return '';\n\ttext = text.replace(/\\[\\[TODO\\]\\]/g,'<span class=\"checkbox\"></span>')\n\ttext = text.replace(/\\[\\[DONE\\]\\]/g,'<span class=\"checkbox checked\"></span>')\n\n\ttext = text.replace(/\\*\\*([^\\*]+)\\*\\*/g,'<strong>$1</strong>')\n\ttext = text.replace(/__([^_]+)__/g,'<strong>$1</strong>')\n\ttext = text.replace(/~~([^~]+)~~/g,'<del>$1</del>')\n\n\ttext = text.replace(/\\*([^\\*]+)\\*/g,'<em>$1</em>')\n\ttext = text.replace(/_([^_]+)_/g,'<em>$1</em>')\n\n\tvar matches = text.match(/\\[\\[([^\\]]+)\\]\\]/g);\n\tif(matches) matches.forEach(match=>{\n\t\tvar note_name = match.replace(/[\\[\\]]/g,'');\n\t\tvar note = store.state.notes.find(note=>{\n\t\t\treturn note.name == note_name\n\t\t});\n\t\tif(!note) return;\n\t\ttext = text.replace(match,`<a class=\"reference\" href=\"/${note.slug}\">${match}</a>`);\n\t});\n\n\treturn text;\n}\n\nwindow.unmarked = function(text){\n\tif(!text) return '';\n\ttext = text.replace(/<span class=\"checkbox\"><\\/span>/g,'[[TODO]]')\n\ttext = text.replace(/<span class=\"checkbox checked\"><\\/span>/g,'[[DONE]]')\n\n\ttext = text.replace(/<strong>([\\s\\S]+?)<\\/strong>/g,'**$1**')\n\ttext = text.replace(/<em>([\\s\\S]+?)<\\/em>/g,'*$1*')\n\ttext = text.replace(/<del>([\\s\\S]+?)<\\/del>/g,'~~$1~~')\n\n\ttext = text.replace(/<a class=\"reference\" href=\"([^\"]*)\">([^<]*)<\\/a>/g,'$2')\n\treturn text;\n}\n\nwindow.toggleCheckbox = function(event) {\n\tevent.preventDefault();\n\tevent.stopPropagation();\n\tif(event.target.classList.contains('checked')) {\n\t\tevent.target.classList.remove('checked');\n\t} else {\n\t\tevent.target.classList.add('checked');\n\t}\n}\n","import store from '@/store';\n\nwindow.defaultListMenu = [\n\t{ text: 'Todo', function: (e) => { insertTodo() }},\n\t{ text: 'Current Date', function: () => { insertCurrentDate() }},\n\t{ text: 'Current Time', function: () => { insertCurrentTime() }},\n\t{ text: 'Date Picker', function: () => { alert('\"Date Picker\" is undeveloped'); }},\n\t{ text: 'Make a Reference', function: () => { createMenuReference(); }},\n\t{ text: 'Bold', function: () => { setBold() }},\n\t{ text: 'Italic', function: () => { setItalic(); }},\n\t{ text: 'Strikeout', function: () => { setStrikeout() }},\n];\nwindow.functionsList = null;\n\nwindow.menuElement = null;\n\nwindow.createMenu = function() {\n\tdestroyMenu();\n\tlet menu = document.createElement('div');\n\tmenu.classList.add('menu-context');\n\tconst positions = getCarretPositonByWindow();\n\tmenu.style.top = `${positions.y}px`;\n\tmenu.style.left = `${positions.x}px`;\n\tdocument.body.appendChild(menu);\n\twindow.menuElement = menu;\n}\n\nwindow.createMenuDefault = function() {\n\tcreateMenu();\n\tupdateMenu(defaultListMenu);\n\tchangeItemSelectedMenu();\n}\n\nwindow.createMenuReference = function() {\n\tcreateMenu();\n\tlet listNotes = [ ];\n\tstore.state.notes.forEach(note=>{\n\t\tlistNotes.push({\n\t\t\ttext: note.name,\n\t\t\tfunction: () => {\n\t\t\t\tconst textarea = $('textarea');\n\t\t\t\tconst selectionStart = textarea.selectionStart;\n\t\t\t\tlet context = textarea.value.substring(selectionStart-2,selectionStart+2);\n\t\t\t\tlet str = `${note.name}`;\n\t\t\t\tif(context != '[[]]') {\n\t\t\t\t\tstr = `[[${note.name}]]`;\n\t\t\t\t}\n\t\t\t\tinsertText(str);\n\t\t\t}\n\t\t});\n\t});\n\tupdateMenu(listNotes);\n\tchangeItemSelectedMenu();\n}\n\nwindow.updateMenu = function(list, reset) {\n\treset = reset || true;\n\tif(reset) window.resetMenu();\n\n\tlist.forEach((item, index) => {\n\t\tlet itemElement = document.createElement('div');\n\t\titemElement.classList.add('item');\n\t\titemElement.innerHTML = item.text;\n\t\titemElement.onclick = (e) => {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tclickItemMenu(index);\n\t\t}\n\t\tmenuElement.appendChild(itemElement);\n\t\tfunctionsList[functionsList.length] = {\n\t\t\tfunction: () => {\n\t\t\t\tremoveSlash();\n\t\t\t\tdestroyMenu();\n\t\t\t\titem.function();\n\t\t\t}\n\t\t};\n\t});\n}\n\nwindow.hasMenu = function() {\n\tif(window.menuElement === null) {\n\t\treturn false\n\t} else {\n\t\treturn true;\n\t}\n}\n\nwindow.resetMenu = function() {\n\tmenuElement.innerHTML = '';\n\tfunctionsList = [];\n}\n\nwindow.destroyMenu = function() {\n\t$$('.menu-context').forEach(element => {\n\t\telement.remove();\n\t});\n\tremoveSlash();\n\twindow.menuElement = null;\n}\n\nwindow.nextItemSelectedMenu = function() {\n\tchangeItemSelectedMenu(+1);\n}\n\nwindow.prevItemSelectedMenu = function() {\n\tchangeItemSelectedMenu(-1);\n}\n\nwindow.changeItemSelectedMenu = function(change) {\n  const selectedElement = window.menuElement.querySelector('.selected');\n\tif(selectedElement == null) {\n\t\twindow.menuElement.querySelector('.item').classList.add('selected');\n\t\treturn;\n\t}\n\tconst itemsElements = window.menuElement.querySelectorAll('.item');\n\tconst selectedIndex = getIndexOfElement(selectedElement);\n\tlet futureIndex = selectedIndex + change;\n\tif(itemsElements.length < futureIndex) {\n\t\tfutureIndex = 1;\n\t} else if(futureIndex < 1) {\n\t\tfutureIndex = itemsElements.length;\n\t}\n\tselectedElement.classList.remove('selected');\n\twindow.menuElement.querySelector(`.item:nth-child(${futureIndex})`).classList.add('selected');\n}\n\nwindow.clickItemMenu = function(index) {\n\tfunctionsList[index].function();\n}\n\nwindow.callSelectItemMenu = function() {\n\tlet index = getIndexOfElement(menuElement.querySelector('.selected')) -1;\n\tfunctionsList[index].function();\n}\n\nwindow.insertTodo = function() {\n\tconst textarea = getTextarea();\n\tsetTodo(textarea);\n\tremoveSlash();\n\tsetInputHeight(textarea);\n}\n\nwindow.removeSlash = function() {\n\tconst textarea = getTextarea();\n\tif(textarea.value[textarea.selectionStart-1]=='/'){\n\t\tconst selectionStart = textarea.selectionStart;\n\t\ttextarea.value = textarea.value.substring(0,textarea.selectionStart-1)+textarea.value.substring(textarea.selectionStart);\n\t\ttextarea.selectionStart = textarea.selectionEnd = selectionStart-1;\n\t}\n}\n\nwindow.insertCurrentDate = function() {\n\tconst date = new Date();\n\tconst year = date.getFullYear();\n\tconst month = ('0'+(date.getMonth()+1)).substr(-2);\n\tconst day = ('0'+(date.getDate())).substr(-2);\n\tconst dateStr = `[[${year}-${month}-${day}]]`;\n\tinsertText(dateStr);\n}\n\nwindow.insertCurrentTime = function() {\n\tconst date = new Date();\n\tconst hours = ('0'+(date.getHours()+1)).substr(-2);\n\tconst minutes = ('0'+(date.getMinutes()+1)).substr(-2);\n\tconst timeStr = `${hours}:${minutes}`;\n\tinsertText(timeStr);\n}\n\nwindow.getIndexOfElement = function(element) {\n\treturn (Array.from(element.parentNode.children).indexOf(element) + 1);\n}\n\nwindow.insertText = function(text) {\n\tconst textarea = getTextarea();\n\tconst selectionStart = textarea.selectionStart;\n\ttextarea.value = textarea.value.substring(0,selectionStart) + text + textarea.value.substring(selectionStart);\n\ttextarea.selectionStart = textarea.selectionEnd = selectionStart + text.length;\n}\n\nwindow.getTextarea = function() {\n\tconst textarea = $('textarea');\n\tif(textarea == null) {\n\t\tconsole.error('Textarea not found');\n\t}\n\treturn textarea;\n}\n","import Vue, { createApp } from 'vue';\nimport App from './App.vue'\nimport axios from 'axios';\nimport helpers from './helpers.js';\nimport textareaHelpers from './textareaHelpers.js';\nimport keyboardHelpers from './keyboardHelpers.js';\nimport './menuHelpers.js';\nimport styles from './assets/style.css';\nimport router from '@/router';\nimport store from '@/store';\n\n\nwindow.Vue = Vue;\n\naxios({\n\tmethod: 'get',\n\turl: '/api/user',\n}).then((res)=>{\n\tstore.dispatch('setUser',res.data)\n\tstore.dispatch('authInitialized')\n}).catch(()=>{\n\tstore.dispatch('authInitialized')\n}).finally(()=> {\n\twindow.vm = createApp(App).use(router).use(store).mount('#app')\n });\n\n","document.addEventListener(\"DOMContentLoaded\", function() {\n\n\n\tdocument.addEventListener('input',function(e){\n\t\tif(!e.target.matches('textarea')) return;\n\t\tsetInputHeight(e.target);\n\t});\n});\n\nwindow.setInputHeight = function(el){\n\n\tel.style.height = \"1.5em\";\n\tvar textareaHeight = el.scrollHeight;\n\n\tel.style.height = textareaHeight + \"px\";\n}\n\nwindow.removeTextareas = function(){\n\t$$('textarea').forEach(textarea=>{\n\t\tvar p = textarea.nextSibling;\n\t\tif(p && p.tagName=='P'){\n\t\t\tp.innerHTML = marked(textarea.value);\n\t\t\ttextarea.parentNode.removeChild(textarea);\n\t\t}\n\t});\n}\n\nwindow.getSelectionEnd = function(textareaDom,x,y){\n\tvar originalText = textareaDom.value;\n\tvar text = originalText;\n\n\tvar span = document.createElement('span');\n\tspan.className = 'calculate';\n\tspan.style.width = textareaDom.offsetWidth+'px';\n\n\tvar inner = document.createTextNode(text);\n\tspan.appendChild(inner);\n\n\tvar carret = document.createElement('span');\n\tcarret.id = 'carret';\n\tspan.appendChild(carret);\n\n\tdocument.body.appendChild(span);\n\n\tconsole.time('loopx');\n\twhile(carret.offsetLeft>x){\n\t\ttext = originalText.substr(0,text.length-1);\n\t\tinner.textContent = text;\n\t}\n\tconsole.timeEnd('loopx');\n\n\t$$('.calculate').forEach(span=>{\n\t\tspan.parentNode.removeChild(span);\n\t})\n\treturn text.length;\n}\n\nwindow.getSelectionStart = function(textareaDom,x){\n\n\tvar originalText = textareaDom.value;\n\tvar text = '';\n\n\tvar span = document.createElement('span');\n\tspan.className = 'calculate';\n\tspan.style.width = textareaDom.offsetWidth+'px';\n\n\tvar inner = document.createTextNode(text);\n\tspan.appendChild(inner);\n\n\tvar carret = document.createElement('span');\n\tcarret.id = 'carret';\n\tspan.appendChild(carret);\n\n\tdocument.body.appendChild(span);\n\n\twhile(carret.offsetLeft<x){\n\t\ttext = originalText.substr(0,text.length+1);\n\t\tinner.textContent = text;\n\t\tif(originalText.length==text.length) break;\n\t}\n\ttext = originalText.substr(0,text.length-1);\n\n\t$$('.calculate').forEach(span=>{\n\t\tspan.parentNode.removeChild(span);\n\t})\n\treturn text.length;\n\n}\nwindow.getCarretPositonByWindow = function() {\n\tconst positions = getCarretPosition();\n\tconst textareaDom = $('textarea');\n\treturn {\n\t\tx: positions.x + textareaDom.getBoundingClientRect().x,\n\t\ty: positions.y + textareaDom.getBoundingClientRect().y\n\t}\n}\n\nwindow.getCarretPosition = function(){\n\tvar textareaDom = $('textarea');\n\tvar span = document.createElement('span');\n\tspan.className = 'calculate';\n\tvar text = textareaDom.value.substr(0,textareaDom.selectionStart);\n\tspan.innerHTML = text + '<span id=\"carret\"></span>';\n\tspan.style.width = textareaDom.offsetWidth+'px';\n\n\tdocument.body.appendChild(span);\n\n\tvar carret = span.querySelector('#carret');\n\tvar ret = {\n\t\tx:carret.offsetLeft+4,\n\t\ty:carret.offsetTop,\n\t}\n\n\t$$('.calculate').forEach(span=>{\n\t\tspan.parentNode.removeChild(span);\n\t})\n\n\treturn ret;\n}\n\nwindow.isFirstLine = function(textareaDom){\n\tvar pos = getCarretPosition();\n\n\tconsole.log('getCarretPosition first line',pos);\n\n\treturn pos.y==0;\n}\n\nwindow.isLastLine = function(textareaDom){\n\n\tvar span = document.createElement('span');\n\tspan.className = 'calculate';\n\tspan.style.width = textareaDom.offsetWidth+'px';\n\tspan.innerHTML = textareaDom.value + '<span id=\"carret\"></span>';\n\n\tdocument.body.appendChild(span);\n\tvar carret = span.querySelector('#carret');\n\tvar ret = {\n\t\tx:carret.offsetLeft,\n\t\ty:carret.offsetTop,\n\t}\n\n\tvar pos = getCarretPosition();\n\n\tconsole.log('getCarretPosition last line',pos,ret);\n\n\treturn pos.y == ret.y;\n}\n\nwindow.addLetter = function(letter) {\n\tconst textarea = $('textarea');\n\tconst selectionStart = textarea.selectionStart;\n\ttextarea.value = textarea.value.substring(0,selectionStart) +\n\t\tletter +\n\t\ttextarea.value.substring(selectionStart);\n\ttextarea.selectionStart = textarea.selectionEnd = selectionStart;\n\tsetInputHeight(textarea);\n}\n\nwindow.prevCharacter = function(letter) {\n\tconst textarea = $('textarea');\n\tconst selectionStart = textarea.selectionStart;\n\tlet prevCharacter = textarea.value.substring(selectionStart-1,selectionStart);\n\treturn letter == prevCharacter;\n}\nwindow.nextCharacter = function(letter) {\n\tconst textarea = $('textarea');\n\tconst selectionEnd = textarea.selectionEnd;\n\tlet nextCharacter = textarea.value.substring(selectionEnd,selectionEnd+1);\n\treturn letter == nextCharacter;\n}\n\nwindow.setTextFormat = function(append, event) {\n\tconst textarea = $('textarea');\n\tconst selectionStart = textarea.selectionStart;\n\tconst selectionEnd = textarea.selectionEnd;\n\tconst sizeAppend = append.length;\n\ttextarea.value = textarea.value.substring(0,selectionStart) + append + textarea.value.substring(selectionStart);\n\ttextarea.value = textarea.value.substring(0,selectionEnd+sizeAppend) + append + textarea.value.substring(selectionEnd+sizeAppend);\n\ttextarea.selectionStart = selectionStart + sizeAppend;\n\ttextarea.selectionEnd = selectionEnd + sizeAppend;\n\tsetInputHeight(textarea);\n\tif(event) event.preventDefault();\n}\n\nwindow.setBold = function(event) {\n\tsetTextFormat('**', event);\n}\n\nwindow.setItalic = function(event) {\n\tsetTextFormat('*', event);\n}\n\nwindow.setStrikeout = function(event) {\n\tsetTextFormat('~~', event);\n}\n\nwindow.setTodo = function(textareaDom) {\n\tvar text = textareaDom.value;\n\n\tif (!text.match(/^\\[\\[(TODO|DONE)\\]\\]/)) {\n\t\ttext = \"[[TODO]] \" + text;\n\t} else if (text.match(/^\\[\\[TODO\\]\\]/)) {\n\t\ttext = text.replace(/^\\[\\[TODO\\]\\]/, \"[[DONE]]\");\n\t} else if (text.match(/^\\[\\[DONE\\]\\]/)) {\n\t\ttext = text.replace(/^\\[\\[DONE\\]\\] */, \"\");\n\t}\n\n\ttextareaDom.value = text;\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Loader.vue?vue&type=style&index=0&id=6f5b6b41&lang=css\""],"sourceRoot":""}