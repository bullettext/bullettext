{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Ico.vue?e496","webpack:///./src/App.vue","webpack:///./src/components/Loader.vue","webpack:///./src/views/Dashboard.vue","webpack:///./src/components/GlobalSearch.vue","webpack:///./src/components/GlobalSearch.vue?8688","webpack:///./src/views/Dashboard.vue?c9b2","webpack:///./src/views/List.vue","webpack:///./src/views/List.vue?021f","webpack:///./src/views/Note.vue","webpack:///./src/components/Note/ListReferences.vue","webpack:///./src/components/Note/ListReferences.vue?9e2e","webpack:///./src/components/Note/BlockElement.vue","webpack:///./src/components/Note/ContextMenu.vue","webpack:///./src/components/Note/ContextMenu.vue?c507","webpack:///./src/components/Note/BlockElement.vue?7459","webpack:///./src/components/Ico.vue","webpack:///./src/components/Ico.vue?f5fd","webpack:///./src/views/Note.vue?cf57","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?f1df","webpack:///./src/views/Forgot.vue","webpack:///./src/views/Forgot.vue?d5c3","webpack:///./src/views/NewPassword.vue","webpack:///./src/views/NewPassword.vue?d0b4","webpack:///./src/router.js","webpack:///./src/store.js","webpack:///./src/components/Loader.vue?8914","webpack:///./src/App.vue?eabf","webpack:///./src/main.js","webpack:///./src/components/Loader.vue?6be6"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","fullPath","loadingMessage","isLoading","to","favoriteNotes","note","slug","$route","menuOpen","type","searchterm","input","arrowDown","arrowUp","enter","placeholder","results","index","selectedItem","href","goto","hl","newNote","setup","props","context","router","state","term","toLowerCase","trim","store","notes","filter","includes","item","replace","RegExp","noteSlug","render","components","GlobalSearch","getNotesIndex","console","log","is_favorite","id","disabled","data-note","canUndo","undo","size","ico","canRedo","redo","saveAll","title","infoSaved","isSaving","canSave","toggleFavorite","blocks","block","keyElement","onKeydown","references","text","blockReferences","map","find","note_id","style","styleBlock","level","data-index","data-id","data-temp_id","temp_id","selectedIndex","ref","setInputHeight","onClickBlock","$event","marked","menuPosition","pos","closeMenu","ArrowDown","ArrowUp","Enter","event","preventDefault","Escape","emit","Number","required","String","command","ContextMenu","textareaDOM","keyDownFunctions","CtrlEnter","setTodo","CtrlB","setBold","CtrlI","setItalic","cursorPosition","addLetter","letter","selectionStart","substring","selectionEnd","setTextFormat","append","sizeAppend","newval","undefined","marginLeft","VUE_APP_VERBOSE","ctrlKey","shiftKey","altKey","focusTextarea","position","focus","error","height","scrollHeight","selectBlock","getSelection","getRangeAt","endOffset","target","matches","path","toggleCheckbox","match","forEach","note_name","viewBox","fill","icoStyle","computed","display","width","this","__scopeId","ListReferences","BlockElement","Ico","saveTimer","currentBlock","nextBlock","previusBlock","historyCursor","history","historyDisabled","edited","lastSavedTime","version","isFirstLine","relativeCursorPosition","cursorOffset","isLastLine","Math","min","split","ShiftAltArrowUp","insertBlock","removeBlock","refactorOrderBlock","ShiftAltArrowDown","Tab","ShiftTab","max","Delete","ShiftDelete","Backspace","start","textStart","substr","textEnd","newBlock","parent_id","Date","getTime","date","hh","getHours","mm","getMinutes","ss","getSeconds","setEdited","bool","clearTimeout","setTimeout","currentCursor","pushHistory","reloadPath","output","JSON","parse","stringify","lines","pop","join","nearBy","removed","previusElement","element","method","url","then","res","catch","order","updateBlocksRefs","temp_ids","new_notes","getNote","onSubmitLogin","login","email","password","onSubmitRegister","register","setUser","intendedUrl","response","onSubmit","methods","alert","mounted","readonly","token","$router","query","location","search","queryArr","obj","parts","decodeURIComponent","createRouter","createWebHistory","process","routes","component","Login","meta","restricted","Forgot","NewPassword","Dashboard","children","List","Note","beforeEach","from","next","axios","isAuthenticated","setIntendedUrl","reactive","user","is_admin","authInitialized","loading","startLoading","stopLoading","setLoadingMessage","message","finally","Loader","route","Vue","app","createApp","App","use","mount"],"mappings":"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","file":"js/app.feb5f23e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Ico.vue?vue&type=style&index=0&id=1e57fe26&scoped=true&lang=css\"","<template>\n\t<div class=\"wrapper-app\">\n\t\t<router-view :key=\"fullPath\" />\n\t\t<loader/>\n\t</div>\n</template>\n\n<script>\n\nimport { onMounted, toRefs } from 'vue';\nimport Loader from './components/Loader.vue';\nimport store from '@/store';\nimport { useRoute } from 'vue-router';\n\nexport default {\n\tcomponents: {\n\t\tLoader,\n\t\t// GlobalSearch\n\t},\n\t// inject: ['store'],\n\tsetup(){\n\t\tconst route = useRoute();\n\t\tonMounted(() => {\n\t\t\t// var today = new Date();\n\t\t\t// var dd = String(today.getDate()).padStart(2, '0');\n\t\t\t// var mm = String(today.getMonth() + 1).padStart(2, '0');\n\t\t\t// var yyyy = today.getFullYear();\n\n\t\t\t// today = `${yyyy}-${mm}-${dd}`;\n\t\t\t// if(this.$route.fullPath == '/') {\n\t\t\t// \tthis.$router.push(`/${today}`);\n\t\t\t// }\n\n\t\t});\n\tconst { loading } = toRefs(store.state);\n\t\treturn {\n\t\t\tstartLoading:store.startLoading,\n\t\t\tloading,\n\t\t\tfullPath: route.fullPath\n\t\t\t//state:store.state,\n\t\t}\n\t}\n}\n</script>\n","<template>\n\n\t<div v-show=\"isLoading\" class=\"ajax-loader\">\n\t\t<div class=\"loader-circle\">\n\t\t\t<div class=\"loader-line-mask\">\n\t\t\t\t<div class=\"loader-line\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"loader-img\"></div>\n\t\t</div>\n\t\t<p v-if=\"loadingMessage\">{{loadingMessage}}</p>\n\t</div>\n</template>\n\n<style>\n\n\n.ajax-loader {\n  position: fixed;\n  background: rgba(255,255,255,.7);\n  top:0;\n  left:0;\n  width: 100%;\n  height: 100%;\n  z-index: 999999;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color:#fff;\n}\n\n.ajax-loader .loader-circle {\n  position:relative;\n  width:120px;\n  height:120px;\n  border-radius: 50%;\n  box-shadow: inset 0 0 0 1px rgba(255,255,255,.1);\n}\n\n.ajax-loader .loader-line-mask {\n  position: absolute;\n  top:0;\n  left:0;\n  width:60px;\n  height:120px;\n  overflow: hidden;\n  transform-origin:60px 60px;\n  -webkit-mask-image: -webkit-linear-gradient(top, rgba(0,0,0,1), rgba(0,0,0,0));\n  animation: rotate 1.2s infinite linear;\n}\n.ajax-loader .loader-line {\n  width:120px;\n  height:120px;\n  border-radius: 50%;\n  box-shadow: inset 0 0 0 3px #000;\n}\n.ajax-loader .loader-img {\n  position: relative;\n  top: 30px;\n  left: 30px;\n  display: block;\n  width:60px;\n  height:60px;\n  /* background:url(../../public/logo.png) no-repeat center; */\n  background-size:contain;\n}\n.ajax-loader p{\n  font-weight: bold;\n  color:#000;\n  margin-top:20px;\n}\n@keyframes rotate {\n  0% { transform: rotate(0deg);}\n  100% { transform: rotate(360deg);}\n}\n</style>\n\n\n<script>\n  import { computed } from 'vue';\n  import store from '@/store';\n\n\texport default {\n    setup(){\n      const isLoading = computed(()=>{\n        return store.state.loading;\n      });\n\n      const loadingMessage = computed(()=>{\n        return store.state.loadingMessage;\n      });\n\n      return {\n        isLoading,\n        loadingMessage\n      }\n    }\n\n\t}\n\n</script>\n","<template>\n\t<div>\n\t\t<aside>\n\t\t\t<div class=\"logo\">Bullet</div>\n\t\t\t<global-search />\n\t\t\t<router-link to=\"/\">Dashboard</router-link>\n\t\t\t<ul>\n\t\t\t\t<li v-for=\"note in favoriteNotes\">\n\t\t\t\t\t<router-link :to=\"'/'+note.slug\">{{note.name}} </router-link>\n\t\t\t\t</li>\n\t\t\t</ul>\n\n\t\t</aside>\n\t\t<main>\n\t\t\t<router-view :key=\"$route.fullPath\" />\n\t\t</main>\n\t</div>\n</template>\n\n<script>\nimport { onMounted, computed } from 'vue';\nimport GlobalSearch from '@/components/GlobalSearch';\nimport store from '@/store';\nexport default {\n\tcomponents: {\n\t\tGlobalSearch\n\t},\n\tsetup(){\n\t\tonMounted(() => {\n\t\t\tstore.getNotesIndex();\n\t\t\tconsole.log('store.state.notes',store.state.notes);\n\t\t})\n\n\t\tconst favoriteNotes = computed(()=>{\n\t\t\t// return []\n\t\t\treturn store.state.notes.filter(note=>note.is_favorite);\n\t\t});\n\n\t\treturn {\n\t\t\tfavoriteNotes\n\t\t}\n\t}\n}\n\n</script>\n","<template>\n\n\n\t<div class=\"global-search\" :class=\"{active:menuOpen}\">\n\t\t<input\n\t\t\ttype=\"text\"\n\t\t\tv-model=\"searchterm\"\n\t\t\t@input=\"input\"\n\t\t\t@keyup.arrow-down=\"arrowDown\"\n\t\t\t@keyup.arrow-up=\"arrowUp\"\n\t\t\t@keyup.enter=\"enter\"\n\t\t\t@keyup.esc=\"searchterm = ''\"\n\t\t\tplaceholder=\"Search or new\"\n\t\t>\n\t\t<div class=\"menu-search\" v-show=\"menuOpen\">\n\t\t\t<ul>\n\t\t\t\t<li v-for=\"(note,index) in results\" :class=\"{selected:index===selectedItem}\"><a class=\"reference\" :href=\"note.slug\" @click.prevent=\"goto(note.slug)\" v-html=\"hl(note.name)\"></a></li>\n\t\t\t\t<li class=\"newNote\" v-show=\"searchterm\" :class=\"{selected:results.length===selectedItem}\"><a @click=\"newNote()\">new note \"{{searchterm}}\"</a></li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n\n</template>\n\n<script>\n\nimport { reactive, toRefs, computed } from 'vue';\nimport store from '@/store';\nimport { useRouter } from 'vue-router';\n\n\nexport default {\n\n\tsetup(props,context){\n\n\t\tconst router = useRouter();\n\n\t\tconst state = reactive({\n\t\t\tsearchterm:'',\n\t\t\tselectedItem:0,\n\t\t});\n\n\t\tconst results = computed(()=>{\n\t\t\tif(!menuOpen) return [];\n\t\t\tvar term = state.searchterm.toLowerCase().trim();\n\t\t\treturn store.state.notes.filter(note=>{\n\t\t\t\treturn note.name.toLowerCase().includes(term);\n\t\t\t}).slice(0,10); //maximum 10 results\n\t\t})\n\n\t\tconst menuOpen = computed(()=>{\n\t\t\treturn state.searchterm!=='';\n\t\t});\n\n\t\tconst enter = ()=>{\n\t\t\t//find what is the element\n\t\t\tif(!menuOpen) return;\n\t\t\tif(state.selectedItem===null) return;\n\t\t\tvar item = results.value[state.selectedItem];\n\n\t\t\tif(item) {\n\t\t\t\trouter.push(item.slug);\n\t\t\t\tstate.searchterm = ''\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tnewNote();\n\t\t\tstate.searchterm = ''\n\t\t}\n\t\tconst input = ()=>{\n\t\t\tstate.selectedItem = 0;\n\t\t}\n\t\tconst hl = (name)=>{\n\t\t\tif(!state.searchterm) return name;\n\t\t\treturn name.replace(new RegExp('('+state.searchterm+')','i'),'<strong>$1</strong>');\n\t\t}\n\t\tconst arrowDown = ()=>{\n\t\t\tif(state.selectedItem===null){\n\t\t\t\tstate.selectedItem = 0;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tstate.selectedItem++;\n\t\t\tif(state.selectedItem>results.value.length) state.selectedItem = 0;\n\t\t}\n\t\tconst arrowUp = ()=>{\n\t\t\tif(state.selectedItem===null){\n\t\t\t\tstate.selectedItem = results.value.length;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tstate.selectedItem--;\n\t\t\tif(state.selectedItem<0) state.selectedItem = results.value.length;\n\t\t}\n\n\t\tconst newNote = ()=>{\n\t\t\tstore.newNote(state.searchterm);\n\t\t\tstate.searchterm = ''\n\t\t}\n\n\t\tconst goto = (noteSlug)=>{\n\t\t\trouter.push(noteSlug);\n\t\t\tstate.searchterm = ''\n\t\t}\n\n\t\tlet {searchterm, selectedItem} = toRefs(state);\n\n\t\treturn {\n\t\t\tsearchterm,\n\t\t\tmenuOpen,\n\t\t\tselectedItem,\n\t\t\tresults,\n\t\t\tenter,\n\t\t\tinput,\n\t\t\thl,\n\t\t\tarrowDown,\n\t\t\tarrowUp,\n\t\t\tnewNote,\n\t\t\tgoto,\n\t\t}\n\n\t}\n}\n\n</script>\n","import { render } from \"./GlobalSearch.vue?vue&type=template&id=ec27fa6a\"\nimport script from \"./GlobalSearch.vue?vue&type=script&lang=js\"\nexport * from \"./GlobalSearch.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Dashboard.vue?vue&type=template&id=1101d6da\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n\t<div class=\"dashboard\">\n\n\t\t<div class=\"container\">\n\t\t\t<h1>Notes</h1>\n\n\t\t\t<ul>\n\t\t\t\t<li v-for=\"note in notes\" :key=\"note.id\">\n\t\t\t\t\t<router-link :to=\"'/'+note.slug\">{{note.name}}</router-link>\n\t\t\t\t</li>\n\t\t\t</ul>\n\n\t\t</div>\n\n\t</div>\n</template>\n\n<script>\nimport store from '@/store';\nimport { toRefs } from 'vue';\nexport default {\n\tsetup() {\n\t\tconst { notes } = toRefs(store.state);\n\t\treturn {\n\t\t\tnotes\n\t\t}\n\t}\n}\n</script>\n","import { render } from \"./List.vue?vue&type=template&id=fd0a2a72\"\nimport script from \"./List.vue?vue&type=script&lang=js\"\nexport * from \"./List.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n\t<div class=\"note\">\n\t\t<div class=\"container\" v-if=\"note.id\" :data-note=\"note.id\">\n\n\t\t\t<header>\n\n\t\t\t\t<div class=\"info-saved\">\n\t\t\t\t\t<button :disabled=\"!canUndo\" @click=\"undo()\"><ico size=\"20\" ico=\"undo\" /></button>\n\t\t\t\t\t<button :disabled=\"!canRedo\" @click=\"redo()\"><ico size=\"20\" ico=\"redo\" /></button>\n\n\t\t\t\t\t<button class=\"info-msg\" v-show=\"!isSaving && !canSave\" @click=\"saveAll\" :title=\"infoSaved\">Saved<span v-show=\"infoSaved\"> on {{infoSaved}}</span></button>\n\t\t\t\t\t<button class=\"info-msg\" v-show=\"!isSaving && canSave\" @click=\"saveAll\">Save changes</button>\n\t\t\t\t\t<button class=\"info-msg\" v-show=\"isSaving\" disabled>Saving <ico size=\"20\" ico=\"loading\" class=\"spin\" /></button>\n\t\t\t\t</div>\n\n\t\t\t\t<h1>{{ note.name }}</h1>\n\n\t\t\t\t<span @click=\"toggleFavorite\" class=\"toggleFavorite\">\n\t\t\t\t\t<ico v-if=\"!note.is_favorite\" ico=\"star-empty\" size=\"20\" />\n\t\t\t\t\t<ico v-if=\"note.is_favorite\" ico=\"star\" size=\"20\" />\n\t\t\t\t</span>\n\n\t\t\t</header>\n\n\t\t\t<div class=\"blocks\">\n\t\t\t\t<block-element\n\t\t\t\tv-for=\"(block, index) in note.blocks\"\n\t\t\t\t:key=\"keyElement(block, index)\"\n\t\t\t\t:index=\"index\"\n\t\t\t\t:block=\"block\"\n\t\t\t\t@onKeydown=\"onKeydown\"\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<list-references v-if=\"note.references.length\" :references=\"note.references\" />\n\n\t\t</div>\n\t</div>\n</template>\n<script>\n\timport axios from \"axios\";\n\timport { ref, reactive, computed, onMounted, toRefs, nextTick, onBeforeUnmount } from 'vue';\n\n\timport store from '@/store';\n\timport ListReferences from \"../components/Note/ListReferences\";\n\timport BlockElement from \"../components/Note/BlockElement\";\n\timport Ico from \"../components/Ico\";\n// import { count, increment, alertMessage } from '../plugins/Editor';\n//import BlockList from \"@/components/BlockList\";\n\nexport default {\n\tcomponents: { ListReferences, BlockElement,Ico },\n\tprops: [\"slug\"],\n\tsetup(props, context) {\n\n\t\tlet saveTimer = null;\n\n\t\tconst state = reactive({\n\t\t\tnote: {\n\t\t\t\tblocks: [],\n\t\t\t\treferences:[],\n\t\t\t},\n\t\t\tselectedIndex: computed(() => {\n\t\t\t\treturn store.state.selectedIndex;\n\t\t\t}),\n\t\t\ttextareaDOM: computed(() => {\n\t\t\t\treturn store.state.textareaDOM;\n\t\t\t}),\n\t\t\tcurrentBlock: computed(() => {\n\t\t\t\treturn state.note.blocks[state.selectedIndex];\n\t\t\t}),\n\t\t\tnextBlock: computed(() => {\n\t\t\t\treturn state.note.blocks[state.selectedIndex + 1];\n\t\t\t}),\n\t\t\tpreviusBlock: computed(() => {\n\t\t\t\treturn state.note.blocks[state.selectedIndex - 1];\n\t\t\t}),\n\n\t\t\thistoryCursor:-1,\n\t\t\thistory:[],\n\t\t\thistoryDisabled:false,\n\t\t\tedited:false,\n\t\t\tlastSavedTime:null,\n\t\t\tversion:'0',\n\n\t\t});\n\n\n\n\t\tconst keyDownFunctions = {\n\t\t\tArrowUp : (event) => {\n\t\t\t\tif(!state.previusBlock) return;\n\t\t\t\tif(!isFirstLine()) return;\n\t\t\t\tevent.preventDefault();\n\t\t\t\tstore.state.selectedIndex--;\n\t\t\t\tlet relativeCursorPosition = cursorPosition() + cursorOffset();\n\t\t\t\tfocusTextarea(relativeCursorPosition);\n\t\t\t},\n\t\t\tArrowDown: (event) => {\n\t\t\t\tif(!state.nextBlock) return;\n\t\t\t\tif(!isLastLine()) return;\n\t\t\t\tlet relativeCursorPosition = cursorPosition() - cursorOffset();\n\t\t\t\t//caso o proximo bloco tenha +1 linha e o cursorposition do current block é maior que o tamanho da primeira linha, define o tamanho maximo como o length da primeira linha para evitar que o cursor seja posicionado na segunda linha\n\t\t\t\trelativeCursorPosition = Math.min(relativeCursorPosition,state.nextBlock.text.split(\"\\n\")[0].length);\n\n\t\t\t\tstore.state.selectedIndex++;\n\t\t\t\tfocusTextarea(relativeCursorPosition);\n\n\t\t\t},\n\t\t\tShiftAltArrowUp : (event) => {\n\t\t\t\tif(!state.previusBlock) return;\n\t\t\t\tevent.preventDefault();\n\t\t\t\tinsertBlock(state.selectedIndex-1,removeBlock());\n\t\t\t\tstore.state.selectedIndex--;\n\t\t\t\trefactorOrderBlock();\n\t\t\t\tfocusTextarea(cursorPosition());\n\t\t\t},\n\t\t\tShiftAltArrowDown: (event) => {\n\t\t\t\tif(!state.nextBlock) return;\n\t\t\t\tevent.preventDefault();\n\t\t\t\tinsertBlock(state.selectedIndex+1,removeBlock());\n\t\t\t\tstore.state.selectedIndex++;\n\t\t\t\trefactorOrderBlock();\n\t\t\t\tfocusTextarea(cursorPosition());\n\t\t\t},\n\t\t\tTab: (event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif(!state.previusBlock) return;\n\t\t\t\tstate.currentBlock.level = Math.min(state.previusBlock.level+1,state.currentBlock.level+1);\n\t\t\t},\n\t\t\tShiftTab: (event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif(!state.previusBlock) return;\n\t\t\t\tstate.currentBlock.level\t= Math.max(state.currentBlock.level-1,0);\n\t\t\t},\n\t\t\tDelete: (event) => {\n\t\t\t\tif(cursorPosition() !== state.currentBlock.text.length) return;\n\t\t\t\tif(!state.nextBlock) return;\n\t\t\t\tevent.preventDefault();\n\t\t\t\tconst size = state.currentBlock.text.length;\n\t\t\t\tstate.currentBlock.text += state.nextBlock.text;\n\t\t\t\tremoveBlock(+1);\n\t\t\t\tfocusTextarea(size);\n\t\t\t},\n\t\t\tShiftDelete: (event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tremoveBlock();\n\t\t\t\tfocusTextarea(0);\n\t\t\t},\n\t\t\tBackspace: (event) => {\n\t\t\t\tif(state.textareaDOM.selectionEnd !== 0) return;\n\t\t\t\tif(!state.previusBlock) return;\n\t\t\t\tevent.preventDefault();\n\t\t\t\tconst size = state.previusBlock.text.length;\n\t\t\t\tstate.previusBlock.text += state.currentBlock.text;\n\t\t\t\tremoveBlock();\n\t\t\t\tstore.state.selectedIndex--;\n\t\t\t\tfocusTextarea(size);\n\t\t\t},\n\t\t\tEnter: (event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\t// if(hasMenu())\n\t\t\t\tlet start = cursorPosition();\n\t\t\t\tlet textStart = state.currentBlock.text.substr(0, start);\n\t\t\t\tlet textEnd = state.currentBlock.text.substr(start);\n\t\t\t\tstate.currentBlock.text = textStart;\n\t\t\t\tlet newBlock = {\n\t\t\t\t\ttext: textEnd,\n\t\t\t\t\tparent_id: state.currentBlock.parent_id,\n\t\t\t\t\tlevel: state.currentBlock.level,\n\t\t\t\t\ttemp_id:`temp${new Date().getTime()}`,\n\t\t\t\t};\n\t\t\t\tinsertBlock( state.selectedIndex+1, newBlock );\n\t\t\t\tstore.state.selectedIndex++;\n\t\t\t\tfocusTextarea(0);\n\t\t\t},\n\t\t\t/*\n\t\t\tCtrlv: (event) =>{\n\t\t\t\tconst originalText = state.currentBlock.text;\n\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\tconst newText = state.currentBlock.text;\n\t\t\t\t\tlet diff = newText.replace(originalText,'');\n\t\t\t\t\tif(diff == newText) return;\n\n\n\t\t\t\t},1)\n\t\t\t}\n*/\n\t\t};\n\n\n\n\n\t\tconst canUndo = computed(()=> {\n\t\t\tif(state.historyCursor == state.history.length-1 && state.edited) return true;\n\t\t\treturn state.historyCursor>0;\n\t\t});\n\t\tconst canSave = computed(()=>{\n      return state.edited;// || this.canRedo;\n    });\n\t\tconst canRedo = computed(()=> {\n\t\t\treturn state.historyCursor < state.history.length - 1;\n\t\t});\n\n\t\tconst isSaving = computed(()=>{\n\t\t\treturn state.lastSavedTime == 'Saving';\n\t\t});\n\t\tconst infoSaved = computed(()=>{\n\t\t\tif(state.lastSavedTime == 'Saving') return \"Saving...\";\n\t\t\tif(state.lastSavedTime === null) return \"\";\n\t\t\tvar date = state.lastSavedTime;\n\t\t\tvar hh = ('0'+date.getHours()).substr(-2);\n\t\t\tvar mm = ('0'+date.getMinutes()).substr(-2);\n\t\t\tvar ss = ('0'+date.getSeconds()).substr(-2);\n\t\t\treturn `${hh}:${mm}:${ss}`;\n\t\t});\n\t\tconst setEdited = (bool)=>{\n\t\t\tif(bool == true && state.edited == true) return;\n\t\t\tstate.edited = bool;\n\t\t\tif(bool == true){\n\t\t\t\tclearTimeout(saveTimer);\n\t\t\t\tsaveTimer = setTimeout(()=>{ saveAll() },5000);\n\t\t\t}\n\t\t}\n\n\t\tconst undo = () =>{\n\t\t\tif (!canUndo) return;\n\n\t\t\tif(state.edited && state.historyCursor == state.history.length-1){\n\t\t\t\tvar currentCursor = state.historyCursor;\n\t\t\t\tpushHistory();\n\t\t\t\tstate.historyCursor = currentCursor;\n\t\t\t\treloadPath(state.history[state.historyCursor]);\n\t\t\t\tsetEdited(false);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(state.historyCursor==0) return;\n\n\t\t\tstate.historyDisabled = true;\n\t\t\tstate.historyCursor --;\n\t\t\treloadPath(state.history[state.historyCursor]);\n\t\t\tstate.historyDisabled = false;\n\t\t}\n\n\t\tconst reloadPath = (output)=>{\n\t\t\tif(process.env.VUE_APP_VERBOSE) console.log('reload',JSON.parse(output));\n\t\t\tstate.note.blocks = JSON.parse(output);\n\t\t\tstate.version = new Date().getTime();\n\t\t\tsetEdited(true);\n\t\t}\n\n\n\t\tconst redo = () =>{\n\t\t\tif (!canRedo) return;\n\t\t\tstate.historyDisabled = true;\n\t\t\tstate.historyCursor ++;\n\t\t\treloadPath(state.history[state.historyCursor]);\n\t\t\tstate.historyDisabled = false;\n\t\t}\n\n\t\tconst pushHistory = ()=>{\n\t\t\tif(process.env.VUE_APP_VERBOSE)  console.log('pushHistory');\n\t\t\tvar output = JSON.stringify(state.note.blocks);\n\t\t\tif (!state.historyDisabled && output !== state.history[state.historyCursor]) {\n\t\t\t\tstate.historyCursor ++;\n\t\t\t\tstate.history.splice(state.historyCursor, state.history.length - state.historyCursor, output);\n\t\t\t}\n\t\t}\n\n\n\t\tfunction cursorPosition(newval) {\n\t\t\tif(!state.textareaDOM) return 0;\n\t\t\tif(newval===undefined){\n\t\t\t\treturn state.textareaDOM.selectionStart;\n\t\t\t}\n\t\t\tstate.textareaDOM.selectionStart = newval;\n\t\t\tstate.textareaDOM.selectionEnd = newval;\n\t\t}\n\t\tconst keyElement = (block,index) => {\n\t\t\tconst id = block.temp_id ? `temp_id-${block.temp_id}` : `id-${block.id}`;\n\t\t\treturn `index-${index}-${id}-h${state.version}`;\n\t\t}\n\t\tconst cursorOffset = () =>{\n\t\t\tlet lines = state.currentBlock.text.split(\"\\n\");\n\t\t\tlines.pop();\n\t\t\treturn lines.join(\"\\n\").length\n\t\t\t//let match = text.match(/^([\\s\\S]+)\\n/); return match?match.pop().length:0;\n\t\t}\n\t\tconst isFirstLine = () =>{\n\t\t\tlet lines = state.currentBlock.text.split(\"\\n\");\n\t\t\treturn lines[0].length >= cursorPosition();\n\t\t}\n\t\tconst isLastLine = () =>{\n\t\t\tlet lines = state.currentBlock.text.split(\"\\n\");\n\t\t\tlines.pop();\n\t\t\treturn lines.join(\"\\n\").length <= cursorPosition();\n\t\t}\n\t\tconst onKeydown = (event) => {\n\t\t\tif(['Alt','Shift','Ctrl'].includes(event.key)) return;\n\t\t\tsetEdited(true);\n\n\t\t\tlet command = '';\n\t\t\tif(event.ctrlKey) command += 'Ctrl';\n\t\t\tif(event.shiftKey) command += 'Shift';\n\t\t\tif(event.altKey) command += 'Alt';\n\t\t\tcommand += event.key;\n\t\t\tif(typeof keyDownFunctions[command] === 'function'){\n\t\t\t\tif(process.env.VUE_APP_VERBOSE) console.log(`Key down: ${command}\\n---`);\n\t\t\t\tkeyDownFunctions[command](event);\n\t\t\t}\n\t\t}\n\t\tconst removeBlock = (nearBy) => {\n\t\t\tif(!nearBy) nearBy = 0;\n\t\t\tlet removed = state.note.blocks.splice(state.selectedIndex + nearBy,1);\n\t\t\trefactorOrderBlock();\n\t\t\treturn removed[0];\n\t\t}\n\n\t\tconst refactorOrderBlock = () => {\n\n\t\t\tlet previusElement = { level: 0 };\n\t\t\tstate.note.blocks[0].level=0;\n\t\t\tstate.note.blocks.forEach((element) => {\n\t\t\t\tif(element.level - previusElement.level > 1) {\n\t\t\t\t\telement.level = previusElement.level + 1;\n\t\t\t\t}\n\t\t\t\tpreviusElement = element;\n\t\t\t})\n\t\t}\n\n\t\tconst insertBlock = (index,block) => {\n\t\t\tstate.note.blocks.splice(index,0,block);\n\t\t}\n\t\tconst focusTextarea = (position) => {\n\t\t\tif(process.env.VUE_APP_VERBOSE) console.log('position',position);\n\t\t\tnextTick(function() {\n\t\t\t\tif(process.env.VUE_APP_VERBOSE) console.log('textarea depois',state.textareaDOM);\n\t\t\t\tstate.textareaDOM.focus();\n\t\t\t\tcursorPosition(position);\n\t\t\t\tsetInputHeight();\n\t\t\t});\n\t\t}\n\t\tconst setInputHeight = () => {\n\t\t\tstate.textareaDOM.style.height = \"1.5em\";\n\t\t\tstate.textareaDOM.style.height = `${state.textareaDOM.scrollHeight}px`;\n\t\t}\n\n\t\tconst toggleFavorite = () => {\n\t\t\tstate.note.is_favorite = !state.note.is_favorite;\n\t\t\taxios({\n\t\t\t\tmethod:'post',\n\t\t\t\turl:'/api/notes/'+state.note.id,\n\t\t\t\tdata:{is_favorite:state.note.is_favorite},\n\t\t\t}).then(res=>{\n\t\t\t\tstore.getNotesIndex();\n\t\t\t}).catch(res=>{\n\t\t\t\tconsole.error(res);\n\t\t\t});\n\t\t}\n\n\t\tconst saveAll = () => {\n\n\t\t\tclearTimeout(saveTimer);\n\t\t\tstate.lastSavedTime = 'Saving';\n\t\t\tsetEdited(false);\n\n\n\t\t\trefactorOrderBlock();\n\n\t\t\tconst note_id = state.note.id;\n\n\t\t\tlet data = state.note.blocks;\n\n\t\t\tlet path = [];\n\t\t\tdata.forEach((block,index) => {\n\t\t\t\tpath[block.level] = block.id || block.temp_id;\n\t\t\t\tblock.parent_id = block.level==0?null:path[block.level-1];\n\t\t\t\tblock.order = index;\n\t\t\t});\n\t\t\tif(process.env.VUE_APP_VERBOSE) console.log(data);\n\n\t\t\taxios({\n\t\t\t\tmethod:'post',\n\t\t\t\turl:'/api/notes/save-blocks/'+note_id,\n\t\t\t\tdata:data,\n\t\t\t}).then(res=>{\n\t\t\t\tif(process.env.VUE_APP_VERBOSE) console.log(res);\n\t\t\t\tupdateBlocksRefs(res.data.temp_ids);\n\t\t\t\t// focusTextarea(state.textareaDOM.selectionStart);\n\t\t\t\tpushHistory();\n\t\t\t\tstore.state.notes = [...res.data.new_notes, ...store.state.notes];\n\t\t\t\tstate.lastSavedTime = new Date();\n\t\t\t}).catch(res=>{\n\t\t\t\tconsole.error('save error');\n\t\t\t\tconsole.error(res);\n\t\t\t});\n\t\t}\n\n\t\tconst updateBlocksRefs = (data) => {\n\t\t\tfor(var temp_id in data){\n\t\t\t\tvar block = state.note.blocks.find(block=>block.temp_id==temp_id);\n\t\t\t\tblock.id = data[temp_id];\n\t\t\t\t// block.temp_id = null;\n\t\t\t\tif(process.env.VUE_APP_VERBOSE) console.log(`${temp_id} updated to id ${block.id}`);\n\t\t\t}\n\t\t}\n\n\t\tonMounted(() => {\n\t\t\tstore.getNote(props.slug).then(res => {\n\t\t\t\tstate.note = res.data;\n\t\t\t\tif(res.data.blocks.length==0){\n\t\t\t\t\tlet newBlock = {\n\t\t\t\t\t\ttext: '',\n\t\t\t\t\t\tlevel: 0,\n\t\t\t\t\t\ttemp_id:`temp${new Date().getTime()}`,\n\t\t\t\t\t};\n\t\t\t\t\tres.data.blocks.push(newBlock);\n\t\t\t\t\tstore.state.selectedIndex=0;\n\t\t\t\t\tfocusTextarea(0);\n\t\t\t\t} else {\n\t\t\t\t\tstore.state.selectedIndex=0;\n\t\t\t\t\tif(res.data.blocks[0].text){\n\t\t\t\t\t\tfocusTextarea(res.data.blocks[0].text.length);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfocusTextarea(0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tpushHistory()\n\t\t\t});\n\t\t});\n\n\t\tonBeforeUnmount(()=>{\n\t\t\tif(state.edited) {\n\t\t\t\tsaveAll();\n\t\t\t}\n\t\t})\n\n\t\tconst { note, history, historyCursor } = toRefs(state);\n\n\t\tconst { selectedIndex } = toRefs(store.state);\n\n\t\treturn {\n\t\t\tnote,\n\t\t\tkeyElement,\n\t\t\tonKeydown,\n\t\t\tsaveAll,\n\t\t\tinfoSaved,\n\t\t\tundo,\n\t\t\tredo,\n\t\t\tcanUndo,\n\t\t\tcanRedo,\n\t\t\tisSaving,\n\t\t\tcanSave,\n\t\t\thistory,\n\t\t\thistoryCursor,\n\t\t\ttoggleFavorite\n\t\t}\n\t}\n};\n</script>\n","<template>\n\t<div class=\"references\" v-if=\"references\">\n\t\t<h4>References:</h4>\n\t\t<div class=\"reference-item\" v-for=\"(block,index) in references\" :key=\"index\">\n\t\t\t<router-link v-if=\"block.note\" :to=\"'/'+block.note.slug\">{{block.note.name}}</router-link>\n\t\t\t<p>{{block.text}}</p>\n\t\t</div>\n\t</div>\n</template>\n<script>\nimport { computed } from 'vue';\nimport store from '@/store';\n\n\nexport default {\n\tprops: [\"references\"],\n\tsetup(props) {\n\n\t\tconst blockReferences = props.references;\n\n\t\tconst references = computed(() => {\n\t\t\tif(!store.state.notes) return [];\n\t\t\treturn blockReferences.map(block=>{\n\t\t\t\tblock.note = store.state.notes.find(note=>note.id==block.note_id);\n\t\t\t\treturn block;\n\t\t\t});\n\t\t});\n\n\n\t\treturn { references };\n\t}\n};\n</script>\n","import { render } from \"./ListReferences.vue?vue&type=template&id=1ad6baf5\"\nimport script from \"./ListReferences.vue?vue&type=script&lang=js\"\nexport * from \"./ListReferences.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n\t<div :style=\"styleBlock(block.level)\" :data-index=\"index\" :data-id=\"block.id\" :data-temp_id=\"block.temp_id\">\n\t\t<textarea\n\t\t\tv-if=\"selectedIndex === index\"\n\t\t\tv-model=\"block.text\"\n\t\t\tref=\"textareaDOM\"\n\t\t\t@input=\"setInputHeight\"\n\t\t\t@keydown=\"onKeydown\"\n\t\t/>\n\t\t<p @click=\"onClickBlock(index,$event)\" v-html=\"marked(block.text)\"></p>\n\t\t<context-menu v-if=\"menuPosition\" :pos=\"menuPosition\" :text=\"block.text\" @close=\"closeMenu\" />\n\t</div>\n</template>\n<script>\nimport { ref, reactive, computed, onMounted, toRefs, nextTick } from 'vue';\n\nimport store from '@/store';\nimport {useRouter} from 'vue-router';\nimport ContextMenu from './ContextMenu.vue';\n\nexport default {\n\tprops: [\"index\", \"block\"],\n\tcomponents: { ContextMenu },\n\tsetup(props, context) {\n\n\t\tconst router = useRouter();\n\n\t\tconst block = props.block;\n\t\tconst index = props.index;\n\n\t\tconst state = reactive({\n\t\t\tnote: {\n\t\t\t\tblocks: [],\n\t\t\t\treferences:[],\n\t\t\t },\n\t\t\t menuPosition:null,\n\t\t\tselectedIndex: computed(() => {\n\t\t\t\treturn store.state.selectedIndex;\n\t\t\t}),\n\t\t\ttextareaDOM: computed(() => {\n\t\t\t\treturn store.state.textareaDOM;\n\t\t\t}),\n\t\t});\n\n\t\tconst keyDownFunctions = {\n\t\t\tCtrlEnter: (event) => {\n\t\t\t\tsetTodo();\n\t\t\t},\n\t\t  CtrlB: (event) => {\n\t\t\t\tsetBold(event);\n\t\t\t},\n\t\t\tCtrlI: (event) => {\n\t\t\t\tsetItalic(event);\n\t\t\t},\n\t\t  '/': (event) => {\n\t\t\t\tstate.menuPosition = cursorPosition();\n\t\t\t},\n\t\t  '[': (event) => {\n\t\t\t\taddLetter(']');\n\t\t\t},\n\t\t  'Shift(': (event) => {\n\t\t\t\taddLetter(')');\n\t\t\t},\n\t\t}\n\n\t\tconst closeMenu = ()=>{\n\t\t\tstate.menuPosition = null;\n\t\t}\n\n\t\tconst addLetter = (letter) => {\n\t\t\tconst selectionStart = state.textareaDOM.selectionStart;\n\t\t\tblock.text = block.text.substring(0,selectionStart) +\n\t\t\t\tletter +\n\t\t\t\tblock.text.substring(selectionStart);\n\t\t\tnextTick(function() {\n\t\t\t\tstate.textareaDOM.selectionStart = state.textareaDOM.selectionEnd = selectionStart;\n\t\t\t})\n\t\t}\n\n\t\tconst setTextFormat = (append, event) => {\n\t\t\tconst selectionStart = state.textareaDOM.selectionStart;\n\t\t\tconst selectionEnd = state.textareaDOM.selectionEnd;\n\t\t\tconst sizeAppend = append.length;\n\t\t\tblock.text = block.text.substring(0,selectionStart) + append + block.text.substring(selectionStart);\n\t\t\tblock.text = block.text.substring(0,selectionEnd+sizeAppend) + append + block.text.substring(selectionEnd+sizeAppend);\n\t\t\tstate.textareaDOM.selectionStart = selectionStart + sizeAppend;\n\t\t\tstate.textareaDOM.selectionEnd = selectionEnd + sizeAppend;\n\t\t\tif(event) event.preventDefault();\n\t\t}\n\t\tconst setBold = (event) => {\n\t\t\tsetTextFormat('**', event);\n\t\t}\n\n\t\tconst setItalic = (event) => {\n\t\t\tsetTextFormat('*', event);\n\t\t}\n\n\t\tfunction cursorPosition(newval) {\n\t\t\tif(!state.textareaDOM) return 0;\n\t\t\tif(newval===undefined){\n\t\t\t\treturn state.textareaDOM.selectionStart;\n\t\t\t}\n\n\t\t\tstate.textareaDOM.selectionStart = newval;\n\n\t\t\tstate.textareaDOM.selectionEnd = newval;\n\t\t}\n\n\t\tconst styleBlock = (level) => {\n\t\t\treturn \t{\n\t\t\t\tmarginLeft: `${20*level}px`\n\t\t\t};\n\t\t}\n\t\tconst onKeydown = (event) => {\n\t\t\tif(process.env.VUE_APP_VERBOSE) console.log({onKeydown: event})\n\t\t\tlet command = '';\n\t\t\tif(event.ctrlKey) command += 'Ctrl';\n\t\t\tif(event.shiftKey) command += 'Shift';\n\t\t\tif(event.altKey) command += 'Alt';\n\t\t\tcommand += event.key;\n\t\t\tif(process.env.VUE_APP_VERBOSE) console.log({command})\n\n\t\t\tif(state.menuPosition) {\n\t\t\t\tif(ContextMenu.onKeydown(command,event)===false) return;\n\t\t\t}\n\n\t\t\tif(typeof keyDownFunctions[command] === 'function'){\n\t\t\t\tkeyDownFunctions[command](event);\n\t\t\t}\n\t\t\tcontext.emit('onKeydown', event);\n\t\t}\n\t\tconst focusTextarea = (position) => {\n\t\t\tif(process.env.VUE_APP_VERBOSE) console.log('position',position);\n\t\t\tnextTick(function() {\n\t\t\t\tif(!state.textareaDOM){\n\t\t\t\t\tconsole.error('Textarea not found');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tstate.textareaDOM.focus();\n\t\t\t\tcursorPosition(position);\n\t\t\t\tsetInputHeight();\n\t\t\t});\n\t\t}\n\t\tconst setInputHeight = () => {\n\n\t\t\tstate.textareaDOM.style.height = \"1.5em\";\n\n\t\t\tstate.textareaDOM.style.height = `${\n\t\t\tstate.textareaDOM.scrollHeight}px`;\n\t\t}\n\t\tconst selectBlock = (index) => {\n\t\t\tstore.state.selectedIndex = index;\n\t\t\tlet position = window.getSelection().getRangeAt(0).endOffset;\n\t\t\tfocusTextarea(position);\n\t\t}\n\t\tconst onClickBlock = (index,event) => {\n\t\t\tif(event.target.matches('.checkbox')){\n\t\t\t\ttoggleCheckbox(block)\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(event.target.matches('.reference')){\n\t\t\t\tevent.preventDefault();\n\t\t\t\trouter.push({path:event.target.href})\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tselectBlock(index,event);\n\t\t}\n\t\tconst setTodo = () => {\n\t\t\tlet text = block.text;\n\n\t\t\tif (!text.match(/^\\[\\[(TODO|DONE)\\]\\]/)) {\n\t\t\t\ttext = \"[[TODO]] \" + text;\n\t\t\t} else if (text.match(/^\\[\\[TODO\\]\\]/)) {\n\t\t\t\ttext = text.replace(/^\\[\\[TODO\\]\\]/, \"[[DONE]]\");\n\t\t\t} else if (text.match(/^\\[\\[DONE\\]\\]/)) {\n\t\t\t\ttext = text.replace(/^\\[\\[DONE\\]\\] */, \"\");\n\t\t\t}\n\t\t\tblock.text = text;\n\t\t}\n\t\tconst toggleCheckbox = (block) => {\n\t\t\tlet text = block.text;\n\t\t\tif (text.match(/^\\[\\[TODO\\]\\]/)) {\n\t\t\t\ttext = text.replace(/^\\[\\[TODO\\]\\]/, \"[[DONE]]\");\n\t\t\t} else if (text.match(/^\\[\\[DONE\\]\\]/)) {\n\t\t\t\ttext = text.replace(/^\\[\\[DONE\\]\\]/, \"[[TODO]]\");\n\t\t\t}\n\t\t\tblock.text = text;\n\t\t}\n\t\tconst marked = (text) => {\n\t\t\tif(!text) return '';\n\t\t\ttext = text.replace(/^\\[\\[TODO\\]\\]/,'<span class=\"checkbox\"></span>');\n\t\t\ttext = text.replace(/^\\[\\[DONE\\]\\]/,'<span class=\"checkbox checked\"></span>');\n\n\t\t\ttext = text.replace(/\\*\\*([^\\*]+)\\*\\*/g,'<strong>$1</strong>');\n\t\t\ttext = text.replace(/__([^_]+)__/g,'<strong>$1</strong>');\n\t\t\ttext = text.replace(/~~([^~]+)~~/g,'<del>$1</del>');\n\n\t\t\ttext = text.replace(/\\*([^\\*]+)\\*/g,'<em>$1</em>');\n\t\t\ttext = text.replace(/_([^_]+)_/g,'<em>$1</em>');\n\n\t\t\tvar matches = text.match(/\\[\\[([^\\]]+)\\]\\]/g);\n\t\t\tif(matches) matches.forEach(match=>{\n\t\t\t\tvar note_name = match.replace(/[\\[\\]]/g,'');\n\t\t\t\tvar note = store.state.notes.find(note=>{\n\t\t\t\t\treturn note.name == note_name\n\t\t\t\t});\n\t\t\t\tif(!note) return;\n\t\t\t\ttext = text.replace(match,`<a class=\"reference\" href=\"/${note.slug}\">${match}</a>`);\n\t\t\t});\n\n\t\t\treturn text;\n\t\t}\n\n\n\t\tconst {  selectedIndex,menuPosition } = toRefs( state );\n\t\tconst { textareaDOM } = toRefs(store.state);\n\t\treturn {\n\t\t\tselectedIndex,\n\t\t\tstyleBlock,\n\t\t\ttextareaDOM,\n\t\t\tmarked,\n\t\t\tonClickBlock,\n\t\t\tsetInputHeight,\n\t\t\tonKeydown,\n\t\t\tblock,\n\t\t\tindex,\n\t\t\tmenuPosition,\n\t\t\tcloseMenu,\n\t\t}\n\t}\n};\n</script>\n","<template>\n\t<div>\n\t\tmenu...\n\n\t</div>\n</template>\n<script>\n\nimport { reactive } from 'vue';\n\nconst state = reactive({\n\tselectedIndex:0,\n})\n\nconst keyDownFunctions = {\n\tArrowDown: ()=>{\n\t\tstate.selectedIndex++;\n\t},\n\tArrowUp: ()=>{\n\t\tstate.selectedIndex--;\n\t},\n\tEnter: (event)=>{\n\t\tconsole.log('enter');\n\t\tevent.preventDefault();\n\t\treturn false;\n\n\t},\n\n\tEscape: ()=>{\n\t\tconsole.log('esc');\n\t\tcloseMenu();\n\t},\n}\n\nconst closeMenu = ()=>{\n\tconsole.log('context',context);\n\tcontext.emit('close');\n}\n\n\nexport default {\n\tprops: {\n\t\tpos:{\n\t\t\ttype:Number,\n\t\t\trequired:true,\n\t\t},\n\t\ttext:{\n\t\t\ttype:String,\n\t\t}\n\t},\n\n\n\tonKeydown(command,event){\n\t\tif(typeof keyDownFunctions[command] === 'function'){\n\t\t\treturn keyDownFunctions[command](event);\n\t\t}\n\t\treturn true;\n\t},\n\n\tsetup(props,context){\n\n\t\tconsole.log('p',props);\n\n\t\treturn {\n\t\t\tcloseMenu\n\t\t}\n\n\t}\n}\n</script>\n","import { render } from \"./ContextMenu.vue?vue&type=template&id=5ebc1b1c\"\nimport script from \"./ContextMenu.vue?vue&type=script&lang=js\"\nexport * from \"./ContextMenu.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./BlockElement.vue?vue&type=template&id=8351a946\"\nimport script from \"./BlockElement.vue?vue&type=script&lang=js\"\nexport * from \"./BlockElement.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n\n\t<span :style=\"icoStyle\">\n\t\t<svg viewBox=\"0 0 24 24\" v-if=\"ico=='undo'\">\n\t\t\t<path fill=\"currentColor\" d=\"M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z\" />\n\t\t</svg>\n\t\t<svg viewBox=\"0 0 24 24\" v-if=\"ico=='redo'\">\n\t\t\t<path fill=\"currentColor\" d=\"M18.4,10.6C16.55,9 14.15,8 11.5,8C6.85,8 2.92,11.03 1.54,15.22L3.9,16C4.95,12.81 7.95,10.5 11.5,10.5C13.45,10.5 15.23,11.22 16.62,12.38L13,16H22V7L18.4,10.6Z\" />\n\t\t</svg>\n\t\t<svg viewBox=\"0 0 24 24\" v-if=\"ico=='loading'\">\n\t\t\t<path fill=\"currentColor\" d=\"M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z\" />\n\t\t</svg>\n\t\t<svg viewBox=\"0 0 24 24\" v-if=\"ico=='star-empty'\">\n\t\t\t<path fill=\"currentColor\" d=\"M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z\" />\n\t\t</svg>\n\t\t<svg viewBox=\"0 0 24 24\" v-if=\"ico=='star'\">\n\t\t\t<path fill=\"currentColor\" d=\"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z\" />\n\t\t</svg>\n\t</span>\n</template>\n\n<script>\n\texport default {\n\t\tprops:['ico','size'],\n\t\tcomputed:{\n\t\t\ticoStyle(){\n\t\t\t\treturn {\n\t\t\t\t\tdisplay:'inline-block',\n\t\t\t\t\twidth:this.size+'px',\n\t\t\t\t\theight:this.size+'px',\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped>\nsvg { display:block; height:100%; width:100%; }\n\n.spin svg{ display:block; width:100%; height:100%; animation: rotating 0.5s linear infinite;}\n\n@keyframes rotating {\n\tfrom {\n\t\ttransform: rotate(0deg);\n\t}\n\tto {\n\t\ttransform: rotate(360deg);\n\t}\n}\n\n</style>\n","import { render } from \"./Ico.vue?vue&type=template&id=1e57fe26&scoped=true\"\nimport script from \"./Ico.vue?vue&type=script&lang=js\"\nexport * from \"./Ico.vue?vue&type=script&lang=js\"\n\nimport \"./Ico.vue?vue&type=style&index=0&id=1e57fe26&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-1e57fe26\"\n\nexport default script","import { render } from \"./Note.vue?vue&type=template&id=6cdfd1f6\"\nimport script from \"./Note.vue?vue&type=script&lang=js\"\nexport * from \"./Note.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n\n  <div class=\"container\">\n\n    <h1 class=\"mt-5 mb-3 text-center\">Bullet Text</h1>\n\n    <div v-if=\"error\" class=\"alert alert-danger\">{{ error }}</div>\n\n\n\n    <div class=\"row\">\n      <div class=\"col-lg-6\">\n\n        <div class=\"card\">\n          <div class=\"card-header\">Login</div>\n          <div class=\"card-body\">\n            <form @submit.prevent=\"onSubmitLogin\">\n              <div class=\"form-group\">\n                <input type=\"email\" placeholder=\"E-mail\" class=\"form-control\" v-model=\"login.email\" required>\n              </div>\n              <div class=\"form-group\">\n                <input type=\"password\" placeholder=\"Password\" class=\"form-control\" v-model=\"login.password\" required>\n                <small class=\"form-text text-muted text-right\"><router-link to=\"forgot\">forgot password</router-link></small>\n              </div>\n              <button class=\"btn btn-primary\" type=\"submit\">Login</button>\n            </form>\n          </div>\n        </div>\n\n\n      </div>\n      <div class=\"col-lg-6\">\n        <div class=\"card\">\n          <div class=\"card-header\">Register</div>\n          <div class=\"card-body\">\n            <form @submit.prevent=\"onSubmitRegister\">\n              <div class=\"form-group\">\n                <input type=\"text\" placeholder=\"Name\" v-model=\"register.name\" class=\"form-control\" required>\n              </div>\n              <div class=\"form-group\">\n                <input type=\"text\" placeholder=\"E-mail\" v-model=\"register.email\" class=\"form-control\" required>\n              </div>\n              <div class=\"form-group\">\n                <input type=\"password\" placeholder=\"Password\" v-model=\"register.password\" class=\"form-control\" required>\n              </div>\n              <button class=\"btn btn-primary\" type=\"submit\">Register</button>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n\n\n</template>\n<script>\n  import axios from 'axios';\nimport { reactive, onMounted, toRefs } from \"vue\";\n  import { useRouter } from 'vue-router';\n  import store from '@/store';\n\n  export default {\n\n\t\tsetup(){\n\t\t\tconst router = useRouter();\n\n\t\t\tconst state = reactive({\n\t\t\t\t\t\terror:'',\n\t\t\t\t\t\tlogin:{\n\t\t\t\t\t\t\temail:'',\n\t\t\t\t\t\t\tpassword:'',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tregister:{\n\t\t\t\t\t\t\tname:'',\n\t\t\t\t\t\t\temail:'',\n\t\t\t\t\t\t\tpassword:'',\n\t\t\t\t\t\t}\n        });\n\n      const onSubmitLogin = () =>{\n        state.error = '';\n        axios({\n          method: 'post',\n          url: '/api/login',\n          data: state.login\n        }).then((res)=>{\n          store.setUser(res.data);\n          let intendedUrl = store.state.intendedUrl;\n          if(intendedUrl=='/login' || !intendedUrl) intendedUrl = '/';\n          router.push({path:intendedUrl})\n\n        }).catch((error)=>{\n          state.error = error.response.data;\n        });\n\n      }\n\n\t\t\tconst onSubmitRegister = () => {\n\t\t\t\tstate.error = '';\n\t\t\t\taxios({\n\t\t\t\t\tmethod: 'post',\n\t\t\t\t\turl: '/api/register',\n\t\t\t\t\tdata: state.register\n\t\t\t\t}).then((res)=>{\n\t\t\t\t\tstore.setUser(res.data);\n\n\t\t\t\t\tlet intendedUrl = store.state.intendedUrl;\n\t\t\t\t\tif(intendedUrl=='/login' || !intendedUrl) intendedUrl = '/';\n\t\t\t\t\trouter.push({path:intendedUrl})\n\n\t\t\t\t}).catch((error)=>{\n\t\t\t\t\tstate.error = error.response.data;\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tonMounted(() => {\n\t\t\t\tconsole.log(\"login\");\n\t\t\t});\n\t\t\tconst { error, login, register } = toRefs(state);\n\t\t\treturn {\n        store,\n\t\t\t\trouter,\n\t\t\t\terror,\n\t\t\t\tlogin,\n\t\t\t\tregister,\n\t\t\t\tonSubmitLogin,\n        onSubmitRegister,\n\t\t\t};\n\t}\n}\n\n\n\n</script>\n\n","import { render } from \"./Login.vue?vue&type=template&id=3e3e00d3\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n\n  <div class=\"container\">\n\n<h1 class=\"mt-5 mb-3 text-center\">Bullet Text</h1>\n\n<div v-if=\"error\" class=\"alert alert-danger\">{{ error }}</div>\n\n<div class=\"w-50 mx-auto\">\n<div class=\"card\">\n  <div class=\"card-header\">Password recovery</div>\n  <div class=\"card-body\">\n\n        <form @submit.prevent=\"onSubmit\">\n            <div class=\"form-group\">\n              <label>E-mail</label>\n              <input type=\"text\" class=\"form-control\" v-model=\"login.email\" required>\n            </div>\n          <button type=\"submit\" class=\"btn btn-primary\">Recover</button>\n        </form>\n\n\n  </div>\n  </div>\n  <p class=\"text-center mt-3\">\n        <router-link to=\"login\">Back to login</router-link>\n        </p>\n\n  </div>\n  </div>\n\n\n</template>\n<style scoped>\n\n\n</style>\n\n<script>\n\nimport axios from 'axios';\n\nexport default {\n  // props:['id','page_id'],\n  data() {\n    return {\n      error:'',\n      login:{\n        email:'',\n      },\n    }\n  },\n\n  methods:{\n\n    onSubmit(){\n      this.error = '';\n      axios({\n        method: 'post',\n        url: '/api/forgot',\n        data: this.login\n      }).then((res)=>{\n          alert('mensagem enviada');\n      }).catch((error)=>{\n          this.error = error.response.data;\n      });\n\n    },\n  },\n  mounted(){\n  }\n\n}\n\n\n\n</script>\n\n","import { render } from \"./Forgot.vue?vue&type=template&id=6e1ae4d9&scoped=true\"\nimport script from \"./Forgot.vue?vue&type=script&lang=js\"\nexport * from \"./Forgot.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-6e1ae4d9\"\n\nexport default script","<template>\n\n  <div class=\"container\">\n\n<h1 class=\"mt-5 mb-3 text-center\">Bullet Text</h1>\n\n<div v-if=\"error\" class=\"alert alert-danger\">{{ error }}</div>\n\n<div class=\"w-50 mx-auto\">\n<div class=\"card\">\n  <div class=\"card-header\">Set a new password</div>\n  <div class=\"card-body\">\n\n        <form @submit.prevent=\"onSubmit\">\n            <div class=\"form-group\">\n              <label>E-mail</label>\n              <input type=\"text\" class=\"form-control\" v-model=\"login.email\" readonly>\n             </div>\n            <div class=\"form-group\">\n              <label>New password</label>\n              <input type=\"password\" class=\"form-control\" v-model=\"login.password\">\n             </div>\n            <!-- <p><label>token:</label><input type=\"text\" v-model=\"login.token\"></p> -->\n        <button type=\"submit\" class=\"btn btn-primary\">Save</button>\n        </form>\n\n  </div>\n  </div>\n  </div>\n  </div>\n\n\n</template>\n<style scoped>\n\n\n</style>\n\n<script>\n\nimport axios from 'axios';\n\nexport default {\n  // props:['id','page_id'],\n  data() {\n    return {\n      error:'',\n      login:{\n        email:'',\n        password:'',\n        token:'',\n      },\n    }\n  },\n\n  methods:{\n\n    onSubmit(){\n      this.error = '';\n      axios({\n        method: 'post',\n        url: '/api/new-password',\n        data: this.login\n      }).then((res)=>{\n          alert('New password successfully set');\n          this.$router.push('login')\n      }).catch((error)=>{\n          this.error = error.response.data;\n      });\n\n    },\n\n  },\n  mounted(){\n      var query = window.location.search.replace(/^\\?/,'');\n      var queryArr = query.split('&');\n      var obj = {};\n      for(var i in queryArr){\n          var parts = queryArr[i].split('=');\n          obj[parts[0]] = parts[1];\n      }\n\n      this.login.email = decodeURIComponent(obj.email)\n      this.login.token = decodeURIComponent(obj.token)\n  }\n\n}\n\n\n\n</script>\n\n","import { render } from \"./NewPassword.vue?vue&type=template&id=52fcf5f6&scoped=true\"\nimport script from \"./NewPassword.vue?vue&type=script&lang=js\"\nexport * from \"./NewPassword.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-52fcf5f6\"\n\nexport default script","/* eslint-disable no-console */\nimport { createRouter, createWebHistory } from 'vue-router'\n\nimport axios from 'axios';\nimport store from '@/store';\n\nimport Dashboard from './views/Dashboard.vue'\nimport List from './views/List.vue'\nimport Note from './views/Note.vue'\nimport Login from './views/Login.vue'\nimport Forgot from './views/Forgot.vue'\nimport NewPassword from './views/NewPassword.vue'\n\n\nconst router = createRouter({\n\thistory:createWebHistory(process.env.BASE_URL),\n\troutes: [\n\t\t{ path: '/login', name: 'login', component: Login, props: true, meta: {restricted:false}, },\n\t\t{ path: '/forgot', name: 'forgot', component: Forgot, props: true, meta: {restricted:false}, },\n\t\t{ path: '/new-password', name: 'new-password', component: NewPassword, props: true, meta: {restricted:false}, },\n\n\t\t{ path: '/', name: 'dashboard', component: Dashboard, meta: {restricted:true}, children: [\n\t\t\t{ path: '/', name: 'list', component: List, meta: {restricted:true}},\n\t\t\t{ path: '/:slug', name: 'note', component: Note, props: true, meta: {restricted:true}, },\n\t\t]},\n\n\n\t]\n})\n\n\nrouter.beforeEach((to, from, next) => {\n/*  window.scrollTo(0,0); */\n\n\tconsole.log('route before each to: ',to.path);\n\n\t//if(edited && $('[data-note]')){\n\t//\tsaveAll();\n\t//}\n\n\tif(to.path=='/logout'){\n\n\t\taxios({\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/logout',\n\t\t}).then((res)=>{\n\t\t\tstore.setUser({});\n\t\t}).catch((error)=>{\n\t\t\tconsole.log('error',error);\n\t\t});\n\n\t\treturn next('/login');\n\t}\n\n\tconsole.log('store.isAuthenticated',store.state.isAuthenticated);\n\n\tif(!store.state.isAuthenticated && to.meta.restricted){\n\t\tconsole.log('next login');\n\t\tstore.setIntendedUrl(to.path);\n\t\treturn next('/login');\n\t}\n\n\tnext();\n\n});\n\nexport default router;\n","import { reactive, ref, toRef, toRefs, computed } from \"vue\";\nimport axios from 'axios';\nimport router from './router';\n\nconst state = reactive({\n\tuser: {\n\t\tid:null,\n\t\temail:'',\n\t\tis_admin:false,\n\t},\n\tauthInitialized:false,\n\tintendedUrl:'',\n\tnotes:[],\n\tnote:{},\n\tblocks:[],\n\tloading: 0,\n\tloadingMessage: '',\n\tselectedIndex: -1,\n\ttextareaDOM: null,\n\tisAuthenticated: computed(() => {\n\t\treturn state.authInitialized && state.user &&  state.user.id;\n\t}),\n\t// notes: computed(() => {\n\t// \tif(state.notes.length==0) return false;\n\t// \tvar dict = {};\n\t// \tstate.notes.forEach(note=>{\n\t// \t\tdict[note.id] = note;\n\t// \t});\n\t// \treturn dict;\n\t// })\n});\n\n\nconst startLoading = () => {\n\tstate.loading += 1;\n}\nconst stopLoading = () => {\n\tif(state.loading>0) state.loading -= 1;\n\tif(state.loading==0 && state.loadingMessage) {\n\t\tsetLoadingMessage('');\n\t}\n}\nconst setLoadingMessage = (message) => {\n\tstate.loadingMessage = message;\n}\nconst setUser = (user) => {\n\tstate.user = user;\n}\nconst setIntendedUrl = (url) => {\n\tstate.intendedUrl = url;\n}\nconst authInitialized = () => {\n\tstate.authInitialized = true;\n}\nconst getNotesIndex = () => {\n\tstartLoading();\n\taxios({ url: '/api/notes' }).then((res) => {\n    state.notes = res.data;\n\t}).finally(()=>{\n\t\tstopLoading();\n\t});\n}\n\nconst getNote = (slug) => {\n\tstartLoading();\n\treturn axios({ url: '/api/notes/'+slug }).then(res=>{\n\t\t\t//state.note = res.data;\n\t\t\t//state.blocks = res.data.blocks;\n\t\t\treturn res;\n\n\t}).catch(res=>{\n\t\t\t// toastr('No permisson to view this project','Error','#cc0000');\n\t\t\tconsole.error('No permisson to view this project','Error','#cc0000');\n\t\t\trouter.replace('/');\n\t}).finally(()=>{\n    stopLoading();\n\t})\n}\n\nconst newNote = (name) => {\n\tstartLoading();\n\tvar data = {name:name};\n\treturn axios({\n\t\tmethod:'post',\n\t\turl: '/api/notes',\n\t\tdata:data,\n\t}).then((res) => {\n\t\trouter.push({path:res.data.slug});\n\t\tgetNotesIndex();\n\t\treturn res;\n\t}).finally(()=>{\n\t\tstopLoading();\n\t});\n}\n\nexport default {\n\tstate,\n\tgetNote,\n\tstartLoading,\n\tgetNotesIndex,\n  authInitialized,\n  setUser,\n  setIntendedUrl,\n  newNote\n  //...toRefs(isAuthenticated),\n};\n","import { render } from \"./Loader.vue?vue&type=template&id=54d2a54e\"\nimport script from \"./Loader.vue?vue&type=script&lang=js\"\nexport * from \"./Loader.vue?vue&type=script&lang=js\"\n\nimport \"./Loader.vue?vue&type=style&index=0&id=54d2a54e&lang=css\"\nscript.render = render\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=60f2aebe\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import Vue, { createApp } from 'vue';\nimport App from './App.vue'\nimport axios from 'axios';\n//import helpers from './helpers.js';\n//import textareaHelpers from './textareaHelpers.js';\n//import keyboardHelpers from './keyboardHelpers.js';\n//import './menuHelpers.js';\nimport styles from './assets/style.css';\nimport router from '@/router';\nimport store from '@/store';\n\n\nwindow.Vue = Vue;\n\naxios({\n\tmethod: 'get',\n\turl: '/api/user',\n}).then((res)=>{\n\tstore.setUser(res.data);\n}).catch(()=>{\n}).finally(()=> {\n\tstore.authInitialized();\n\tconst app = createApp(App);\n\tapp.use(router);\n\tapp.mount('#app');\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Loader.vue?vue&type=style&index=0&id=54d2a54e&lang=css\""],"sourceRoot":""}