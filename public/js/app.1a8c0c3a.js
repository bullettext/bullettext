(function(e){function t(t){for(var o,c,i=t[0],l=t[1],s=t[2],u=0,p=[];u<i.length;u++)c=i[u],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&p.push(a[c][0]),a[c]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);d&&d(t);while(p.length)p.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,i=1;i<n.length;i++){var l=n[i];0!==a[l]&&(o=!1)}o&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},a={app:0},r=[];function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var d=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"38fa":function(e,t){window.edited=!1,window.timerSave=null,document.addEventListener("DOMContentLoaded",(function(){document.addEventListener("keydown",(function(e){edited=!0,clearTimeout(timerSave),timerSave=setTimeout((function(){edited&&(saveAll(),edited=!1)}),5e3),console.log(e.key),"Escape"==e.key&&e.target.matches("textarea")&&handleKeyEscape(e),"Backspace"==e.key&&e.target.matches("textarea")&&handleKeyBackspace(e),"Delete"==e.key&&e.target.matches("textarea")&&handleKeyDelete(e),"Enter"==e.key&&e.target.matches("textarea")&&!e.shiftKey&&(e.ctrlKey?handleKeyCtrlEnter(e):handleKeyEnter(e)),"Tab"==e.key&&e.target.matches("textarea")&&(e.shiftKey?handleShiftTab(e):handleTab(e)),"ArrowUp"==e.key&&e.target.matches("textarea")&&handleKeyArrowUp(e),"ArrowDown"==e.key&&e.target.matches("textarea")&&handleKeyArrowDown(e),"/"==e.key&&handleKeySlash(e),"z"==e.key&&e.ctrlKey&&revertHistory(),"b"==e.key&&e.ctrlKey&&setBold(e),"i"==e.key&&e.ctrlKey&&setItalic(e),"["==e.key&&(addLetter("]"),prevCharacter("[")&&nextCharacter("]")&&createMenuReference()),"("==e.key&&addLetter(")"),"{"==e.key&&addLetter("}")}))})),window.handleKeyEscape=function(e){window.hasMenu()?(window.destroyMenu(),e.preventDefault()):removeTextareas()},window.handleKeySlash=function(e){createMenuDefault()},window.handleKeyArrowUp=function(e){if(window.hasMenu())return window.prevItemSelectedMenu(),void e.preventDefault();if(e.shiftKey&&e.altKey){var t=e.target.closest("[data-block]"),n=t.parentNode,o=t.previousSibling;if(!o)return;return n.removeChild(t),n.insertBefore(t,o),editBlock(t)}isFirstLine(e.target)&&(e.preventDefault(),selectPrev())},window.handleKeyArrowDown=function(e){if(window.hasMenu())return window.nextItemSelectedMenu(),void e.preventDefault();if(e.shiftKey&&e.altKey){var t=e.target.closest("[data-block]"),n=t.parentNode,o=t.nextSibling;if(!o)return;n.removeChild(t);var a=o.nextSibling;return a?n.insertBefore(t,a):n.appendChild(t),editBlock(t)}isLastLine(e.target)&&(e.preventDefault(),selectNext())},window.handleKeyEnter=function(e){if(e.preventDefault(),window.hasMenu())window.callSelectItemMenu();else{var t=e.target,n=t.closest("[data-block]"),o=t.value,a=document.createElement("li");a.setAttribute("data-block",""),a.setAttribute("data-temp-id",getTempId());var r=document.createElement("p");r.innerHTML=unmarked(o.substr(0,t.selectionStart)),a.appendChild(r),n.parentNode.insertBefore(a,n),t.value=o.substr(t.selectionEnd),t.selectionStart=0,t.selectionEnd=0}},window.handleKeyCtrlEnter=function(e){e.preventDefault();var t=e.target;setTodo(t),setInputHeight(t)},window.handleKeyBackspace=function(e){var t=e.target;if(0==t.selectionStart&&0==t.selectionEnd){var n=t.closest("[data-block]"),o=getPrevBlock(n);if(!o)return;e.preventDefault();t.value;var a=unmarked(o.querySelector("p").innerHTML);o.parentNode.removeChild(o),t.value=a+t.value,setInputHeight(t),t.selectionStart=a.length,t.selectionEnd=a.length}},window.handleKeyDelete=function(e){var t=e.target;if(t.selectionStart==t.value.length&&t.selectionEnd==t.value.length){var n=t.closest("[data-block]"),o=t.value,a=getNextBlock(n);if(!a)return;if(e.preventDefault(),a==n.querySelector("[data-block]")){var r=unmarked(a.querySelector("p").innerHTML);a.parentNode.removeChild(a),t.value+=r,setInputHeight(t)}else n.parentNode.removeChild(n),editBlock(a),t=$("textarea"),t.value=o+t.value;t.selectionStart=o.length,t.selectionEnd=o.length}},window.handleTab=function(e){e.preventDefault();var t=e.target,n=t.closest("[data-block]"),o=n.previousSibling;if(o){var a=o.querySelector("ul");a||(a=document.createElement("ul"),o.appendChild(a)),n.parentNode.removeChild(n),a.appendChild(n),$("textarea").focus()}},window.handleShiftTab=function(e){e.preventDefault();var t=e.target,n=t.closest("[data-block]"),o=n.parentNode;if("UL"==o.tagName){var a=o.closest("[data-block]"),r=a.nextSibling;o.removeChild(n),0==o.querySelectorAll("li").length&&a.removeChild(o),r?a.parentNode.insertBefore(n,r):a.parentNode.appendChild(n),$("textarea").focus()}}},"516a":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("d3b7"),n("e623"),n("e379"),n("5dc8"),n("37e1");var o=n("f2bf"),a={class:"wrapper-app"},r=Object(o["f"])("Dashboard");function c(e,t,n,c,i,l){var s=Object(o["x"])("router-link"),d=Object(o["x"])("router-view"),u=Object(o["x"])("loader");return Object(o["q"])(),Object(o["d"])("div",a,[Object(o["g"])("aside",null,[Object(o["g"])(s,{to:"/"},{default:Object(o["E"])((function(){return[r]})),_:1})]),Object(o["g"])("main",null,[Object(o["g"])(d,{key:e.$route.fullPath})]),Object(o["g"])(u)])}n("99af"),n("4d90");var i={class:"ajax-loader"},l=Object(o["g"])("div",{class:"loader-circle"},[Object(o["g"])("div",{class:"loader-line-mask"},[Object(o["g"])("div",{class:"loader-line"})]),Object(o["g"])("div",{class:"loader-img"})],-1),s={key:0};function d(e,t,n,a,r,c){return Object(o["F"])((Object(o["q"])(),Object(o["d"])("div",i,[l,c.loadingMessage?(Object(o["q"])(),Object(o["d"])("p",s,Object(o["z"])(c.loadingMessage),1)):Object(o["e"])("",!0)],512)),[[o["C"],c.isLoading]])}var u={computed:{isLoading:function(){return this.$store.state.loading},loadingMessage:function(){return this.$store.state.loadingMessage}}};n("e533");u.render=d;var p=u,f={name:"app",components:{Loader:p},data:function(){return{}},computed:{isAuthenticated:function(){return this.$store.getters.isAuthenticated},editingBlockId:function(){return this.$store.state.editingBlockId}},methods:{},created:function(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),o=e.getFullYear();e="".concat(o,"-").concat(n,"-").concat(t),"/"==this.$route.fullPath&&this.$router.push("/".concat(e))}};f.render=c;var g=f,b=n("bc3a"),m=n.n(b),h=(n("7db0"),n("4160"),n("c975"),n("d81d"),n("fb6a"),n("b0c0"),n("ac1f"),n("466d"),n("5319"),n("159b"),n("2909")),v=n("5502"),O=n("6c02"),j={class:"dashboard"},w={class:"container"},y=Object(o["g"])("div",{class:"d-flex align-items-center justify-content-between my-3"},[Object(o["g"])("h1",null,"Notes")],-1),k=Object(o["f"])(" new note: "),x={class:"notes"};function S(e,t,n,a,r,c){var i=Object(o["x"])("router-link");return Object(o["q"])(),Object(o["d"])("div",j,[Object(o["g"])("div",w,[y,Object(o["g"])("form",{onSubmit:t[2]||(t[2]=Object(o["H"])((function(){return c.newNote&&c.newNote.apply(c,arguments)}),["prevent"]))},[k,Object(o["F"])(Object(o["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.note.name=e}),required:""},null,512),[[o["B"],r.note.name]])],32),Object(o["g"])("ul",x,[(Object(o["q"])(!0),Object(o["d"])(o["a"],null,Object(o["w"])(c.notes,(function(e){return Object(o["q"])(),Object(o["d"])("li",{key:e.id},[Object(o["g"])(i,{to:"/"+e.slug},{default:Object(o["E"])((function(){return[Object(o["f"])(Object(o["z"])(e.slug),1)]})),_:2},1032,["to"])])})),128))])])])}var L={name:"dashboard",data:function(){return{note:{name:""}}},computed:{notes:function(){return this.$store.state.notes}},methods:{newNote:function(){var e=this;if(!this.note.name)return!1;this.$store.dispatch("startLoading");var t=this.note;m()({method:"post",url:"/api/notes",data:t}).then((function(t){e.$router.push({path:t.data.slug}),e.$store.dispatch("getNotesIndex")})).finally((function(){e.$store.dispatch("stopLoading")}))}},mounted:function(){this.$store.dispatch("getNotesIndex")}};L.render=S;var E=L,M=Object(o["g"])("button",{onclick:"saveAll()"},"save",-1),C={class:"my-3"},T=Object(o["g"])("div",{class:"blocks"},[Object(o["g"])("div",{class:"vanilla"},[Object(o["g"])("ul")])],-1),B={key:0,class:"references"};function I(e,t,n,a,r,c){var i=Object(o["x"])("router-link");return Object(o["q"])(),Object(o["d"])("div",null,[r.note_id?(Object(o["q"])(),Object(o["d"])("div",{key:0,class:"container","data-note":r.note_id},[M,Object(o["g"])("div",C,[Object(o["g"])("h1",null,Object(o["z"])(c.note.name),1)]),T,c.note.references?(Object(o["q"])(),Object(o["d"])("ul",B,[(Object(o["q"])(!0),Object(o["d"])(o["a"],null,Object(o["w"])(c.references,(function(e,t){return Object(o["q"])(),Object(o["d"])("li",{key:t},[Object(o["g"])(i,{to:"/"+e.note.slug},{default:Object(o["E"])((function(){return[Object(o["f"])(Object(o["z"])(e.note.name),1)]})),_:2},1032,["to"]),Object(o["g"])("p",null,Object(o["z"])(e.text),1)])})),128))])):Object(o["e"])("",!0)],8,["data-note"])):Object(o["e"])("",!0)])}var D={class:"block-content"};function _(e,t,n,a,r,c){var i=Object(o["x"])("_self");return Object(o["q"])(),Object(o["d"])("ul",{"data-level":n.level},[(Object(o["q"])(!0),Object(o["d"])(o["a"],null,Object(o["w"])(c.levelBlocks,(function(a){return Object(o["q"])(),Object(o["d"])("li",{key:a.id},[Object(o["g"])("div",D,[null!==c.editingBlockId&&c.editingBlockId==a.id?Object(o["F"])((Object(o["q"])(),Object(o["d"])("textarea",{key:a.id,"onUpdate:modelValue":function(e){return a.text=e},onInput:t[1]||(t[1]=function(){return e.setLayerHeight&&e.setLayerHeight.apply(e,arguments)}),onFocus:t[2]||(t[2]=function(){return e.setLayerHeight&&e.setLayerHeight.apply(e,arguments)}),onKeydown:Object(o["G"])((function(e){return c.handleEnter(e,a)}),["enter"])},null,40,["onUpdate:modelValue","onKeydown"])),[[o["B"],a.text]]):Object(o["e"])("",!0),Object(o["g"])("p",{onClick:function(e){return c.editBlock(a.id)},innerHTML:e.marked(a.text)},null,8,["onClick","innerHTML"])]),Object(o["g"])(i,{blocks:n.blocks,level:n.level+1,parent_id:a.id,note_id:n.note_id},null,8,["blocks","level","parent_id","note_id"])])})),128))],8,["data-level"])}n("4de4");var N={name:"BlockList",components:{},props:["blocks","level","parent_id","note_id"],data:function(){return{}},computed:{editingBlockId:function(){return this.$store.state.editingBlockId},levelBlocks:function(){var e=this;return this.blocks.filter((function(t){return t.parent_id==e.parent_id}))}},methods:{handleEnter:function(e){if(console.log("enter"),e.ctrlKey){var t=this.$store.getters.block;return t.text.match(/^\[\[(TODO|DONE)\]\]/)?t.text.match(/^\[\[TODO\]\]/)?t.text=t.text.replace(/^\[\[TODO\]\]/,"[[DONE]]"):t.text.match(/^\[\[DONE\]\]/)&&(t.text=t.text.replace(/^\[\[DONE\]\] */,"")):t.text="[[TODO]] "+t.text,void e.preventDefault()}e.shiftKey||(this.$store.dispatch("saveAndNew"),e.preventDefault())},editBlock:function(e){console.log("starteditblock"),this.$store.dispatch("editBlock",e)}},mounted:function(){}};N.render=_;var H=N,q={name:"note",components:{BlockList:H},props:["slug"],data:function(){return{note_id:null}},computed:{notes:function(){return this.$store.getters.notes},note:function(){return this.$store.state.note},references:function(){var e=this;if(!this.notes||!this.note.references)return!1;var t=this.note.references;return t.map((function(t){return t.note=e.notes[t.note_id],t}))}},methods:{addHistory:function(){window.addHistory()},revertHistory:function(){window.revertHistory()}},mounted:function(){var e=this;this.notes||this.$store.dispatch("getNotesIndex"),this.$store.dispatch("getNote",this.slug).then((function(t){e.note_id=t.data.id,e.$nextTick((function(){hydrate(t.data.id,t.data.blocks),0==t.data.blocks.length&&window.newBlock(t.data.id)}))}))}};q.render=I;var P=q,A=Object(o["I"])("data-v-fc4871f8");Object(o["t"])("data-v-fc4871f8");var U={class:"container"},K={class:"my-3"},V={class:"text-muted"},F={class:"row"},z={class:"col"},R=Object(o["g"])("dt",null,"Domain",-1),W={key:0,class:"col"},Y=Object(o["g"])("dt",null,"State",-1),J={key:0},Z=Object(o["g"])("i",{class:"state-published"},null,-1),X=Object(o["f"])(" Published "),G={key:1},Q=Object(o["g"])("i",{class:"state-unpublished"},null,-1),ee=Object(o["f"])(" Unpublished "),te=Object(o["f"])("Edit project"),ne=Object(o["f"])("Admin"),oe=Object(o["f"])("Form history"),ae={key:1,class:"text-muted"},re=Object(o["g"])("h3",null,"Pages",-1),ce={class:"table"},ie={class:"text-nowrap"},le=Object(o["g"])("svg",{class:"icosvg",viewBox:"0 0 24 24"},[Object(o["g"])("path",{fill:"currentColor",d:"M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z"})],-1),se={class:"text-right text-nowrap"},de={class:"is-desktop"},ue={key:0},pe={key:1},fe=Object(o["g"])("svg",{class:"is-mobile icosvg",viewBox:"0 0 24 24"},[Object(o["g"])("path",{fill:"currentColor",d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"})],-1),ge=Object(o["g"])("svg",{class:"icosvg",viewBox:"0 0 24 24"},[Object(o["g"])("path",{fill:"currentColor",d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"})],-1);Object(o["r"])();var be=A((function(e,t,n,a,r,c){var i=Object(o["x"])("router-link");return Object(o["q"])(),Object(o["d"])("div",null,[Object(o["g"])("div",U,[Object(o["g"])("div",K,[Object(o["g"])("h1",null,Object(o["z"])(c.project.name),1),Object(o["g"])("p",V,[Object(o["g"])("a",{href:c.url(c.project.slug),target:"_blank"},Object(o["z"])(c.url(c.project.slug)),9,["href"])]),Object(o["g"])("div",F,[Object(o["g"])("div",z,[Object(o["g"])("dl",null,[R,Object(o["g"])("dd",null,[Object(o["g"])("span",null,Object(o["z"])(c.project.domain||"(not set)"),1),Object(o["g"])("button",{class:"btn ml-1  btn-sm btn-light",onClick:t[1]||(t[1]=function(){return c.openModalDomain&&c.openModalDomain.apply(c,arguments)})},"Configure")])])]),c.project.domain?(Object(o["q"])(),Object(o["d"])("div",W,[Object(o["g"])("dl",null,[Y,Object(o["g"])("dd",null,[c.project.is_published?(Object(o["q"])(),Object(o["d"])("span",J,[Object(o["g"])("a",{onClick:t[2]||(t[2]=Object(o["H"])((function(){return c.openModalUnpublish&&c.openModalUnpublish.apply(c,arguments)}),["prevent"]))},[Z,X])])):Object(o["e"])("",!0),c.project.is_published?Object(o["e"])("",!0):(Object(o["q"])(),Object(o["d"])("span",G,[Object(o["g"])("a",{onClick:t[3]||(t[3]=Object(o["H"])((function(){return c.openModalPublish&&c.openModalPublish.apply(c,arguments)}),["prevent"]))},[Q,ee])]))])])])):Object(o["e"])("",!0)]),Object(o["g"])(i,{class:"btn btn-light btn-sm",to:"/project/"+c.project.id+"/edit"},{default:A((function(){return[te]})),_:1},8,["to"]),Object(o["g"])(i,{class:"btn btn-light btn-sm",to:{name:"project-tables",params:{project_id:c.project.id}}},{default:A((function(){return[ne]})),_:1},8,["to"]),c.project.domain?(Object(o["q"])(),Object(o["d"])(i,{key:0,class:"btn btn-light btn-sm",to:{name:"form-history",params:{project_id:c.project.id}}},{default:A((function(){return[oe]})),_:1},8,["to"])):Object(o["e"])("",!0),c.project.tables&&c.project.tables.length>0?(Object(o["q"])(),Object(o["d"])("p",ae,[Object(o["g"])("a",{href:c.urladmin(),target:"_blank"},"Painel Admin",8,["href"])])):Object(o["e"])("",!0)]),re,Object(o["g"])("table",ce,[Object(o["g"])("tbody",null,[(Object(o["q"])(!0),Object(o["d"])(o["a"],null,Object(o["w"])(c.project.pages,(function(e){return Object(o["q"])(),Object(o["d"])("tr",null,[Object(o["g"])("td",null,Object(o["z"])(e.name),1),Object(o["g"])("td",ie,[Object(o["f"])(Object(o["z"])(e.slug)+" ",1),Object(o["g"])("a",{class:"ml-2",href:c.url(c.project.slug,e.slug),target:"_blank"},[le],8,["href"])]),Object(o["g"])("td",se,[Object(o["g"])(i,{class:"btn btn-sm btn-primary mr-2",to:"/project/"+c.project.id+"/"+e.id},{default:A((function(){return[Object(o["g"])("span",de,[e.output?(Object(o["q"])(),Object(o["d"])("span",pe,"edit page")):(Object(o["q"])(),Object(o["d"])("span",ue,"start building page"))]),fe]})),_:2},1032,["to"]),Object(o["g"])("button",{class:"btn btn-sm btn-link has-text-danger",onClick:function(t){return c.removePage(e)}},[ge],8,["onClick"])])])})),256))])]),Object(o["g"])("button",{class:"btn btn-primary",onClick:t[4]||(t[4]=function(){return c.newPage&&c.newPage.apply(c,arguments)})},"New page"),c.isAdmin?(Object(o["q"])(),Object(o["d"])("button",{key:0,class:"btn btn-warning",onClick:t[5]||(t[5]=function(){return c.openModalSaveTemplate&&c.openModalSaveTemplate.apply(c,arguments)})},"save as template")):Object(o["e"])("",!0)])])})),me={name:"project",components:{},props:["id"],data:function(){return{modalDomain:!1,modalTemplate:!1,modalPublish:!1,modalUnpublish:!1}},computed:{project:function(){return this.$store.getters.project},isAdmin:function(){return this.$store.getters.user.is_admin}},methods:{openModalSaveTemplate:function(){this.modalTemplate=!0},openModalDomain:function(){this.modalDomain=!0},openModalUnpublish:function(){this.modalUnpublish=!0},openModalPublish:function(){this.modalPublish=!0},url:function(e,t){var n="https://"+e+".bullettextnew";return t&&(n+="/"+t.replace(/\/$/,"")),n},urladmin:function(){var e=this.project.domain;if(e)var t="https://"+e;else t="https://"+this.project.slug+".bullettextnew";return t+="/admin?token="+this.project.token,t},dataBr:function(e){var t=new Date(e);return("0"+t.getDate()).substr(-2)+"/"+("0"+(t.getMonth()+1)).substr(-2)+"/"+t.getFullYear()},getProject:function(){var e=this;this.$store.dispatch("startLoading"),this.$store.dispatch("getProject",this.id).catch((function(t){toastr("No permisson to view this project","Error","#cc0000"),e.$router.replace("/")})).finally((function(){e.$store.dispatch("stopLoading")}))},newPage:function(){var e=this,t=prompt("Page name");t&&m()({method:"post",url:"/api/pages",data:{name:t,project_id:this.id}}).then((function(t){e.$router.push("/project/"+e.id+"/"+t.data.id)}))},removePage:function(e){var t=this;confirm("Remove page?")&&m()({method:"delete",url:"/api/page/"+e.id}).then((function(e){t.getProject()}))}},mounted:function(){console.log("id",this.id),this.getProject()}};me.render=be,me.__scopeId="data-v-fc4871f8";var he=me,ve=Object(o["I"])("data-v-2650618a");Object(o["t"])("data-v-2650618a");var Oe={class:"container"},je=Object(o["g"])("h1",{class:"mt-5 mb-3 text-center"},"Bullet Text",-1),we={key:0,class:"alert alert-danger"},ye={class:"row"},ke={class:"col-lg-6"},xe={class:"card"},Se=Object(o["g"])("div",{class:"card-header"},"Login",-1),Le={class:"card-body"},Ee={class:"form-group"},$e={class:"form-group"},Me={class:"form-text text-muted text-right"},Ce=Object(o["f"])("forgot password"),Te=Object(o["g"])("button",{class:"btn btn-primary",type:"submit"},"Login",-1),Be={class:"col-lg-6"},Ie={class:"card"},De=Object(o["g"])("div",{class:"card-header"},"Register",-1),_e={class:"card-body"},Ne={class:"form-group"},He={class:"form-group"},qe={class:"form-group"},Pe=Object(o["g"])("button",{class:"btn btn-primary",type:"submit"},"Register",-1);Object(o["r"])();var Ae=ve((function(e,t,n,a,r,c){var i=Object(o["x"])("router-link");return Object(o["q"])(),Object(o["d"])("div",Oe,[je,r.error?(Object(o["q"])(),Object(o["d"])("div",we,Object(o["z"])(r.error),1)):Object(o["e"])("",!0),Object(o["g"])("div",ye,[Object(o["g"])("div",ke,[Object(o["g"])("div",xe,[Se,Object(o["g"])("div",Le,[Object(o["g"])("form",{onSubmit:t[3]||(t[3]=Object(o["H"])((function(){return c.onSubmitLogin&&c.onSubmitLogin.apply(c,arguments)}),["prevent"]))},[Object(o["g"])("div",Ee,[Object(o["F"])(Object(o["g"])("input",{type:"email",placeholder:"E-mail",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.login.email=e}),required:""},null,512),[[o["B"],r.login.email]])]),Object(o["g"])("div",$e,[Object(o["F"])(Object(o["g"])("input",{type:"password",placeholder:"Password",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.login.password=e}),required:""},null,512),[[o["B"],r.login.password]]),Object(o["g"])("small",Me,[Object(o["g"])(i,{to:"forgot"},{default:ve((function(){return[Ce]})),_:1})])]),Te],32)])])]),Object(o["g"])("div",Be,[Object(o["g"])("div",Ie,[De,Object(o["g"])("div",_e,[Object(o["g"])("form",{onSubmit:t[7]||(t[7]=Object(o["H"])((function(){return c.onSubmitRegister&&c.onSubmitRegister.apply(c,arguments)}),["prevent"]))},[Object(o["g"])("div",Ne,[Object(o["F"])(Object(o["g"])("input",{type:"text",placeholder:"Name","onUpdate:modelValue":t[4]||(t[4]=function(e){return r.register.name=e}),class:"form-control",required:""},null,512),[[o["B"],r.register.name]])]),Object(o["g"])("div",He,[Object(o["F"])(Object(o["g"])("input",{type:"text",placeholder:"E-mail","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.register.email=e}),class:"form-control",required:""},null,512),[[o["B"],r.register.email]])]),Object(o["g"])("div",qe,[Object(o["F"])(Object(o["g"])("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[6]||(t[6]=function(e){return r.register.password=e}),class:"form-control",required:""},null,512),[[o["B"],r.register.password]])]),Pe],32)])])])])])})),Ue={data:function(){return{error:"",login:{email:"",password:""},register:{name:"",email:"",password:""}}},methods:{onSubmitLogin:function(){var e=this;this.error="",m()({method:"post",url:"/api/login",data:this.login}).then((function(t){e.$store.dispatch("setUser",t.data);var n=e.$store.state.intendedUrl;"/login"!=n&&n||(n="/"),e.$router.push({path:n})})).catch((function(t){e.error=t.response.data}))},onSubmitRegister:function(){var e=this;this.error="",m()({method:"post",url:"/api/register",data:this.register}).then((function(t){e.$store.dispatch("setUser",t.data);var n=e.$store.state.intendedUrl;"/login"!=n&&n||(n="/"),e.$router.push({path:n})})).catch((function(t){e.error=t.response.data}))}},mounted:function(){}};Ue.render=Ae,Ue.__scopeId="data-v-2650618a";var Ke=Ue,Ve=Object(o["I"])("data-v-6e1ae4d9");Object(o["t"])("data-v-6e1ae4d9");var Fe={class:"container"},ze=Object(o["g"])("h1",{class:"mt-5 mb-3 text-center"},"Bullet Text",-1),Re={key:0,class:"alert alert-danger"},We={class:"w-50 mx-auto"},Ye={class:"card"},Je=Object(o["g"])("div",{class:"card-header"},"Password recovery",-1),Ze={class:"card-body"},Xe={class:"form-group"},Ge=Object(o["g"])("label",null,"E-mail",-1),Qe=Object(o["g"])("button",{type:"submit",class:"btn btn-primary"},"Recover",-1),et={class:"text-center mt-3"},tt=Object(o["f"])("Back to login");Object(o["r"])();var nt=Ve((function(e,t,n,a,r,c){var i=Object(o["x"])("router-link");return Object(o["q"])(),Object(o["d"])("div",Fe,[ze,r.error?(Object(o["q"])(),Object(o["d"])("div",Re,Object(o["z"])(r.error),1)):Object(o["e"])("",!0),Object(o["g"])("div",We,[Object(o["g"])("div",Ye,[Je,Object(o["g"])("div",Ze,[Object(o["g"])("form",{onSubmit:t[2]||(t[2]=Object(o["H"])((function(){return c.onSubmit&&c.onSubmit.apply(c,arguments)}),["prevent"]))},[Object(o["g"])("div",Xe,[Ge,Object(o["F"])(Object(o["g"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.login.email=e}),required:""},null,512),[[o["B"],r.login.email]])]),Qe],32)])]),Object(o["g"])("p",et,[Object(o["g"])(i,{to:"login"},{default:Ve((function(){return[tt]})),_:1})])])])})),ot={data:function(){return{error:"",login:{email:""}}},methods:{onSubmit:function(){var e=this;this.error="",m()({method:"post",url:"/api/forgot",data:this.login}).then((function(e){alert("mensagem enviada")})).catch((function(t){e.error=t.response.data}))}},mounted:function(){}};ot.render=nt,ot.__scopeId="data-v-6e1ae4d9";var at=ot,rt=Object(o["I"])("data-v-52fcf5f6");Object(o["t"])("data-v-52fcf5f6");var ct={class:"container"},it=Object(o["g"])("h1",{class:"mt-5 mb-3 text-center"},"Bullet Text",-1),lt={key:0,class:"alert alert-danger"},st={class:"w-50 mx-auto"},dt={class:"card"},ut=Object(o["g"])("div",{class:"card-header"},"Set a new password",-1),pt={class:"card-body"},ft={class:"form-group"},gt=Object(o["g"])("label",null,"E-mail",-1),bt={class:"form-group"},mt=Object(o["g"])("label",null,"New password",-1),ht=Object(o["g"])("button",{type:"submit",class:"btn btn-primary"},"Save",-1);Object(o["r"])();var vt=rt((function(e,t,n,a,r,c){return Object(o["q"])(),Object(o["d"])("div",ct,[it,r.error?(Object(o["q"])(),Object(o["d"])("div",lt,Object(o["z"])(r.error),1)):Object(o["e"])("",!0),Object(o["g"])("div",st,[Object(o["g"])("div",dt,[ut,Object(o["g"])("div",pt,[Object(o["g"])("form",{onSubmit:t[3]||(t[3]=Object(o["H"])((function(){return c.onSubmit&&c.onSubmit.apply(c,arguments)}),["prevent"]))},[Object(o["g"])("div",ft,[gt,Object(o["F"])(Object(o["g"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.login.email=e}),readonly:""},null,512),[[o["B"],r.login.email]])]),Object(o["g"])("div",bt,[mt,Object(o["F"])(Object(o["g"])("input",{type:"password",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.login.password=e})},null,512),[[o["B"],r.login.password]])]),ht],32)])])])])})),Ot=(n("841c"),n("1276"),{data:function(){return{error:"",login:{email:"",password:"",token:""}}},methods:{onSubmit:function(){var e=this;this.error="",m()({method:"post",url:"/api/new-password",data:this.login}).then((function(t){alert("New password successfully set"),e.$router.push("login")})).catch((function(t){e.error=t.response.data}))}},mounted:function(){var e=window.location.search.replace(/^\?/,""),t=e.split("&"),n={};for(var o in t){var a=t[o].split("=");n[a[0]]=a[1]}this.login.email=decodeURIComponent(n.email),this.login.token=decodeURIComponent(n.token)}});Ot.render=vt,Ot.__scopeId="data-v-52fcf5f6";var jt=Ot,wt=Object(O["a"])({history:Object(O["b"])("/"),routes:[{path:"/",name:"dashboard",component:E,meta:{restricted:!0}},{path:"/login",name:"login",component:Ke,props:!0,meta:{restricted:!1}},{path:"/forgot",name:"forgot",component:at,props:!0,meta:{restricted:!1}},{path:"/new-password",name:"new-password",component:jt,props:!0,meta:{restricted:!1}},{path:"/:slug",name:"note",component:P,props:!0,meta:{restricted:!0}},{path:"/:slug/:id",name:"block",component:he,props:!0,meta:{restricted:!0}}]});wt.beforeEach((function(e,t,n){return console.log("route beforeeach to: ",e.path),edited&&$("[data-note]")&&saveAll(),"/logout"==e.path?(m()({method:"get",url:"/api/logout"}).then((function(e){kt.dispatch("setUser",{})})).catch((function(e){console.log("error",e)})),n("/login")):!kt.getters.isAuthenticated&&e.meta.restricted?(kt.dispatch("setIntendedUrl",e.path),n("/login")):void n()}));var yt=wt,kt=v["a"].createStore({state:{user:{id:null,email:"",is_admin:!1},authInitialized:!1,intendedUrl:"",notes:[],note:{},blocks:[],loading:0,loadingMessage:""},mutations:{startLoading:function(e){e.loading+=1},stopLoading:function(e){e.loading>0&&(e.loading-=1)},setLoadingMessage:function(e,t){e.loadingMessage=t},setIntendedUrl:function(e,t){e.intendedUrl=t},authInitialized:function(e){e.authInitialized=!0},setUser:function(e,t){e.user=t},setNotes:function(e,t){e.notes=t}},actions:{startLoading:function(e){var t=e.commit;t("startLoading")},stopLoading:function(e){var t=e.commit;t("stopLoading"),0==this.state.loading&&this.state.loadingMessage&&t("setLoadingMessage","")},setLoadingMessage:function(e,t){var n=e.commit,o=t.message;n("setLoadingMessage",o)},setUser:function(e,t){var n=e.commit;n("setUser",t)},setIntendedUrl:function(e,t){var n=e.commit;n("setIntendedUrl",t)},authInitialized:function(e,t){var n=e.commit;n("authInitialized",t)},getNotesIndex:function(e){var t=this,n=e.commit;console.log("getNotesIndex"),this.dispatch("startLoading"),m()({url:"/api/notes"}).then((function(e){n("setNotes",e.data)})).finally((function(){t.dispatch("stopLoading")}))},getNote:function(e,t){var n=this,o=e.state;return this.dispatch("startLoading"),m()({url:"/api/notes/"+t}).then((function(e){return o.note=e.data,o.blocks=e.data.blocks,e})).catch((function(e){toastr("No permisson to view this project","Error","#cc0000"),n.$router.replace("/")})).finally((function(){n.dispatch("stopLoading")}))}},getters:{isAuthenticated:function(e){return e.authInitialized&&e.user&&e.user.id},blocks:function(e,t){return t.sort(e.blocks)},notes:function(e){if(0==e.notes.length)return!1;var t={};return e.notes.forEach((function(e){t[e.id]=e})),t},block:function(e){return null===e.editingBlockId?null:e.blocks.find((function(t){return t.id==e.editingBlockId}))}}}),xt=[];window.$$=window.$$||function(e,t){t=t||document;var n=t.querySelectorAll(e);return Array.prototype.slice.call(n)},window.$=window.$||function(e,t){return t=t||document,t.querySelector(e)},window.addHistory=function(e){e&&(xt.length&&JSON.stringify(e)==JSON.stringify(xt[xt.length-1])||(xt.push(e),console.log("history added",e),xt.length>10&&xt.shift()))},window.revertHistory=function(){var e=xt.pop();console.log("history data",e),e&&hydrate(window.note_id,e)},window.getData=function(){var e=$("textarea");if(e){var t=e.nextSibling;t&&"P"==t.tagName&&(t.innerHTML=marked(e.value))}var n=$$("[data-block]").map((function(e){var t=e.parentNode.closest("[data-block]"),n=null;return t&&(n=t.getAttribute("data-block"),n||(n=t.getAttribute("data-temp-id"))),{id:e.getAttribute("data-block"),parent_id:n,order:getBlockOrder(e),temp_id:e.getAttribute("data-temp-id"),text:unmarked($("p",e).innerHTML)}}));return n},document.addEventListener("click",(function(e){if(console.log(e.target),e.target.classList.contains("reference"))console.log("link reference clicked"),e.preventDefault(),e.stopPropagation(),console.log(yt),yt.push(e.target.getAttribute("href"));else if(e.target.classList.contains("checkbox"))console.log("checkbox clicked"),toggleCheckbox(e);else if(e.target.matches("textarea"))console.log("textarea clicked"),console.log(e),e.stopPropagation();else{var t=e.target.closest("[data-block]");if(!t)return;clickedBlock(t,e)}})),window.getTempId=function(){return window.tempId||(window.tempId=(new Date).getTime()),"temp-"+window.tempId++},window.newBlock=function(e){var t=document.createElement("li");t.setAttribute("data-block",""),t.setAttribute("data-temp-id",getTempId());var n=document.createElement("p");t.appendChild(n);var o=$('[data-note="'.concat(e,'"] .vanilla')),a=$("ul",o);if(!a){a=document.createElement("ul");o.appendChild(a)}a.appendChild(t),editBlock(t)},window.clickedBlock=function(e,t){t.clientX,t.target.getBoundingClientRect().x,t.clientY,t.target.getBoundingClientRect().y;var n=window.getSelection().getRangeAt(0).endOffset;editBlock(e),console.log("clickPos",n);var o=$("textarea");o.focus(),o.selectionStart=n,o.selectionEnd=n},window.editBlock=function(e){console.log("editBlock"),e;var t=e.querySelector("p"),n=t.previousSibling;if(n&&"TEXTAREA"==n.tagName)return n.focus();removeTextareas();var o=document.createElement("textarea");o.value=unmarked(t.innerHTML),e.insertBefore(o,t),o.focus(),setInputHeight(o)},window.updateBlocksRefs=function(e){for(var t in e){var n=e[t],o=document.querySelector('[data-temp-id="'.concat(t,'"]'));o&&(o.removeAttribute("data-temp-id"),o.setAttribute("data-block",n))}},window.saveAll=function(){console.log("saving");var e=$("[data-note]").getAttribute("data-note"),t=getData();addHistory(t),m()({method:"post",url:"/api/notes/save-blocks/"+e,data:t}).then((function(e){console.log(e),updateBlocksRefs(e.data.temp_ids),kt.state.notes=[].concat(Object(h["a"])(e.data.new_notes),Object(h["a"])(kt.state.notes))})).catch((function(e){console.error("save error"),console.error(e)}))},window.getBlockOrder=function(e){var t=$$("[data-block]");return t.indexOf(e)+1},window.getPrevBlock=function(e){e||(e=$("textarea").closest("[data-block]"));var t=$$("[data-block]"),n=t.indexOf(e);if(0!=n)return t[n-1]},window.selectPrev=function(){var e=getPrevBlock(e);if(e){var t=getCarretPosition();editBlock(e);var n=$("textarea"),o=getSelectionEnd(n,t.x);n.selectionStart=o,n.selectionEnd=o}},window.getNextBlock=function(e){e||(e=$("textarea").closest("[data-block]"));var t=$$("[data-block]"),n=t.indexOf(e);if(n!=t.length-1)return t[n+1]},window.selectNext=function(e){e=getNextBlock(e);if(e){var t=getCarretPosition();editBlock(e);var n=$("textarea"),o=getSelectionStart(n,t.x);n.selectionStart=o,n.selectionEnd=o}},window.hydrate=function(e,t){window.note_id=e,$('[data-note="'.concat(e,'"] .vanilla')).innerHTML=build_html(t)},window.build_html=function(e,t,n){t=t||null,n=n||0;var o="";return e.forEach((function(a){a.parent_id==t&&(o+='<li data-block="'.concat(a.id,'">'),o+="<p>".concat(marked(a.text),"</p>"),o+=build_html(e,a.id,n+1),o+="</li>")})),o?"<ul>".concat(o,"</ul>"):""},window.saferEval=function(e,t){try{return new Function(["$data"],"var result; with($data) { result = ".concat(e," }; return result"))(t)}catch(n){return void console.log("Safer eval error: "+n)}},window.toastr=function(e,t,n,o){t=t||"",n=n||"#007aff",o=o||2+e.length/50;var a=document.createElement("div");a.className="toast show",a.setAttribute("style","min-width:200px; position: fixed; bottom: 10px; right: 10px;"),a.innerHTML='\n\t<div class="toast-header">\n\t<svg class="bd-placeholder-img rounded mr-2" width="20" height="20" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img"><rect width="100%" height="100%" fill="'.concat(n,'"></rect></svg>\n\t<strong>').concat(t,'</strong>\n\t</div>\n\t<div class="toast-body">\n\t').concat(e,"\n\t</div>"),document.body.appendChild(a),setTimeout((function(){document.body.removeChild(a)}),1e3*o)},window.marked=function(e){if(!e)return"";e=e.replace(/\[\[TODO\]\]/g,'<span class="checkbox"></span>'),e=e.replace(/\[\[DONE\]\]/g,'<span class="checkbox checked"></span>'),e=e.replace(/\*\*([^\*]+)\*\*/g,"<strong>$1</strong>"),e=e.replace(/__([^_]+)__/g,"<strong>$1</strong>"),e=e.replace(/~~([^~]+)~~/g,"<del>$1</del>"),e=e.replace(/\*([^\*]+)\*/g,"<em>$1</em>"),e=e.replace(/_([^_]+)_/g,"<em>$1</em>");var t=e.match(/\[\[([^\]]+)\]\]/g);return t&&t.forEach((function(t){var n=t.replace(/[\[\]]/g,""),o=kt.state.notes.find((function(e){return e.name==n}));o&&(e=e.replace(t,'<a class="reference" href="/'.concat(o.slug,'">').concat(t,"</a>")))})),e},window.unmarked=function(e){return e?(e=e.replace(/<span class="checkbox"><\/span>/g,"[[TODO]]"),e=e.replace(/<span class="checkbox checked"><\/span>/g,"[[DONE]]"),e=e.replace(/<strong>([\s\S]+?)<\/strong>/g,"**$1**"),e=e.replace(/<em>([\s\S]+?)<\/em>/g,"*$1*"),e=e.replace(/<del>([\s\S]+?)<\/del>/g,"~~$1~~"),e=e.replace(/<a class="reference" href="([^"]*)">([^<]*)<\/a>/g,"$2"),e):""},window.toggleCheckbox=function(e){e.preventDefault(),e.stopPropagation(),e.target.classList.contains("checked")?e.target.classList.remove("checked"):e.target.classList.add("checked")};n("c040"),n("38fa"),n("a630"),n("3ca3");window.defaultListMenu=[{text:"Todo",function:function(e){insertTodo()}},{text:"Current Date",function:function(){insertCurrentDate()}},{text:"Current Time",function:function(){insertCurrentTime()}},{text:"Date Picker",function:function(){alert('"Date Picker" is undeveloped')}},{text:"Make a Reference",function:function(){createMenuReference()}},{text:"Bold",function:function(){setBold()}},{text:"Italic",function:function(){setItalic()}},{text:"Strikeout",function:function(){setStrikeout()}}],window.functionsList=null,window.menuElement=null,window.createMenu=function(){destroyMenu();var e=document.createElement("div");e.classList.add("menu-context");var t=getCarretPositonByWindow();e.style.top="".concat(t.y,"px"),e.style.left="".concat(t.x,"px"),document.body.appendChild(e),window.menuElement=e},window.createMenuDefault=function(){createMenu(),updateMenu(defaultListMenu),changeItemSelectedMenu()},window.createMenuReference=function(){createMenu();var e=[];kt.state.notes.forEach((function(t){e.push({text:t.name,function:function(){var e=$("textarea"),n=e.selectionStart,o=e.value.substring(n-2,n+2),a="".concat(t.name);"[[]]"!=o&&(a="[[".concat(t.name,"]]")),insertText(a)}})})),updateMenu(e),changeItemSelectedMenu()},window.updateMenu=function(e,t){t=t||!0,t&&window.resetMenu(),e.forEach((function(e,t){var n=document.createElement("div");n.classList.add("item"),n.innerHTML=e.text,n.onclick=function(e){e.preventDefault(),e.stopPropagation(),clickItemMenu(t)},menuElement.appendChild(n),functionsList[functionsList.length]={function:function(){removeSlash(),destroyMenu(),e.function()}}}))},window.hasMenu=function(){return null!==window.menuElement},window.resetMenu=function(){menuElement.innerHTML="",functionsList=[]},window.destroyMenu=function(){$$(".menu-context").forEach((function(e){e.remove()})),removeSlash(),window.menuElement=null},window.nextItemSelectedMenu=function(){changeItemSelectedMenu(1)},window.prevItemSelectedMenu=function(){changeItemSelectedMenu(-1)},window.changeItemSelectedMenu=function(e){var t=window.menuElement.querySelector(".selected");if(null!=t){var n=window.menuElement.querySelectorAll(".item"),o=getIndexOfElement(t),a=o+e;n.length<a?a=1:a<1&&(a=n.length),t.classList.remove("selected"),window.menuElement.querySelector(".item:nth-child(".concat(a,")")).classList.add("selected")}else window.menuElement.querySelector(".item").classList.add("selected")},window.clickItemMenu=function(e){functionsList[e].function()},window.callSelectItemMenu=function(){var e=getIndexOfElement(menuElement.querySelector(".selected"))-1;functionsList[e].function()},window.insertTodo=function(){var e=getTextarea();setTodo(e),removeSlash(),setInputHeight(e)},window.removeSlash=function(){var e=getTextarea();if("/"==e.value[e.selectionStart-1]){var t=e.selectionStart;e.value=e.value.substring(0,e.selectionStart-1)+e.value.substring(e.selectionStart),e.selectionStart=e.selectionEnd=t-1}},window.insertCurrentDate=function(){var e=new Date,t=e.getFullYear(),n=("0"+(e.getMonth()+1)).substr(-2),o=("0"+e.getDate()).substr(-2),a="[[".concat(t,"-").concat(n,"-").concat(o,"]]");insertText(a)},window.insertCurrentTime=function(){var e=new Date,t=("0"+(e.getHours()+1)).substr(-2),n=("0"+(e.getMinutes()+1)).substr(-2),o="".concat(t,":").concat(n);insertText(o)},window.getIndexOfElement=function(e){return Array.from(e.parentNode.children).indexOf(e)+1},window.insertText=function(e){var t=getTextarea(),n=t.selectionStart;t.value=t.value.substring(0,n)+e+t.value.substring(n),t.selectionStart=t.selectionEnd=n+e.length},window.getTextarea=function(){var e=$("textarea");return null==e&&console.error("Textarea not found"),e};n("7d05");window.Vue=o["default"],m()({method:"get",url:"/api/user"}).then((function(e){kt.dispatch("setUser",e.data),kt.dispatch("authInitialized")})).catch((function(){kt.dispatch("authInitialized")})).finally((function(){window.vm=Object(o["c"])(g).use(yt).use(kt).mount("#app")}))},"7d05":function(e,t,n){},c040:function(e,t,n){n("4160"),n("ac1f"),n("466d"),n("5319"),n("159b"),document.addEventListener("DOMContentLoaded",(function(){document.addEventListener("input",(function(e){e.target.matches("textarea")&&setInputHeight(e.target)}))})),window.setInputHeight=function(e){e.style.height="1.5em";var t=e.scrollHeight;e.style.height=t+"px"},window.removeTextareas=function(){$$("textarea").forEach((function(e){var t=e.nextSibling;t&&"P"==t.tagName&&(t.innerHTML=marked(e.value),e.parentNode.removeChild(e))}))},window.getSelectionEnd=function(e,t,n){var o=e.value,a=o,r=document.createElement("span");r.className="calculate",r.style.width=e.offsetWidth+"px";var c=document.createTextNode(a);r.appendChild(c);var i=document.createElement("span");i.id="carret",r.appendChild(i),document.body.appendChild(r),console.time("loopx");while(i.offsetLeft>t)a=o.substr(0,a.length-1),c.textContent=a;return console.timeEnd("loopx"),$$(".calculate").forEach((function(e){e.parentNode.removeChild(e)})),a.length},window.getSelectionStart=function(e,t){var n=e.value,o="",a=document.createElement("span");a.className="calculate",a.style.width=e.offsetWidth+"px";var r=document.createTextNode(o);a.appendChild(r);var c=document.createElement("span");c.id="carret",a.appendChild(c),document.body.appendChild(a);while(c.offsetLeft<t)if(o=n.substr(0,o.length+1),r.textContent=o,n.length==o.length)break;return o=n.substr(0,o.length-1),$$(".calculate").forEach((function(e){e.parentNode.removeChild(e)})),o.length},window.getCarretPositonByWindow=function(){var e=getCarretPosition(),t=$("textarea");return{x:e.x+t.getBoundingClientRect().x,y:e.y+t.getBoundingClientRect().y}},window.getCarretPosition=function(){var e=$("textarea"),t=document.createElement("span");t.className="calculate";var n=e.value.substr(0,e.selectionStart);t.innerHTML=n+'<span id="carret"></span>',t.style.width=e.offsetWidth+"px",document.body.appendChild(t);var o=t.querySelector("#carret"),a={x:o.offsetLeft+4,y:o.offsetTop};return $$(".calculate").forEach((function(e){e.parentNode.removeChild(e)})),a},window.isFirstLine=function(e){var t=getCarretPosition();return console.log("getCarretPosition first line",t),0==t.y},window.isLastLine=function(e){var t=document.createElement("span");t.className="calculate",t.style.width=e.offsetWidth+"px",t.innerHTML=e.value+'<span id="carret"></span>',document.body.appendChild(t);var n=t.querySelector("#carret"),o={x:n.offsetLeft,y:n.offsetTop},a=getCarretPosition();return console.log("getCarretPosition last line",a,o),a.y==o.y},window.addLetter=function(e){var t=$("textarea"),n=t.selectionStart;t.value=t.value.substring(0,n)+e+t.value.substring(n),t.selectionStart=t.selectionEnd=n,setInputHeight(t)},window.prevCharacter=function(e){var t=$("textarea"),n=t.selectionStart,o=t.value.substring(n-1,n);return e==o},window.nextCharacter=function(e){var t=$("textarea"),n=t.selectionEnd,o=t.value.substring(n,n+1);return e==o},window.setTextFormat=function(e,t){var n=$("textarea"),o=n.selectionStart,a=n.selectionEnd,r=e.length;n.value=n.value.substring(0,o)+e+n.value.substring(o),n.value=n.value.substring(0,a+r)+e+n.value.substring(a+r),n.selectionStart=o+r,n.selectionEnd=a+r,setInputHeight(n),t&&t.preventDefault()},window.setBold=function(e){setTextFormat("**",e)},window.setItalic=function(e){setTextFormat("*",e)},window.setStrikeout=function(e){setTextFormat("~~",e)},window.setTodo=function(e){var t=e.value;t.match(/^\[\[(TODO|DONE)\]\]/)?t.match(/^\[\[TODO\]\]/)?t=t.replace(/^\[\[TODO\]\]/,"[[DONE]]"):t.match(/^\[\[DONE\]\]/)&&(t=t.replace(/^\[\[DONE\]\] */,"")):t="[[TODO]] "+t,e.value=t}},e533:function(e,t,n){"use strict";n("516a")}});
//# sourceMappingURL=app.1a8c0c3a.js.map