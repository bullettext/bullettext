{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/menuHelpers.js","webpack:///./src/keyboardHelpers.js","webpack:///./src/App.vue?f616","webpack:///./src/components/Loader.vue?9a35","webpack:///src/components/Loader.vue","webpack:///./src/components/Loader.vue?dfad","webpack:///./src/components/Loader.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/views/Dashboard.vue?8b71","webpack:///src/views/Dashboard.vue","webpack:///./src/views/Dashboard.vue?2310","webpack:///./src/views/Dashboard.vue","webpack:///./src/views/Note.vue?353e","webpack:///./src/components/BlockList.vue?8cc4","webpack:///src/components/BlockList.vue","webpack:///./src/components/BlockList.vue?19f6","webpack:///./src/components/BlockList.vue","webpack:///src/views/Note.vue","webpack:///./src/views/Note.vue?951c","webpack:///./src/views/Note.vue","webpack:///./src/views/Block.vue?0dd7","webpack:///src/views/Block.vue","webpack:///./src/views/Block.vue?3f04","webpack:///./src/views/Block.vue","webpack:///./src/views/Login.vue?747e","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?09c2","webpack:///./src/views/Login.vue","webpack:///./src/views/Forgot.vue?d595","webpack:///src/views/Forgot.vue","webpack:///./src/views/Forgot.vue?beb7","webpack:///./src/views/Forgot.vue","webpack:///./src/views/NewPassword.vue?f957","webpack:///src/views/NewPassword.vue","webpack:///./src/views/NewPassword.vue?d421","webpack:///./src/views/NewPassword.vue","webpack:///./src/router.js","webpack:///./src/store.js","webpack:///./src/helpers.js","webpack:///./src/main.js","webpack:///./src/components/Loader.vue?97fb","webpack:///./src/textareaHelpers.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","defaultListMenu","text","function","e","insertTodo","insertCurrentDate","insertCurrentTime","alert","setBold","setItalic","setStrikeout","menuElement","createMenu","destroyMenu","menu","document","createElement","classList","add","positions","getCarretPositonByWindow","style","top","y","left","x","body","appendChild","createMenuDefault","updateMenu","changeItemSelectedMenu","list","resetMenu","forEach","item","itemElement","innerHTML","onclick","removeSlash","setInputHeight","textarea","hasMenu","$$","element","remove","nextItemSelectedMenu","prevItemSelectedMenu","change","selectedElement","querySelector","itemsElements","querySelectorAll","selectedIndex","Array","from","parentNode","children","indexOf","futureIndex","console","log","callSelectItemMenu","$","setTodo","selectionStart","substring","selectionEnd","date","Date","year","getFullYear","month","getMonth","substr","day","getDate","dateStr","hours","getHours","minutes","getMinutes","timeStr","edited","timerSave","addEventListener","clearTimeout","setTimeout","saveAll","target","matches","handleKeyEscape","handleKeyBackspace","handleKeyDelete","shiftKey","ctrlKey","handleKeyCtrlEnter","handleKeyEnter","handleShiftTab","handleTab","handleKeyArrowUp","handleKeyArrowDown","handleKeySlash","revertHistory","preventDefault","removeTextareas","closest","altKey","block","parent","prev","previousSibling","removeChild","insertBefore","editBlock","isFirstLine","selectPrev","next","nextSibling","nextNext","isLastLine","selectNext","li","setAttribute","getTempId","unmarked","prevBlock","getPrevBlock","prevText","nextBlock","getNextBlock","nextvalue","ul","focus","tagName","parentBlock","reference","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","$route","fullPath","staticRenderFns","directives","rawName","expression","_m","_s","loadingMessage","_e","component","on","$event","newNote","note","domProps","composing","$set","_l","id","slug","note_id","index","level","editingBlockId","setLayerHeight","type","_k","keyCode","handleEnter","marked","blocks","project","url","domain","openModalDomain","openModalUnpublish","is_published","openModalPublish","params","project_id","tables","urladmin","page","output","removePage","newPage","openModalSaveTemplate","components","props","computed","$store","getters","isAdmin","user","is_admin","methods","modalTemplate","modalDomain","modalUnpublish","modalPublish","dataBr","getProject","dispatch","toastr","method","mounted","error","onSubmitLogin","login","onSubmitRegister","register","email","password","onSubmit","token","Vue","use","Router","router","routes","path","Dashboard","meta","restricted","Login","Forgot","NewPassword","Note","Block","beforeEach","to","axios","then","res","store","catch","isAuthenticated","Vuex","Store","state","authInitialized","intendedUrl","notes","loading","mutations","startLoading","stopLoading","setLoadingMessage","payload","setIntendedUrl","setUser","setNotes","actions","commit","message","bool","getNotesIndex","finally","getNote","$router","replace","sort","dict","find","history","selector","context","elements","addHistory","JSON","stringify","pop","hydrate","getData","map","parent_id","getAttribute","order","getBlockOrder","temp_id","stopPropagation","blockDom","clickedBlock","tempId","getTime","newBlock","container","clientX","getBoundingClientRect","clientY","clickPos","getSelection","getRangeAt","endOffset","textareaDom","updateBlocksRefs","block_id","removeAttribute","pos","getCarretPosition","getSelectionEnd","getSelectionStart","build_html","output_html","saferEval","dataContext","Function","title","color","seconds","div","className","match","note_name","config","productionTip","vm","render","h","App","$mount","el","height","textareaHeight","scrollHeight","originalText","span","width","offsetWidth","inner","createTextNode","carret","time","offsetLeft","textContent","timeEnd","ret","offsetTop","setTextFormat","append","event","sizeAppend"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,IAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,kHCtJTsC,OAAOG,gBAAkB,CACxB,CAAEC,KAAM,OAAQC,SAAU,SAACC,GAAQC,eACnC,CAAEH,KAAM,eAAgBC,SAAU,WAAQG,sBAC1C,CAAEJ,KAAM,eAAgBC,SAAU,WAAQI,sBAC1C,CAAEL,KAAM,cAAeC,SAAU,WAAQK,MAAM,kCAC/C,CAAEN,KAAM,mBAAoBC,SAAU,WAAQK,MAAM,uCACpD,CAAEN,KAAM,OAAQC,SAAU,WAAQM,YAClC,CAAEP,KAAM,SAAUC,SAAU,WAAQO,cACpC,CAAER,KAAM,YAAaC,SAAU,WAAQQ,kBAGxCb,OAAOc,YAAc,KAErBd,OAAOe,WAAa,WACnBC,cACA,IAAIC,EAAOC,SAASC,cAAc,OAClCF,EAAKG,UAAUC,IAAI,gBACnB,IAAMC,EAAYC,2BAClBN,EAAKO,MAAMC,IAAX,UAAoBH,EAAUI,EAA9B,MACAT,EAAKO,MAAMG,KAAX,UAAqBL,EAAUM,EAA/B,MACAV,SAASW,KAAKC,YAAYb,GAC1BjB,OAAOc,YAAcG,GAGtBjB,OAAO+B,kBAAoB,WAC1BhB,aACAiB,WAAW7B,iBACX8B,0BAGDjC,OAAOgC,WAAa,SAASE,GAC5BlC,OAAOmC,YAEPD,EAAKE,SAAQ,SAAAC,GACZ,IAAIC,EAAcpB,SAASC,cAAc,OACzCmB,EAAYlB,UAAUC,IAAI,QAC1BiB,EAAYC,UAAYF,EAAKjC,KAC7BkC,EAAYE,QAAU,WACrBC,cACAJ,EAAKhC,WACLW,cACA0B,eAAeC,WAEhB7B,YAAYgB,YAAYQ,OAI1BtC,OAAO4C,QAAU,WAChB,OAA0B,OAAvB5C,OAAOc,aAOXd,OAAOmC,UAAY,WAClBrB,YAAYyB,UAAY,IAGzBvC,OAAOgB,YAAc,WACpB6B,GAAG,iBAAiBT,SAAQ,SAAAU,GAC3BA,EAAQC,YAET/C,OAAOc,YAAc,MAGtBd,OAAOgD,qBAAuB,WAC7Bf,uBAAuB,IAGxBjC,OAAOiD,qBAAuB,WAC7BhB,wBAAwB,IAGzBjC,OAAOiC,uBAAyB,SAASiB,GACxC,IAAMC,EAAkBnD,OAAOc,YAAYsC,cAAc,aACzD,GAAsB,MAAnBD,EAAH,CAIA,IAAME,EAAgBrD,OAAOc,YAAYwC,iBAAiB,SACpDC,EAAiBC,MAAMC,KAAKN,EAAgBO,WAAWC,UAAUC,QAAQT,GAAmB,EAC9FU,EAAcN,EAAgBL,EAC/BG,EAAcvG,OAAS+G,GACzBA,EAAc,EACdC,QAAQC,IAAI,aAAaV,EAAcvG,SAC9B+G,EAAc,IACvBA,EAAcR,EAAcvG,OAC5BgH,QAAQC,IAAI,mBAEbZ,EAAgB/B,UAAU2B,OAAO,YACjCe,QAAQC,IAAI,CAACF,cAAaN,gBAAezG,OAAQuG,EAAcvG,SAC/DkD,OAAOc,YAAYsC,cAAnB,0BAAoDS,EAApD,MAAoEzC,UAAUC,IAAI,iBAfjFrB,OAAOc,YAAYsC,cAAc,SAAShC,UAAUC,IAAI,aAkB1DrB,OAAOgE,mBAAqB,WAC3BlD,YAAYsC,cAAc,aAAaZ,WAGxCxC,OAAOO,WAAa,WACnB,IAAMoC,EAAWsB,EAAE,YACnBC,QAAQvB,GACRF,cACAC,eAAeC,IAGhB3C,OAAOyC,YAAc,WACpB,IAAME,EAAWsB,EAAE,YACnB,GAA8C,KAA3CtB,EAASxD,MAAMwD,EAASwB,eAAe,GAAQ,CACjD,IAAMA,EAAiBxB,EAASwB,eAChCxB,EAASxD,MAAQwD,EAASxD,MAAMiF,UAAU,EAAEzB,EAASwB,eAAe,GAAGxB,EAASxD,MAAMiF,UAAUzB,EAASwB,gBACzGxB,EAASwB,eAAiBxB,EAAS0B,aAAeF,EAAe,IAInEnE,OAAOQ,kBAAoB,WAC1B,IAAMmC,EAAWsB,EAAE,YACbK,EAAO,IAAIC,KACXC,EAAOF,EAAKG,cACZC,GAAS,KAAKJ,EAAKK,WAAW,IAAIC,QAAQ,GAC1CC,GAAO,IAAKP,EAAKQ,WAAYF,QAAQ,GACrCG,EAAU,KAAH,OAAQP,EAAR,YAAgBE,EAAhB,YAAyBG,EAAzB,MACPV,EAAiBxB,EAASwB,eAChCxB,EAASxD,MAAQwD,EAASxD,MAAMiF,UAAU,EAAED,GAAkBY,EAAUpC,EAASxD,MAAMiF,UAAUD,GACjGxB,EAASwB,eAAiBxB,EAAS0B,aAAeF,EAAiBY,EAAQjI,QAG5EkD,OAAOS,kBAAoB,WAC1B,IAAMkC,EAAWsB,EAAE,YACbK,EAAO,IAAIC,KACXS,GAAS,KAAKV,EAAKW,WAAW,IAAIL,QAAQ,GAC1CM,GAAW,KAAKZ,EAAKa,aAAa,IAAIP,QAAQ,GAC9CQ,EAAU,GAAH,OAAMJ,EAAN,YAAeE,GACtBf,EAAiBxB,EAASwB,eAChCxB,EAASxD,MAAQwD,EAASxD,MAAMiF,UAAU,EAAED,GAAkBiB,EAAUzC,EAASxD,MAAMiF,UAAUD,GACjGxB,EAASwB,eAAiBxB,EAAS0B,aAAeF,EAAiBiB,EAAQtI,S,qBCxI5EkD,OAAOqF,QAAS,EAChBrF,OAAOsF,UAAY,KAEnBpE,SAASqE,iBAAiB,oBAAoB,WAE7CrE,SAASqE,iBAAiB,WAAU,SAASjF,GAE5C+E,QAAS,EACTG,aAAaF,WACbA,UAAYG,YAAW,WAClBJ,SACJK,UACAL,QAAS,KACR,KAGFvB,QAAQC,IAAIzD,EAAEb,KACJ,UAAPa,EAAEb,KAAiBa,EAAEqF,OAAOC,QAAQ,aACtCC,gBAAgBvF,GAEP,aAAPA,EAAEb,KAAoBa,EAAEqF,OAAOC,QAAQ,aACzCE,mBAAmBxF,GAEV,UAAPA,EAAEb,KAAiBa,EAAEqF,OAAOC,QAAQ,aACtCG,gBAAgBzF,GAEP,SAAPA,EAAEb,KAAgBa,EAAEqF,OAAOC,QAAQ,cAAgBtF,EAAE0F,WACpD1F,EAAE2F,QACJC,mBAAmB5F,GAEnB6F,eAAe7F,IAGP,OAAPA,EAAEb,KAAca,EAAEqF,OAAOC,QAAQ,cAChCtF,EAAE0F,SACJI,eAAe9F,GAEf+F,UAAU/F,IAIF,WAAPA,EAAEb,KAAkBa,EAAEqF,OAAOC,QAAQ,aACvCU,iBAAiBhG,GAER,aAAPA,EAAEb,KAAoBa,EAAEqF,OAAOC,QAAQ,aACzCW,mBAAmBjG,GAEV,KAAPA,EAAEb,KACJ+G,eAAelG,GAEN,KAAPA,EAAEb,KAAYa,EAAE2F,SAClBQ,gBAES,KAAPnG,EAAEb,KAAYa,EAAE2F,SAClBtF,QAAQL,GAEC,KAAPA,EAAEb,KAAYa,EAAE2F,SAClBrF,UAAUN,SAKbN,OAAO6F,gBAAkB,SAASvF,GAC9BN,OAAO4C,WACT5C,OAAOgB,cACPV,EAAEoG,kBAEFC,mBAIF3G,OAAOwG,eAAiB,SAASlG,GAChC,IAAMqC,EAAWrC,EAAEqF,OACLhD,EAASiE,QAAQ,gBAClBjE,EAASxD,MACtB4C,qBAGD/B,OAAOsG,iBAAmB,SAAShG,GAClC,GAAGN,OAAO4C,UAGT,OAFA5C,OAAOiD,4BACP3C,EAAEoG,iBAIH,GAAGpG,EAAE0F,UAAY1F,EAAEuG,OAAO,CACzB,IAAIC,EAAQxG,EAAEqF,OAAOiB,QAAQ,gBACzBG,EAASD,EAAMpD,WACfsD,EAAOF,EAAMG,gBACjB,IAAID,EAAM,OAGV,OAFAD,EAAOG,YAAYJ,GACnBC,EAAOI,aAAaL,EAAME,GACnBI,UAAUN,GAGfO,YAAY/G,EAAEqF,UAChBrF,EAAEoG,iBACFY,eAGFtH,OAAOuG,mBAAqB,SAASjG,GACpC,GAAGN,OAAO4C,UAGT,OAFA5C,OAAOgD,4BACP1C,EAAEoG,iBAIH,GAAGpG,EAAE0F,UAAY1F,EAAEuG,OAAO,CACzB,IAAIC,EAAQxG,EAAEqF,OAAOiB,QAAQ,gBACzBG,EAASD,EAAMpD,WACf6D,EAAOT,EAAMU,YACjB,IAAID,EAAM,OACVR,EAAOG,YAAYJ,GACnB,IAAIW,EAAWF,EAAKC,YAMpB,OALGC,EACFV,EAAOI,aAAaL,EAAMW,GAE1BV,EAAOjF,YAAYgF,GAEbM,UAAUN,GAGfY,WAAWpH,EAAEqF,UACfrF,EAAEoG,iBACFiB,eAIF3H,OAAOmG,eAAiB,SAAS7F,GAEhC,GADAA,EAAEoG,iBACC1G,OAAO4C,UACT5C,OAAOgE,yBADR,CAIA,IAAIrB,EAAWrC,EAAEqF,OACbmB,EAAQnE,EAASiE,QAAQ,gBACzBxG,EAAOuC,EAASxD,MAEhByI,EAAK1G,SAASC,cAAc,MAChCyG,EAAGC,aAAa,aAAa,IAC7BD,EAAGC,aAAa,eAAeC,aAC/B,IAAIhI,EAAIoB,SAASC,cAAc,KAC/BrB,EAAEyC,UAAYwF,SAAS3H,EAAKwE,OAAO,EAAEjC,EAASwB,iBAC9CyD,EAAG9F,YAAYhC,GAEfgH,EAAMpD,WAAWyD,aAAaS,EAAGd,GAEjCnE,EAASxD,MAAQiB,EAAKwE,OAAOjC,EAAS0B,cACtC1B,EAASwB,eAAiB,EAC1BxB,EAAS0B,aAAe,IAGzBrE,OAAOkG,mBAAqB,SAAS5F,GACpCA,EAAEoG,iBACF,IAAI/D,EAAWrC,EAAEqF,OACjBzB,QAAQvB,GACRD,eAAeC,IAGhB3C,OAAO8F,mBAAqB,SAASxF,GACpC,IAAIqC,EAAWrC,EAAEqF,OACjB,GAA8B,GAA3BhD,EAASwB,gBAA8C,GAAvBxB,EAAS0B,aAAiB,CAC5D,IAAIyC,EAAQnE,EAASiE,QAAQ,gBAGzBoB,EAAYC,aAAanB,GAC7B,IAAIkB,EAAW,OAEf1H,EAAEoG,iBAES/D,EAASxD,MAApB,IAEI+I,EAAWH,SAASC,EAAU5E,cAAc,KAAKb,WAGrDyF,EAAUtE,WAAWwD,YAAYc,GAGjCrF,EAASxD,MAAQ+I,EAAWvF,EAASxD,MACrCuD,eAAeC,GAEfA,EAASwB,eAAiB+D,EAASpL,OACnC6F,EAAS0B,aAAe6D,EAASpL,SAOnCkD,OAAO+F,gBAAkB,SAASzF,GACjC,IAAIqC,EAAWrC,EAAEqF,OACjB,GAAGhD,EAASwB,gBAAkBxB,EAASxD,MAAMrC,QAAU6F,EAAS0B,cAAc1B,EAASxD,MAAMrC,OAAQ,CACpG,IAAIgK,EAAQnE,EAASiE,QAAQ,gBACzBxG,EAAOuC,EAASxD,MAGhBgJ,EAAYC,aAAatB,GAC7B,IAAIqB,EAAW,OAMf,GAJA7H,EAAEoG,iBAICyB,GAAarB,EAAM1D,cAAc,gBAAgB,CACnD,IAAIiF,EAAYN,SAASI,EAAU/E,cAAc,KAAKb,WACtD4F,EAAUzE,WAAWwD,YAAYiB,GACjCxF,EAASxD,OAASkJ,EAClB3F,eAAeC,QAEfmE,EAAMpD,WAAWwD,YAAYJ,GAC7BM,UAAUe,GACVxF,EAAWsB,EAAE,YACbtB,EAASxD,MAAQiB,EAAOuC,EAASxD,MAElCwD,EAASwB,eAAiB/D,EAAKtD,OAC/B6F,EAAS0B,aAAejE,EAAKtD,SAO/BkD,OAAOqG,UAAY,SAAS/F,GAC3BA,EAAEoG,iBACF,IAAI/D,EAAWrC,EAAEqF,OACbmB,EAAQnE,EAASiE,QAAQ,gBAGzBoB,EAAYlB,EAAMG,gBACtB,GAAIe,EAAJ,CAEA,IAAIM,EAAKN,EAAU5E,cAAc,MAC7BkF,IACHA,EAAKpH,SAASC,cAAc,MAC5B6G,EAAUlG,YAAYwG,IAGvBxB,EAAMpD,WAAWwD,YAAYJ,GAE7BwB,EAAGxG,YAAYgF,GACf7C,EAAE,YAAYsE,UAMfvI,OAAOoG,eAAiB,SAAS9F,GAChCA,EAAEoG,iBACF,IAAI/D,EAAWrC,EAAEqF,OACbmB,EAAQnE,EAASiE,QAAQ,gBAEzB0B,EAAKxB,EAAMpD,WACf,GAAe,MAAZ4E,EAAGE,QAAN,CAEA,IAAIC,EAAcH,EAAG1B,QAAQ,gBAEzB8B,EAAYD,EAAYjB,YAE5Bc,EAAGpB,YAAYJ,GACsB,GAAlCwB,EAAGhF,iBAAiB,MAAMxG,QAC5B2L,EAAYvB,YAAYoB,GAGtBI,EACFD,EAAY/E,WAAWyD,aAAaL,EAAM4B,GAE1CD,EAAY/E,WAAW5B,YAAYgF,GAGpC7C,EAAE,YAAYsE,W,6GC7QX,EAAS,WAAa,IAAII,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,QAAQ,CAACA,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,MAAM,CAACP,EAAIQ,GAAG,gBAAgB,GAAGJ,EAAG,OAAO,CAACA,EAAG,cAAc,CAACtJ,IAAIkJ,EAAIS,OAAOC,YAAY,GAAGN,EAAG,WAAW,IACtRO,EAAkB,GCDlB,EAAS,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACQ,WAAW,CAAC,CAAC7K,KAAK,OAAO8K,QAAQ,SAASrK,MAAOwJ,EAAa,UAAEc,WAAW,cAAcR,YAAY,eAAe,CAACN,EAAIe,GAAG,GAAIf,EAAkB,eAAEI,EAAG,IAAI,CAACJ,EAAIQ,GAAGR,EAAIgB,GAAGhB,EAAIiB,mBAAmBjB,EAAIkB,QAC3S,EAAkB,CAAC,WAAa,IAAIlB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkBF,EAAG,MAAM,CAACE,YAAY,mBCkF3P,GACA,UAEA,UAFA,WAGA,kCAEA,eALA,WAMA,2CC1FgV,I,wBCQ5Ua,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QCDf,GACA,WACA,YACA,UAEA,KALA,WAMA,UAGA,UACA,2BACA,4CAEA,eAJA,WAKA,0CAGA,YCnC8T,ICO1T,EAAY,eACd,EACA,EACAR,GACA,EACA,KACA,KACA,MAIa,I,2JClBX,EAAS,WAAa,IAAIX,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACN,EAAIe,GAAG,GAAGX,EAAG,OAAO,CAACgB,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOtD,iBAAwBiC,EAAIsB,QAAQD,MAAW,CAACrB,EAAIQ,GAAG,eAAeJ,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAAC7K,KAAK,QAAQ8K,QAAQ,UAAUrK,MAAOwJ,EAAIuB,KAAS,KAAET,WAAW,cAAcP,MAAM,CAAC,SAAW,IAAIiB,SAAS,CAAC,MAASxB,EAAIuB,KAAS,MAAGH,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOrE,OAAOyE,WAAqBzB,EAAI0B,KAAK1B,EAAIuB,KAAM,OAAQF,EAAOrE,OAAOxG,aAAa4J,EAAG,KAAK,CAACE,YAAY,SAASN,EAAI2B,GAAI3B,EAAS,OAAE,SAASuB,GAAM,OAAOnB,EAAG,KAAK,CAACtJ,IAAIyK,EAAKK,IAAI,CAACxB,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,IAAIgB,EAAKM,OAAO,CAAC7B,EAAIQ,GAAGR,EAAIgB,GAAGO,EAAKM,UAAU,MAAK,QAC5uB,EAAkB,CAAC,WAAa,IAAI7B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,0DAA0D,CAACF,EAAG,KAAK,CAACJ,EAAIQ,GAAG,eC2B3M,GACA,iBACA,KAFA,WAGA,OACA,MACA,WAIA,UACA,MADA,WAEA,iCAGA,SAEA,QAFA,WAEA,WACA,4BACA,qCACA,gBACA,KACA,cACA,iBACA,SACA,kBACA,mCACA,sCACA,oBACA,sCASA,QArCA,WAsCA,wCClEmV,ICO/U,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QClBX,EAAS,WAAa,IAAIR,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAEJ,EAAW,QAAEI,EAAG,MAAM,CAACE,YAAY,YAAYC,MAAM,CAAC,YAAYP,EAAI8B,UAAU,CAAC1B,EAAG,SAAS,CAACG,MAAM,CAAC,QAAU,cAAc,CAACP,EAAIQ,GAAG,UAAUJ,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAIgB,GAAGhB,EAAIuB,KAAKxL,WAAWiK,EAAIe,GAAG,GAAIf,EAAIuB,KAAe,WAAEnB,EAAG,KAAK,CAACE,YAAY,cAAcN,EAAI2B,GAAI3B,EAAc,YAAE,SAAS7B,EAAM4D,GAAO,OAAO3B,EAAG,KAAK,CAACtJ,IAAIiL,GAAO,CAAC3B,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,IAAIpC,EAAMoD,KAAKM,OAAO,CAAC7B,EAAIQ,GAAGR,EAAIgB,GAAG7C,EAAMoD,KAAKxL,SAASqK,EAAG,IAAI,CAACJ,EAAIQ,GAAGR,EAAIgB,GAAG7C,EAAM1G,UAAU,MAAK,GAAGuI,EAAIkB,OAAOlB,EAAIkB,QACjmB,EAAkB,CAAC,WAAa,IAAIlB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,YCD5K,EAAS,WAAa,IAAIJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACG,MAAM,CAAC,aAAaP,EAAIgC,QAAQhC,EAAI2B,GAAI3B,EAAe,aAAE,SAAS7B,GAAO,OAAOiC,EAAG,KAAK,CAACtJ,IAAIqH,EAAMyD,IAAI,CAACxB,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAAyB,OAAvBN,EAAIiC,gBAA2BjC,EAAIiC,gBAAkB9D,EAAMyD,GAAIxB,EAAG,WAAW,CAACQ,WAAW,CAAC,CAAC7K,KAAK,QAAQ8K,QAAQ,UAAUrK,MAAO2H,EAAU,KAAE2C,WAAW,eAAehK,IAAIqH,EAAMyD,GAAGJ,SAAS,CAAC,MAASrD,EAAU,MAAGiD,GAAG,CAAC,MAAQ,CAAC,SAASC,GAAWA,EAAOrE,OAAOyE,WAAqBzB,EAAI0B,KAAKvD,EAAO,OAAQkD,EAAOrE,OAAOxG,QAAQwJ,EAAIkC,gBAAgB,MAAQlC,EAAIkC,eAAe,QAAU,SAASb,GAAQ,OAAIA,EAAOc,KAAKlH,QAAQ,QAAQ+E,EAAIoC,GAAGf,EAAOgB,QAAQ,QAAQ,GAAGhB,EAAOvK,IAAI,SAAkB,KAAckJ,EAAIsC,YAAYjB,EAAQlD,OAAW6B,EAAIkB,KAAKd,EAAG,IAAI,CAACoB,SAAS,CAAC,UAAYxB,EAAIgB,GAAGhB,EAAIuC,OAAOpE,EAAM1G,QAAQ2J,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrB,EAAIvB,UAAUN,EAAMyD,UAAUxB,EAAG,aAAa,CAACG,MAAM,CAAC,OAASP,EAAIwC,OAAO,MAAQxC,EAAIgC,MAAQ,EAAE,UAAY7D,EAAMyD,GAAG,QAAU5B,EAAI8B,YAAY,MAAK,IACphC,EAAkB,GCyBtB,G,UAAA,CACA,iBACA,cACA,+CACA,KAJA,WAKA,UAEA,UACA,eADA,WAEA,yCAEA,YAJA,WAIA,WACA,4EAGA,SACA,YADA,SACA,GAEA,GADA,qBACA,WACA,gCASA,OARA,qCAEA,8BACA,kDACA,gCACA,6CAJA,+BAMA,mBAIA,aACA,mCACA,qBAIA,UAtBA,SAsBA,GACA,8BACA,sCAMA,QA7CA,eC1BmV,ICO/U,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QCSf,GACA,YACA,YACA,aAGA,eACA,KAPA,WAQA,OACA,eAGA,UACA,MADA,WAEA,kCAEA,KAJA,WAKA,+BAEA,WAPA,WAOA,WACA,+CACA,2BAEA,0BAEA,OADA,0BACA,OAKA,SAEA,WAFA,WAEA,qBACA,cAHA,WAGA,yBAEA,QAnCA,WAmCA,WAEA,YACA,sCAGA,4DACA,oBACA,wBACA,iCACA,yBACA,mCCzE8U,ICO1U,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,I,QClBX,EAAS,WAAa,IAAI9B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAIgB,GAAGhB,EAAIyC,QAAQ1M,SAASqK,EAAG,IAAI,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACG,MAAM,CAAC,KAAOP,EAAI0C,IAAI1C,EAAIyC,QAAQZ,MAAM,OAAS,WAAW,CAAC7B,EAAIQ,GAAGR,EAAIgB,GAAGhB,EAAI0C,IAAI1C,EAAIyC,QAAQZ,YAAYzB,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIQ,GAAG,YAAYJ,EAAG,KAAK,CAACA,EAAG,OAAO,CAACJ,EAAIQ,GAAGR,EAAIgB,GAAGhB,EAAIyC,QAAQE,QAAU,gBAAgBvC,EAAG,SAAS,CAACE,YAAY,6BAA6Bc,GAAG,CAAC,MAAQpB,EAAI4C,kBAAkB,CAAC5C,EAAIQ,GAAG,qBAAsBR,EAAIyC,QAAc,OAAErC,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIQ,GAAG,WAAWJ,EAAG,KAAK,CAAEJ,EAAIyC,QAAoB,aAAErC,EAAG,OAAO,CAACA,EAAG,IAAI,CAACgB,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOtD,iBAAwBiC,EAAI6C,mBAAmBxB,MAAW,CAACjB,EAAG,IAAI,CAACE,YAAY,oBAAoBN,EAAIQ,GAAG,mBAAmBR,EAAIkB,KAAOlB,EAAIyC,QAAQK,aAAoM9C,EAAIkB,KAA1Ld,EAAG,OAAO,CAACA,EAAG,IAAI,CAACgB,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOtD,iBAAwBiC,EAAI+C,iBAAiB1B,MAAW,CAACjB,EAAG,IAAI,CAACE,YAAY,sBAAsBN,EAAIQ,GAAG,2BAAoCR,EAAIkB,OAAOd,EAAG,cAAc,CAACE,YAAY,uBAAuBC,MAAM,CAAC,GAAK,YAAYP,EAAIyC,QAAQb,GAAG,UAAU,CAAC5B,EAAIQ,GAAG,kBAAkBJ,EAAG,cAAc,CAACE,YAAY,uBAAuBC,MAAM,CAAC,GAAK,CAACxK,KAAK,iBAAiBiN,OAAO,CAACC,WAAWjD,EAAIyC,QAAQb,OAAO,CAAC5B,EAAIQ,GAAG,WAAYR,EAAIyC,QAAc,OAAErC,EAAG,cAAc,CAACE,YAAY,uBAAuBC,MAAM,CAAC,GAAK,CAACxK,KAAK,eAAeiN,OAAO,CAACC,WAAWjD,EAAIyC,QAAQb,OAAO,CAAC5B,EAAIQ,GAAG,kBAAkBR,EAAIkB,KAAMlB,EAAIyC,QAAQS,QAAUlD,EAAIyC,QAAQS,OAAO/O,OAAO,EAAGiM,EAAG,IAAI,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACG,MAAM,CAAC,KAAOP,EAAImD,WAAW,OAAS,WAAW,CAACnD,EAAIQ,GAAG,oBAAoBR,EAAIkB,MAAM,GAAGd,EAAG,KAAK,CAACJ,EAAIQ,GAAG,WAAWJ,EAAG,QAAQ,CAACE,YAAY,SAAS,CAACF,EAAG,QAAQJ,EAAI2B,GAAI3B,EAAIyC,QAAa,OAAE,SAASW,GAAM,OAAOhD,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAIgB,GAAGoC,EAAKrN,SAASqK,EAAG,KAAK,CAACE,YAAY,eAAe,CAACN,EAAIQ,GAAG,IAAIR,EAAIgB,GAAGoC,EAAKvB,MAAM,KAAKzB,EAAG,IAAI,CAACE,YAAY,OAAOC,MAAM,CAAC,KAAOP,EAAI0C,IAAI1C,EAAIyC,QAAQZ,KAAKuB,EAAKvB,MAAM,OAAS,WAAW,CAACzB,EAAG,MAAM,CAACE,YAAY,SAASC,MAAM,CAAC,QAAU,cAAc,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,KAAO,eAAe,EAAI,gJAAgJH,EAAG,KAAK,CAACE,YAAY,0BAA0B,CAACF,EAAG,cAAc,CAACE,YAAY,8BAA8BC,MAAM,CAAC,GAAK,YAAYP,EAAIyC,QAAQb,GAAG,IAAIwB,EAAKxB,KAAK,CAACxB,EAAG,OAAO,CAACE,YAAY,cAAc,CAAG8C,EAAKC,OAAmDjD,EAAG,OAAO,CAACJ,EAAIQ,GAAG,eAA7DJ,EAAG,OAAO,CAACJ,EAAIQ,GAAG,2BAA4DJ,EAAG,MAAM,CAACE,YAAY,mBAAmBC,MAAM,CAAC,QAAU,cAAc,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,KAAO,eAAe,EAAI,6JAA6JH,EAAG,SAAS,CAACE,YAAY,sCAAsCc,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrB,EAAIsD,WAAWF,MAAS,CAAChD,EAAG,MAAM,CAACE,YAAY,SAASC,MAAM,CAAC,QAAU,cAAc,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,KAAO,eAAe,EAAI,4FAA4F,QAAO,KAAKH,EAAG,SAAS,CAACE,YAAY,kBAAkBc,GAAG,CAAC,MAAQpB,EAAIuD,UAAU,CAACvD,EAAIQ,GAAG,cAAeR,EAAW,QAAEI,EAAG,SAAS,CAACE,YAAY,kBAAkBc,GAAG,CAAC,MAAQpB,EAAIwD,wBAAwB,CAACxD,EAAIQ,GAAG,sBAAsBR,EAAIkB,UAC19G,EAAkB,GCkGtB,GACEnL,KAAM,UACN0N,WAAF,GAIEC,MAAF,OACE/P,KAPF,WAQI,MAAO,CACL,aAAN,EACM,eAAN,EACM,cAAN,EACM,gBAAN,IAIEgQ,SAAF,CACIlB,QADJ,WAEM,OAAOxC,KAAK2D,OAAOC,QAAQpB,SAE7BqB,QAJJ,WAKM,OAAO7D,KAAK2D,OAAOC,QAAQE,KAAKC,WAGpCC,QAAF,CACIT,sBADJ,WAEMvD,KAAKiE,eAAgB,GAEvBtB,gBAJJ,WAKM3C,KAAKkE,aAAc,GAErBtB,mBAPJ,WAQM5C,KAAKmE,gBAAiB,GAExBrB,iBAVJ,WAWM9C,KAAKoE,cAAe,GAEtB3B,IAbJ,SAaA,KACM,IAAIA,EAAM,WAAhB,oBAEM,OADN,gCACaA,GAETS,SAlBJ,WAmBM,IAAIR,EAAS1C,KAAKwC,QAAQE,OAC1B,GAAN,EACQ,IAAID,EAAM,WAAlB,OAEYA,EAAM,WAAlB,oCAIM,OADAA,GAAO,gBAAb,mBACaA,GAET4B,OA7BJ,SA6BA,GACM,IAAIxO,EAAI,IAAI8F,KAAKjI,GACjB,OAAQ,IAAd,mFAGI4Q,WAlCJ,WAkCA,WACMtE,KAAK2D,OAAOY,SAAS,gBACrBvE,KAAK2D,OAAOY,SAAS,aAA3B,4BACQC,OAAO,oCAAf,mBACQ,EAAR,wBACA,oBACQ,EAAR,mCAIIlB,QA5CJ,WA4CA,WACA,sBACA,GAEM,IAAN,CACQmB,OAAQ,OACRhC,IAAK,aACL/O,KAAM,CACJoC,KAAV,EACUkN,WAAV,WAEA,kBACQ,EAAR,iDAMIK,WA9DJ,SA8DA,cACA,yBACM,IAAN,CACQoB,OAAQ,SACRhC,IAAK,aAAb,OACA,kBACQ,EAAR,kBASEiC,QArGF,WAsGA,0BACI1E,KAAKsE,eC1MsU,ICO3U,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,I,QClBX,EAAS,WAAa,IAAIvE,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACE,YAAY,yBAAyB,CAACN,EAAIQ,GAAG,iBAAkBR,EAAS,MAAEI,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACN,EAAIQ,GAAGR,EAAIgB,GAAGhB,EAAI4E,UAAU5E,EAAIkB,KAAKd,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACN,EAAIQ,GAAG,WAAWJ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,OAAO,CAACgB,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOtD,iBAAwBiC,EAAI6E,cAAcxD,MAAW,CAACjB,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAAC7K,KAAK,QAAQ8K,QAAQ,UAAUrK,MAAOwJ,EAAI8E,MAAW,MAAEhE,WAAW,gBAAgBR,YAAY,eAAeC,MAAM,CAAC,KAAO,QAAQ,YAAc,SAAS,SAAW,IAAIiB,SAAS,CAAC,MAASxB,EAAI8E,MAAW,OAAG1D,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOrE,OAAOyE,WAAqBzB,EAAI0B,KAAK1B,EAAI8E,MAAO,QAASzD,EAAOrE,OAAOxG,aAAa4J,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAAC7K,KAAK,QAAQ8K,QAAQ,UAAUrK,MAAOwJ,EAAI8E,MAAc,SAAEhE,WAAW,mBAAmBR,YAAY,eAAeC,MAAM,CAAC,KAAO,WAAW,YAAc,WAAW,SAAW,IAAIiB,SAAS,CAAC,MAASxB,EAAI8E,MAAc,UAAG1D,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOrE,OAAOyE,WAAqBzB,EAAI0B,KAAK1B,EAAI8E,MAAO,WAAYzD,EAAOrE,OAAOxG,WAAW4J,EAAG,QAAQ,CAACE,YAAY,mCAAmC,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,WAAW,CAACP,EAAIQ,GAAG,sBAAsB,KAAKJ,EAAG,SAAS,CAACE,YAAY,kBAAkBC,MAAM,CAAC,KAAO,WAAW,CAACP,EAAIQ,GAAG,mBAAmBJ,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACN,EAAIQ,GAAG,cAAcJ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,OAAO,CAACgB,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOtD,iBAAwBiC,EAAI+E,iBAAiB1D,MAAW,CAACjB,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAAC7K,KAAK,QAAQ8K,QAAQ,UAAUrK,MAAOwJ,EAAIgF,SAAa,KAAElE,WAAW,kBAAkBR,YAAY,eAAeC,MAAM,CAAC,KAAO,OAAO,YAAc,OAAO,SAAW,IAAIiB,SAAS,CAAC,MAASxB,EAAIgF,SAAa,MAAG5D,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOrE,OAAOyE,WAAqBzB,EAAI0B,KAAK1B,EAAIgF,SAAU,OAAQ3D,EAAOrE,OAAOxG,aAAa4J,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAAC7K,KAAK,QAAQ8K,QAAQ,UAAUrK,MAAOwJ,EAAIgF,SAAc,MAAElE,WAAW,mBAAmBR,YAAY,eAAeC,MAAM,CAAC,KAAO,OAAO,YAAc,SAAS,SAAW,IAAIiB,SAAS,CAAC,MAASxB,EAAIgF,SAAc,OAAG5D,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOrE,OAAOyE,WAAqBzB,EAAI0B,KAAK1B,EAAIgF,SAAU,QAAS3D,EAAOrE,OAAOxG,aAAa4J,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAAC7K,KAAK,QAAQ8K,QAAQ,UAAUrK,MAAOwJ,EAAIgF,SAAiB,SAAElE,WAAW,sBAAsBR,YAAY,eAAeC,MAAM,CAAC,KAAO,WAAW,YAAc,WAAW,SAAW,IAAIiB,SAAS,CAAC,MAASxB,EAAIgF,SAAiB,UAAG5D,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOrE,OAAOyE,WAAqBzB,EAAI0B,KAAK1B,EAAIgF,SAAU,WAAY3D,EAAOrE,OAAOxG,aAAa4J,EAAG,SAAS,CAACE,YAAY,kBAAkBC,MAAM,CAAC,KAAO,WAAW,CAACP,EAAIQ,GAAG,2BACnmG,EAAkB,GCmEtB,GAEE7M,KAFF,WAGI,MAAO,CACLiR,MAAN,GACME,MAAN,CACQG,MAAR,GACQC,SAAR,IAEMF,SAAN,CACQjP,KAAR,GACQkP,MAAR,GACQC,SAAR,MAKEjB,QAAF,CAEIY,cAFJ,WAEA,WACM5E,KAAK2E,MAAQ,GACb,IAAN,CACQF,OAAQ,OACRhC,IAAK,aACL/O,KAAMsM,KAAK6E,QACnB,kBACQ,EAAR,kCACQ,IAAR,6BACA,wBACQ,EAAR,0BAEA,mBACQ,EAAR,0BAKIC,iBApBJ,WAoBA,WACM9E,KAAK2E,MAAQ,GACb,IAAN,CACQF,OAAQ,OACRhC,IAAK,gBACL/O,KAAMsM,KAAK+E,WACnB,kBACQ,EAAR,kCAEQ,IAAR,6BACA,wBACQ,EAAR,0BAEA,mBACQ,EAAR,2BAMEL,QAzDF,cCpE+U,ICO3U,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,I,QClBX,EAAS,WAAa,IAAI3E,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACE,YAAY,yBAAyB,CAACN,EAAIQ,GAAG,iBAAkBR,EAAS,MAAEI,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACN,EAAIQ,GAAGR,EAAIgB,GAAGhB,EAAI4E,UAAU5E,EAAIkB,KAAKd,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACN,EAAIQ,GAAG,uBAAuBJ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,OAAO,CAACgB,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOtD,iBAAwBiC,EAAImF,SAAS9D,MAAW,CAACjB,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACJ,EAAIQ,GAAG,YAAYJ,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAAC7K,KAAK,QAAQ8K,QAAQ,UAAUrK,MAAOwJ,EAAI8E,MAAW,MAAEhE,WAAW,gBAAgBR,YAAY,eAAeC,MAAM,CAAC,KAAO,OAAO,SAAW,IAAIiB,SAAS,CAAC,MAASxB,EAAI8E,MAAW,OAAG1D,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOrE,OAAOyE,WAAqBzB,EAAI0B,KAAK1B,EAAI8E,MAAO,QAASzD,EAAOrE,OAAOxG,aAAa4J,EAAG,SAAS,CAACE,YAAY,kBAAkBC,MAAM,CAAC,KAAO,WAAW,CAACP,EAAIQ,GAAG,mBAAmBJ,EAAG,IAAI,CAACE,YAAY,oBAAoB,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,GAAK,UAAU,CAACP,EAAIQ,GAAG,oBAAoB,QAC9oC,EAAkB,GCyCtB,IAEE7M,KAFF,WAGI,MAAO,CACLiR,MAAN,GACME,MAAN,CACQG,MAAR,MAKEhB,QAAF,CAEIkB,SAFJ,WAEA,WACMlF,KAAK2E,MAAQ,GACb,IAAN,CACQF,OAAQ,OACRhC,IAAK,cACL/O,KAAMsM,KAAK6E,QACnB,kBACQ,MAAR,uBACA,mBACQ,EAAR,2BAKEH,QA3BF,cC1CgV,MCO5U,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,MAIa,M,QClBX,GAAS,WAAa,IAAI3E,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACE,YAAY,yBAAyB,CAACN,EAAIQ,GAAG,iBAAkBR,EAAS,MAAEI,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACN,EAAIQ,GAAGR,EAAIgB,GAAGhB,EAAI4E,UAAU5E,EAAIkB,KAAKd,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACN,EAAIQ,GAAG,wBAAwBJ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,OAAO,CAACgB,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOtD,iBAAwBiC,EAAImF,SAAS9D,MAAW,CAACjB,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACJ,EAAIQ,GAAG,YAAYJ,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAAC7K,KAAK,QAAQ8K,QAAQ,UAAUrK,MAAOwJ,EAAI8E,MAAW,MAAEhE,WAAW,gBAAgBR,YAAY,eAAeC,MAAM,CAAC,KAAO,OAAO,SAAW,IAAIiB,SAAS,CAAC,MAASxB,EAAI8E,MAAW,OAAG1D,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOrE,OAAOyE,WAAqBzB,EAAI0B,KAAK1B,EAAI8E,MAAO,QAASzD,EAAOrE,OAAOxG,aAAa4J,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACJ,EAAIQ,GAAG,kBAAkBJ,EAAG,QAAQ,CAACQ,WAAW,CAAC,CAAC7K,KAAK,QAAQ8K,QAAQ,UAAUrK,MAAOwJ,EAAI8E,MAAc,SAAEhE,WAAW,mBAAmBR,YAAY,eAAeC,MAAM,CAAC,KAAO,YAAYiB,SAAS,CAAC,MAASxB,EAAI8E,MAAc,UAAG1D,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOrE,OAAOyE,WAAqBzB,EAAI0B,KAAK1B,EAAI8E,MAAO,WAAYzD,EAAOrE,OAAOxG,aAAa4J,EAAG,SAAS,CAACE,YAAY,kBAAkBC,MAAM,CAAC,KAAO,WAAW,CAACP,EAAIQ,GAAG,qBACr6C,GAAkB,GCyCtB,I,oBAAA,CAEE7M,KAFF,WAGI,MAAO,CACLiR,MAAN,GACME,MAAN,CACQG,MAAR,GACQC,SAAR,GACQE,MAAR,MAKEnB,QAAF,CAEIkB,SAFJ,WAEA,WACMlF,KAAK2E,MAAQ,GACb,IAAN,CACQF,OAAQ,OACRhC,IAAK,oBACL/O,KAAMsM,KAAK6E,QACnB,kBACQ,MAAR,iCACQ,EAAR,yBACA,mBACQ,EAAR,2BAMEH,QA/BF,WAgCI,IAAJ,2CACA,eACA,KACI,IAAJ,YACM,IAAN,kBACM,EAAN,WAGI,KAAJ,wCACI,KAAJ,2CCnFqV,MCOjV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,M,QCDfU,OAAIC,IAAIC,QAER,IAAMC,GAAS,IAAID,OAAO,CACzB7O,KAAK,UACL+O,OAAQ,CACP,CAAEC,KAAM,IAAK3P,KAAM,YAAaoL,UAAWwE,EAAWC,KAAM,CAACC,YAAW,IAExE,CAAEH,KAAM,SAAU3P,KAAM,QAASoL,UAAW2E,EAAOpC,OAAO,EAAMkC,KAAM,CAACC,YAAW,IAClF,CAAEH,KAAM,UAAW3P,KAAM,SAAUoL,UAAW4E,GAAQrC,OAAO,EAAMkC,KAAM,CAACC,YAAW,IACrF,CAAEH,KAAM,gBAAiB3P,KAAM,eAAgBoL,UAAW6E,GAAatC,OAAO,EAAMkC,KAAM,CAACC,YAAW,IAEtG,CAAEH,KAAM,SAAU3P,KAAM,OAAQoL,UAAW8E,EAAMvC,OAAO,EAAMkC,KAAM,CAACC,YAAW,IAChF,CAAEH,KAAM,aAAc3P,KAAM,QAASoL,UAAW+E,EAAOxC,OAAO,EAAMkC,KAAM,CAACC,YAAW,OAMxFL,GAAOW,YAAW,SAACC,EAAItL,EAAM8D,GAS5B,OANAzD,QAAQC,IAAI,wBAAwBgL,EAAGV,MAEpChJ,QAAUpB,EAAE,gBACdyB,UAGW,WAATqJ,EAAGV,MAELW,IAAM,CACL3B,OAAQ,MACRhC,IAAK,gBACH4D,MAAK,SAACC,GACRC,GAAMhC,SAAS,UAAU,OACvBiC,OAAM,SAAC7B,GACTzJ,QAAQC,IAAI,QAAQwJ,MAGdhG,EAAK,YAGT4H,GAAM3C,QAAQ6C,iBAAmBN,EAAGR,KAAKC,YAC5CW,GAAMhC,SAAS,iBAAiB4B,EAAGV,MAC5B9G,EAAK,gBAGbA,OAIc4G,UC9DfH,OAAIC,IAAIqB,QAEO,WAAIA,OAAKC,MAAM,CAC7BC,MAAO,CACN9C,KAAM,CACLnC,GAAG,KACHqD,MAAM,GACNjB,UAAS,GAEV8C,iBAAgB,EAChBC,YAAY,GACZC,MAAM,GACNzF,KAAK,GACLiB,OAAO,GACPyE,QAAS,EACThG,eAAgB,IAEjBiG,UAAW,CACVC,aADU,SACGN,GACZA,EAAMI,SAAW,GAElBG,YAJU,SAIEP,GACRA,EAAMI,QAAQ,IAAGJ,EAAMI,SAAW,IAEtCI,kBAPU,SAOQR,EAAOS,GACxBT,EAAM5F,eAAiBqG,GAExBC,eAVU,SAUMV,EAAMS,GACrBT,EAAME,YAAcO,GAErBR,gBAbU,SAaOD,GAChBA,EAAMC,iBAAkB,GAEzBU,QAhBU,SAgBDX,EAAMS,GACbT,EAAM9C,KAAOuD,GAEfG,SAnBU,SAmBAZ,EAAMS,GACfT,EAAMG,MAAQM,IAGhBI,QAAS,CACRP,aADQ,YACc,IAARQ,EAAQ,EAARA,OACbA,EAAO,iBAERP,YAJQ,YAIa,IAARO,EAAQ,EAARA,OACZA,EAAO,eACgB,GAApB1H,KAAK4G,MAAMI,SAAchH,KAAK4G,MAAM5F,gBACtC0G,EAAO,oBAAoB,KAG7BN,kBAVQ,cAU6B,IAAlBM,EAAkB,EAAlBA,OAASC,EAAS,EAATA,QAC3BD,EAAO,oBAAoBC,IAE5BJ,QAbQ,WAaUzD,GAAM,IAAd4D,EAAc,EAAdA,OACTA,EAAO,UAAU5D,IAElBwD,eAhBQ,WAgBiB7E,GAAK,IAAbiF,EAAa,EAAbA,OAChBA,EAAO,iBAAiBjF,IAEzBoE,gBAnBQ,WAmBkBe,GAAM,IAAdF,EAAc,EAAdA,OACjBA,EAAO,kBAAkBE,IAE1BC,cAtBQ,YAsBe,WAARH,EAAQ,EAARA,OACdxM,QAAQC,IAAI,iBACZ6E,KAAKuE,SAAS,gBACd6B,IAAM,CACL3D,IAAK,eACH4D,MAAK,SAACC,GACRoB,EAAO,WAAWpB,EAAI5S,SACpBoU,SAAQ,WACV,EAAKvD,SAAS,mBAGhBwD,QAjCQ,WAiCQnG,GAAK,WAAZgF,EAAY,EAAZA,MAGR,OADA5G,KAAKuE,SAAS,gBACP6B,IAAM,CACX3D,IAAK,cAAcb,IAClByE,MAAK,SAAAC,GAGN,OAFAM,EAAMtF,KAAOgF,EAAI5S,KACjBkT,EAAMrE,OAAS+D,EAAI5S,KAAK6O,OACjB+D,KAENE,OAAM,SAAAF,GACP9B,OAAO,oCAAoC,QAAQ,WACnD,EAAKwD,QAAQC,QAAQ,QACpBH,SAAQ,WACT,EAAKvD,SAAS,oBAUlBX,QAAS,CACR6C,gBAAgB,SAACG,GAAD,OAAWA,EAAMC,iBAAmBD,EAAM9C,MAAS8C,EAAM9C,KAAKnC,IAE9EY,OAAO,SAACqE,EAAMhD,GACZ,OAAOA,EAAQsE,KAAKtB,EAAMrE,SAE5BwE,MAAM,SAACH,GACN,GAAuB,GAApBA,EAAMG,MAAM7S,OAAW,OAAO,EACjC,IAAIiU,EAAO,GAIX,OAHAvB,EAAMG,MAAMvN,SAAQ,SAAA8H,GACnB6G,EAAK7G,EAAKK,IAAML,KAEV6G,GAERjK,MAAM,SAAC0I,GACL,OAA0B,OAAvBA,EAAM5E,eAA8B,KAChC4E,EAAMrE,OAAO6F,MAAK,SAAApU,GAAC,OAAEA,EAAE2N,IAAIiF,EAAM5E,sBCjHxCqG,GAAU,GAGdjR,OAAO6C,GAAK7C,OAAO6C,IAAM,SAASqO,EAAUC,GAC3CA,EAAUA,GAAWjQ,SACrB,IAAIkQ,EAAWD,EAAQ7N,iBAAiB4N,GACxC,OAAO1N,MAAMxG,UAAUkD,MAAMhD,KAAKkU,IAEnCpR,OAAOiE,EAAIjE,OAAOiE,GAAK,SAASiN,EAAUC,GAEzC,OADAA,EAAUA,GAAWjQ,SACdiQ,EAAQ/N,cAAc8N,IAG9BlR,OAAOqR,WAAa,SAAS/U,GACxBA,IAED2U,GAAQnU,QAAUwU,KAAKC,UAAUjV,IAASgV,KAAKC,UAAUN,GAAQA,GAAQnU,OAAO,MACnFmU,GAAQ7T,KAAKd,GACbwH,QAAQC,IAAI,gBAAgBzH,GAEzB2U,GAAQnU,OAAO,IACjBmU,GAAQ1T,WAKVyC,OAAOyG,cAAgB,WACtB,IAAInK,EAAO2U,GAAQO,MACnB1N,QAAQC,IAAI,eAAezH,GACvBA,GACJmV,QAAQzR,OAAOyK,QAAQnO,IAIxB0D,OAAO0R,QAAU,WAGhB,IAAI/O,EAAWsB,EAAE,YACjB,GAAGtB,EAAS,CACX,IAAI7C,EAAI6C,EAAS6E,YACd1H,GAAgB,KAAXA,EAAE0I,UAAc1I,EAAEyC,UAAY2I,OAAOvI,EAASxD,QAGvD,IAAI7C,EAAOuG,GAAG,gBAAgB8O,KAAI,SAAA7K,GACjC,IAAIC,EAASD,EAAMpD,WAAWkD,QAAQ,gBAClCgL,EAAY,KAKhB,OAJG7K,IACF6K,EAAY7K,EAAO8K,aAAa,cAC5BD,IAAWA,EAAY7K,EAAO8K,aAAa,kBAEzC,CACNtH,GAAGzD,EAAM+K,aAAa,cACtBD,UAAUA,EACVE,MAAMC,cAAcjL,GACpBkL,QAAQlL,EAAM+K,aAAa,gBAC3BzR,KAAK2H,SAAS9D,EAAE,IAAI6C,GAAOvE,eAI7B,OAAOjG,GAIR4E,SAASqE,iBAAiB,SAAQ,SAASjF,GAE1C,GAAGA,EAAEqF,OAAOC,QAAQ,YACnB9B,QAAQC,IAAI,oBACZD,QAAQC,IAAIzD,GACZA,EAAE2R,sBACI,CACN,IAAIC,EAAW5R,EAAEqF,OAAOiB,QAAQ,gBAChC,IAAIsL,EAAU,OAEdC,aAAaD,EAAS5R,OAKxBN,OAAO8H,UAAY,WAElB,OADI9H,OAAOoS,SAAQpS,OAAOoS,QAAS,IAAI7N,MAAO8N,WACvC,QAASrS,OAAOoS,UAIxBpS,OAAOsS,SAAW,SAAS7H,GAC1B,IAAI7C,EAAK1G,SAASC,cAAc,MAChCyG,EAAGC,aAAa,aAAa,IAC7BD,EAAGC,aAAa,eAAeC,aAC/B,IAAIhI,EAAIoB,SAASC,cAAc,KAC/ByG,EAAG9F,YAAYhC,GACf,IAAIyS,EAAYtO,EAAE,eAAD,OAAgBwG,EAAhB,gBACb1D,EAAU9C,EAAE,KAAKsO,GACrB,IAAIxL,EAAQ,CACPA,EAAS7F,SAASC,cAAc,MACpCoR,EAAUzQ,YAAYiF,GAEvBA,EAAOjF,YAAY8F,GACnBR,UAAUQ,IAGX5H,OAAOmS,aAAe,SAASrL,EAAMxG,GAE5BA,EAAEkS,QAAUlS,EAAEqF,OAAO8M,wBAAwB7Q,EAC7CtB,EAAEoS,QAAUpS,EAAEqF,OAAO8M,wBAAwB/Q,EADrD,IAGIiR,EAAW3S,OAAO4S,eAAeC,WAAW,GAAGC,UACnD1L,UAAUN,GAEVhD,QAAQC,IAAI,WAAW4O,GAEvB,IAAII,EAAc9O,EAAE,YACpB8O,EAAYxK,QACZwK,EAAY5O,eAAiBwO,EAC7BI,EAAY1O,aAAesO,GAI5B3S,OAAOoH,UAAY,SAASN,GAC3BhD,QAAQC,IAAI,aAEI+C,EAEhB,IAAIhH,EAAIgH,EAAM1D,cAAc,KACxB4D,EAAOlH,EAAEmH,gBACb,GAAGD,GAAsB,YAAdA,EAAKwB,QAAqB,OAAOxB,EAAKuB,QAEjD5B,kBAEA,IAAIoM,EAAc7R,SAASC,cAAc,YACzC4R,EAAY5T,MAAQ4I,SAASjI,EAAEyC,WAC/BuE,EAAMK,aAAa4L,EAAYjT,GAC/BiT,EAAYxK,QACZ7F,eAAeqQ,IAIhB/S,OAAOgT,iBAAmB,SAAS1W,GAElC,IAAI,IAAI0V,KAAW1V,EAAK,CACvB,IAAI2W,EAAW3W,EAAK0V,GAChBlL,EAAQ5F,SAASkC,cAAT,yBAAyC4O,EAAzC,OACRlL,IACJA,EAAMoM,gBAAgB,gBACtBpM,EAAMe,aAAa,aAAaoL,MAKlCjT,OAAO0F,QAAU,WAEhB5B,QAAQC,IAAI,UAEZ,IAAI0G,EAAUxG,EAAE,eAAe4N,aAAa,aAExCvV,EAAOoV,UACXL,WAAW/U,GAEX0S,IAAM,CACJ3B,OAAO,OACPhC,IAAI,0BAA0BZ,EAC9BnO,KAAKA,IACJ2S,MAAK,SAAAC,GACN8D,iBAAiB9D,EAAI5S,SACpB8S,OAAM,SAAAF,GACPpL,QAAQyJ,MAAM,cACdzJ,QAAQyJ,MAAM2B,OAIjBlP,OAAO+R,cAAgB,SAASjL,GAC/B,IAAIqE,EAAStI,GAAG,gBAChB,OAAOsI,EAAOvH,QAAQkD,GAAO,GAG9B9G,OAAOiI,aAAe,SAASnB,GAC1BA,IAAOA,EAAQ7C,EAAE,YAAY2C,QAAQ,iBACzC,IAAIuE,EAAStI,GAAG,gBACZ6H,EAAQS,EAAOvH,QAAQkD,GAC3B,GAAU,GAAP4D,EACH,OAAOS,EAAOT,EAAM,IAGrB1K,OAAOsH,WAAa,WACnB,IAAIR,EAAQmB,aAAanB,GACzB,GAAIA,EAAJ,CACA,IAAIqM,EAAMC,oBACVhM,UAAUN,GACV,IAAIiM,EAAc9O,EAAE,YAChBE,EAAiBkP,gBAAgBN,EAAYI,EAAIvR,GACrDmR,EAAY5O,eAAiBA,EAC7B4O,EAAY1O,aAAeF,IAG5BnE,OAAOoI,aAAe,SAAStB,GAC1BA,IAAOA,EAAQ7C,EAAE,YAAY2C,QAAQ,iBACzC,IAAIuE,EAAStI,GAAG,gBACZ6H,EAAQS,EAAOvH,QAAQkD,GAC3B,GAAG4D,GAAOS,EAAOrO,OAAO,EACxB,OAAOqO,EAAOT,EAAM,IAGrB1K,OAAO2H,WAAa,SAASb,GACxBA,EAAQsB,aAAatB,GACzB,GAAIA,EAAJ,CACA,IAAIqM,EAAMC,oBACVhM,UAAUN,GACV,IAAIiM,EAAc9O,EAAE,YAChBE,EAAiBmP,kBAAkBP,EAAYI,EAAIvR,GACvDmR,EAAY5O,eAAiBA,EAC7B4O,EAAY1O,aAAeF,IAG5BnE,OAAOyR,QAAU,SAAShH,EAAQnO,GACjC0D,OAAOyK,QAAUA,EACjBxG,EAAE,eAAD,OAAgBwG,EAAhB,gBAAsClI,UAAYgR,WAAWjX,IAG/D0D,OAAOuT,WAAa,SAASjX,EAAKsV,EAAUjH,GAC3CiH,EAAYA,GAAa,KACzBjH,EAAQA,GAAS,EACjB,IAAI6I,EAAc,GASlB,OARAlX,EAAK8F,SAAQ,SAAA0E,GACTA,EAAM8K,WAAWA,IACnB4B,GAAe,mBAAJ,OAAuB1M,EAAMyD,GAA7B,MACXiJ,GAAe,MAAJ,OAAUtI,OAAOpE,EAAM1G,MAAvB,QACXoT,GAAeD,WAAWjX,EAAKwK,EAAMyD,GAAGI,EAAM,GAC9C6I,GAAe,YAGbA,EACJ,cAAcA,EAAd,SADwB,IAIzBxT,OAAOyT,UAAY,SAAShK,EAAYiK,GACvC,IACC,OAAQ,IAAIC,SAAS,CAAC,SAAd,6CAA8DlK,EAA9D,sBAA8FiK,GACrG,MAAMpT,GAEP,YADAwD,QAAQC,IAAI,qBAAqBzD,KAKnCN,OAAOoN,OAAS,SAASvL,EAAK+R,EAAMC,EAAMC,GAEzCF,EAAQA,GAAS,GACjBC,EAAQA,GAAS,UACjBC,EAAUA,GAAY,EAAIjS,EAAK/E,OAAO,GAEtC,IAAIiX,EAAM7S,SAASC,cAAc,OACjC4S,EAAIC,UAAY,aAChBD,EAAIlM,aAAa,QAAQ,gEACzBkM,EAAIxR,UAAJ,4PAEkNsR,EAFlN,sCAGUD,EAHV,8DAME/R,EANF,cAQAX,SAASW,KAAKC,YAAYiS,GAE1BtO,YAAW,WACVvE,SAASW,KAAKqF,YAAY6M,KACjB,IAARD,IAIH9T,OAAOkL,OAAS,SAAS9K,GACxB,IAAIA,EAAM,MAAO,GACjBA,EAAOA,EAAKyQ,QAAQ,gBAAgB,kCACpCzQ,EAAOA,EAAKyQ,QAAQ,gBAAgB,0CAEpCzQ,EAAOA,EAAKyQ,QAAQ,oBAAoB,uBACxCzQ,EAAOA,EAAKyQ,QAAQ,eAAe,uBACnCzQ,EAAOA,EAAKyQ,QAAQ,eAAe,iBAEnCzQ,EAAOA,EAAKyQ,QAAQ,gBAAgB,eACpCzQ,EAAOA,EAAKyQ,QAAQ,aAAa,eAEjC,IAAIjL,EAAUxF,EAAK6T,MAAM,qBAUzB,OATGrO,GAASA,EAAQxD,SAAQ,SAAA6R,GAC3B,IAAIC,EAAYD,EAAMpD,QAAQ,UAAU,IACpC3G,EAAOiF,GAAMK,MAAMG,MAAMqB,MAAK,SAAA9G,GACjC,OAAOA,EAAKxL,MAAQwV,KAEjBhK,IACJ9J,EAAOA,EAAKyQ,QAAQoD,EAAb,oBAAgC/J,EAAKM,KAArC,aAA8CyJ,EAA9C,aAGD7T,GAGRJ,OAAO+H,SAAW,SAAS3H,GAC1B,OAAIA,GACJA,EAAOA,EAAKyQ,QAAQ,mCAAmC,YACvDzQ,EAAOA,EAAKyQ,QAAQ,2CAA2C,YAE/DzQ,EAAOA,EAAKyQ,QAAQ,gCAAgC,UACpDzQ,EAAOA,EAAKyQ,QAAQ,wBAAwB,QAC5CzQ,EAAOA,EAAKyQ,QAAQ,0BAA0B,UAE9CzQ,EAAOA,EAAKyQ,QAAQ,kCAAkC,MAC/CzQ,GATU,I,wCC9RlBJ,OAAOgO,IAAMA,OACbA,OAAImG,OAAOC,eAAgB,EAE3BpF,IAAM,CACL3B,OAAQ,MACRhC,IAAK,cACH4D,MAAK,SAACC,GACRC,GAAMhC,SAAS,UAAU+B,EAAI5S,MAC7B6S,GAAMhC,SAAS,sBACbiC,OAAM,WACRD,GAAMhC,SAAS,sBACbuD,SAAQ,WACV1Q,OAAOqU,GAAK,IAAIrG,OAAI,CACnBG,UACAgB,SACAmF,OAAQ,SAAAC,GAAC,OAAIA,EAAEC,MACbC,OAAO,Y,oCC5BX,yBAA6c,EAAG,G,mGCAhdvT,SAASqE,iBAAiB,oBAAoB,WAG7CrE,SAASqE,iBAAiB,SAAQ,SAASjF,GACtCA,EAAEqF,OAAOC,QAAQ,aACrBlD,eAAepC,EAAEqF,cAInB3F,OAAO0C,eAAiB,SAASgS,GAEhCA,EAAGlT,MAAMmT,OAAS,QAClB,IAAIC,EAAiBF,EAAGG,aAExBH,EAAGlT,MAAMmT,OAASC,EAAiB,MAGpC5U,OAAO2G,gBAAkB,WACxB9D,GAAG,YAAYT,SAAQ,SAAAO,GACtB,IAAI7C,EAAI6C,EAAS6E,YACd1H,GAAgB,KAAXA,EAAE0I,UACT1I,EAAEyC,UAAY2I,OAAOvI,EAASxD,OAC9BwD,EAASe,WAAWwD,YAAYvE,QAKnC3C,OAAOqT,gBAAkB,SAASN,EAAYnR,EAAEF,GAC/C,IAAIoT,EAAe/B,EAAY5T,MAC3BiB,EAAO0U,EAEPC,EAAO7T,SAASC,cAAc,QAClC4T,EAAKf,UAAY,YACjBe,EAAKvT,MAAMwT,MAAQjC,EAAYkC,YAAY,KAE3C,IAAIC,EAAQhU,SAASiU,eAAe/U,GACpC2U,EAAKjT,YAAYoT,GAEjB,IAAIE,EAASlU,SAASC,cAAc,QACpCiU,EAAO7K,GAAK,SACZwK,EAAKjT,YAAYsT,GAEjBlU,SAASW,KAAKC,YAAYiT,GAE1BjR,QAAQuR,KAAK,SACb,MAAMD,EAAOE,WAAW1T,EACvBxB,EAAO0U,EAAalQ,OAAO,EAAExE,EAAKtD,OAAO,GACzCoY,EAAMK,YAAcnV,EAOrB,OALA0D,QAAQ0R,QAAQ,SAEhB3S,GAAG,cAAcT,SAAQ,SAAA2S,GACxBA,EAAKrR,WAAWwD,YAAY6N,MAEtB3U,EAAKtD,QAGbkD,OAAOsT,kBAAoB,SAASP,EAAYnR,GAE/C,IAAIkT,EAAe/B,EAAY5T,MAC3BiB,EAAO,GAEP2U,EAAO7T,SAASC,cAAc,QAClC4T,EAAKf,UAAY,YACjBe,EAAKvT,MAAMwT,MAAQjC,EAAYkC,YAAY,KAE3C,IAAIC,EAAQhU,SAASiU,eAAe/U,GACpC2U,EAAKjT,YAAYoT,GAEjB,IAAIE,EAASlU,SAASC,cAAc,QACpCiU,EAAO7K,GAAK,SACZwK,EAAKjT,YAAYsT,GAEjBlU,SAASW,KAAKC,YAAYiT,GAE1B,MAAMK,EAAOE,WAAW1T,EAGvB,GAFAxB,EAAO0U,EAAalQ,OAAO,EAAExE,EAAKtD,OAAO,GACzCoY,EAAMK,YAAcnV,EACjB0U,EAAahY,QAAQsD,EAAKtD,OAAQ,MAOtC,OALAsD,EAAO0U,EAAalQ,OAAO,EAAExE,EAAKtD,OAAO,GAEzC+F,GAAG,cAAcT,SAAQ,SAAA2S,GACxBA,EAAKrR,WAAWwD,YAAY6N,MAEtB3U,EAAKtD,QAGbkD,OAAOuB,yBAA2B,WACjC,IAAMD,EAAY8R,oBACZL,EAAc9O,EAAE,YACtB,MAAO,CACNrC,EAAGN,EAAUM,EAAImR,EAAYN,wBAAwB7Q,EACrDF,EAAGJ,EAAUI,EAAIqR,EAAYN,wBAAwB/Q,IAIvD1B,OAAOoT,kBAAoB,WAC1B,IAAIL,EAAc9O,EAAE,YAChB8Q,EAAO7T,SAASC,cAAc,QAClC4T,EAAKf,UAAY,YACjB,IAAI5T,EAAO2S,EAAY5T,MAAMyF,OAAO,EAAEmO,EAAY5O,gBAClD4Q,EAAKxS,UAAYnC,EAAO,4BACxB2U,EAAKvT,MAAMwT,MAAQjC,EAAYkC,YAAY,KAE3C/T,SAASW,KAAKC,YAAYiT,GAE1B,IAAIK,EAASL,EAAK3R,cAAc,WAC5BqS,EAAM,CACT7T,EAAEwT,EAAOE,WAAW,EACpB5T,EAAE0T,EAAOM,WAOV,OAJA7S,GAAG,cAAcT,SAAQ,SAAA2S,GACxBA,EAAKrR,WAAWwD,YAAY6N,MAGtBU,GAGRzV,OAAOqH,YAAc,SAAS0L,GAC7B,IAAII,EAAMC,oBAIV,OAFAtP,QAAQC,IAAI,+BAA+BoP,GAE7B,GAAPA,EAAIzR,GAGZ1B,OAAO0H,WAAa,SAASqL,GAE5B,IAAIgC,EAAO7T,SAASC,cAAc,QAClC4T,EAAKf,UAAY,YACjBe,EAAKvT,MAAMwT,MAAQjC,EAAYkC,YAAY,KAC3CF,EAAKxS,UAAYwQ,EAAY5T,MAAQ,4BAErC+B,SAASW,KAAKC,YAAYiT,GAC1B,IAAIK,EAASL,EAAK3R,cAAc,WAC5BqS,EAAM,CACT7T,EAAEwT,EAAOE,WACT5T,EAAE0T,EAAOM,WAGNvC,EAAMC,oBAIV,OAFAtP,QAAQC,IAAI,8BAA8BoP,EAAIsC,GAEvCtC,EAAIzR,GAAK+T,EAAI/T,GAGrB1B,OAAO2V,cAAgB,SAASC,EAAQC,GACvC,IAAMlT,EAAWsB,EAAE,YACbE,EAAiBxB,EAASwB,eAC1BE,EAAe1B,EAAS0B,aACxByR,EAAaF,EAAO9Y,OAC1B6F,EAASxD,MAAQwD,EAASxD,MAAMiF,UAAU,EAAED,GAAkByR,EAASjT,EAASxD,MAAMiF,UAAUD,GAChGxB,EAASxD,MAAQwD,EAASxD,MAAMiF,UAAU,EAAEC,EAAayR,GAAcF,EAASjT,EAASxD,MAAMiF,UAAUC,EAAayR,GACtHnT,EAASwB,eAAiBA,EAAiB2R,EAC3CnT,EAAS0B,aAAeA,EAAeyR,EACvCpT,eAAeC,GACZkT,GAAOA,EAAMnP,kBAGjB1G,OAAOW,QAAU,SAASkV,GACzBF,cAAc,KAAME,IAGrB7V,OAAOY,UAAY,SAASiV,GAC3BF,cAAc,IAAKE,IAGpB7V,OAAOa,aAAe,SAASgV,GAC9BF,cAAc,KAAME,IAGrB7V,OAAOkE,QAAU,SAAS6O,GACzB,IAAI3S,EAAO2S,EAAY5T,MAElBiB,EAAK6T,MAAM,wBAEL7T,EAAK6T,MAAM,iBACrB7T,EAAOA,EAAKyQ,QAAQ,gBAAiB,YAC3BzQ,EAAK6T,MAAM,mBACrB7T,EAAOA,EAAKyQ,QAAQ,kBAAmB,KAJvCzQ,EAAO,YAAcA,EAOtB2S,EAAY5T,MAAQiB","file":"js/app.ffb4d816.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","\nwindow.defaultListMenu = [\n\t{ text: 'Todo', function: (e) => { insertTodo() }},\n\t{ text: 'Current Date', function: () => { insertCurrentDate() }},\n\t{ text: 'Current Time', function: () => { insertCurrentTime() }},\n\t{ text: 'Date Picker', function: () => { alert('\"Date Picker\" is undeveloped'); }},\n\t{ text: 'Make a Reference', function: () => { alert('\"Make a Reference\" is undeveloped'); }},\n\t{ text: 'Bold', function: () => { setBold() }},\n\t{ text: 'Italic', function: () => { setItalic(); }},\n\t{ text: 'Strikeout', function: () => { setStrikeout() }},\n];\n\nwindow.menuElement = null;\n\nwindow.createMenu = function() {\n\tdestroyMenu();\n\tlet menu = document.createElement('div');\n\tmenu.classList.add('menu-context');\n\tconst positions = getCarretPositonByWindow();\n\tmenu.style.top = `${positions.y}px`;\n\tmenu.style.left = `${positions.x}px`;\n\tdocument.body.appendChild(menu);\n\twindow.menuElement = menu;\n}\n\nwindow.createMenuDefault = function() {\n\tcreateMenu();\n\tupdateMenu(defaultListMenu);\n\tchangeItemSelectedMenu();\n}\n\nwindow.updateMenu = function(list) {\n\twindow.resetMenu();\n\n\tlist.forEach(item => {\n\t\tlet itemElement = document.createElement('div');\n\t\titemElement.classList.add('item');\n\t\titemElement.innerHTML = item.text;\n\t\titemElement.onclick = () => {\n\t\t\tremoveSlash();\n\t\t\titem.function();\n\t\t\tdestroyMenu();\n\t\t\tsetInputHeight(textarea);\n\t\t}\n\t\tmenuElement.appendChild(itemElement);\n\t});\n}\n\nwindow.hasMenu = function() {\n\tif(window.menuElement === null) {\n\t\treturn false\n\t} else {\n\t\treturn true;\n\t}\n}\n\nwindow.resetMenu = function() {\n\tmenuElement.innerHTML = '';\n}\n\nwindow.destroyMenu = function() {\n\t$$('.menu-context').forEach(element => {\n\t\telement.remove();\n\t});\n\twindow.menuElement = null;\n}\n\nwindow.nextItemSelectedMenu = function() {\n\tchangeItemSelectedMenu(+1);\n}\n\nwindow.prevItemSelectedMenu = function() {\n\tchangeItemSelectedMenu(-1);\n}\n\nwindow.changeItemSelectedMenu = function(change) {\n\tconst selectedElement = window.menuElement.querySelector('.selected');\n\tif(selectedElement == null) {\n\t\twindow.menuElement.querySelector('.item').classList.add('selected');\n\t\treturn;\n\t}\n\tconst itemsElements = window.menuElement.querySelectorAll('.item');\n\tconst selectedIndex = (Array.from(selectedElement.parentNode.children).indexOf(selectedElement) + 1);\n\tlet futureIndex = selectedIndex + change;\n\tif(itemsElements.length < futureIndex) {\n\t\tfutureIndex = 1;\n\t\tconsole.log('More then '+itemsElements.length);\n\t} else if(futureIndex < 1) {\n\t\tfutureIndex = itemsElements.length;\n\t\tconsole.log('Lest then zero');\n\t}\n\tselectedElement.classList.remove('selected');\n\tconsole.log({futureIndex, selectedIndex, length: itemsElements.length});\n\twindow.menuElement.querySelector(`.item:nth-child(${futureIndex})`).classList.add('selected');\n}\n\nwindow.callSelectItemMenu = function() {\n\tmenuElement.querySelector('.selected').onclick();\n}\n\nwindow.insertTodo = function(){\n\tconst textarea = $('textarea');\n\tsetTodo(textarea);\n\tremoveSlash();\n\tsetInputHeight(textarea);\n}\n\nwindow.removeSlash = function(){\n\tconst textarea = $('textarea');\n\tif(textarea.value[textarea.selectionStart-1]=='/'){\n\t\tconst selectionStart = textarea.selectionStart;\n\t\ttextarea.value = textarea.value.substring(0,textarea.selectionStart-1)+textarea.value.substring(textarea.selectionStart);\n\t\ttextarea.selectionStart = textarea.selectionEnd = selectionStart-1;\n\t}\n}\n\nwindow.insertCurrentDate = function(){\n\tconst textarea = $('textarea');\n\tconst date = new Date();\n\tconst year = date.getFullYear();\n\tconst month = ('0'+(date.getMonth()+1)).substr(-2);\n\tconst day = ('0'+(date.getDate())).substr(-2);\n\tconst dateStr = `[[${year}-${month}-${day}]]`;\n\tconst selectionStart = textarea.selectionStart;\n\ttextarea.value = textarea.value.substring(0,selectionStart) + dateStr + textarea.value.substring(selectionStart);\n\ttextarea.selectionStart = textarea.selectionEnd = selectionStart + dateStr.length;\n}\n\nwindow.insertCurrentTime = function(){\n\tconst textarea = $('textarea');\n\tconst date = new Date();\n\tconst hours = ('0'+(date.getHours()+1)).substr(-2);\n\tconst minutes = ('0'+(date.getMinutes()+1)).substr(-2);\n\tconst timeStr = `${hours}:${minutes}`;\n\tconst selectionStart = textarea.selectionStart;\n\ttextarea.value = textarea.value.substring(0,selectionStart) + timeStr + textarea.value.substring(selectionStart);\n\ttextarea.selectionStart = textarea.selectionEnd = selectionStart + timeStr.length;\n}\n","window.edited = false;\nwindow.timerSave = null;\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n\n\tdocument.addEventListener('keydown',function(e){\n\n\t\tedited = true;\n\t\tclearTimeout(timerSave);\n\t\ttimerSave = setTimeout(()=>{\n\t\t\tif(!edited) return;\n\t\t\tsaveAll();\n\t\t\tedited = false;\n\t\t},5000);\n\n\n\t\tconsole.log(e.key)\n\t\tif(e.key=='Escape' && e.target.matches('textarea')){\n\t\t\thandleKeyEscape(e);\n\t\t}\n\t\tif(e.key=='Backspace' && e.target.matches('textarea')){\n\t\t\thandleKeyBackspace(e);\n\t\t}\n\t\tif(e.key=='Delete' && e.target.matches('textarea')){\n\t\t\thandleKeyDelete(e);\n\t\t}\n\t\tif(e.key=='Enter' && e.target.matches('textarea') && !e.shiftKey){\n\t\t\tif(e.ctrlKey){\n\t\t\t\thandleKeyCtrlEnter(e);\n\t\t\t} else {\n\t\t\t\thandleKeyEnter(e);\n\t\t\t}\n\t\t}\n\t\tif(e.key=='Tab' && e.target.matches('textarea')){\n\t\t\tif(e.shiftKey){\n\t\t\t\thandleShiftTab(e);\n\t\t\t} else {\n\t\t\t\thandleTab(e);\n\t\t\t}\n\t\t}\n\n\t\tif(e.key=='ArrowUp' && e.target.matches('textarea')){ //arrowUp\n\t\t\thandleKeyArrowUp(e);\n\t\t}\n\t\tif(e.key=='ArrowDown' && e.target.matches('textarea')){ //arrowDown\n\t\t\thandleKeyArrowDown(e);\n\t\t}\n\t\tif(e.key=='/'){ //arrowDown\n\t\t\thandleKeySlash(e);\n\t\t}\n\t\tif(e.key=='z' && e.ctrlKey){\n\t\t\trevertHistory();\n\t\t}\n\t\tif(e.key=='b' && e.ctrlKey) {\n\t\t\tsetBold(e);\n\t\t}\n\t\tif(e.key=='i' && e.ctrlKey) {\n\t\t\tsetItalic(e);\n\t\t}\n\t});\n});\n\nwindow.handleKeyEscape = function(e) {\n\tif(window.hasMenu()) {\n\t\twindow.destroyMenu();\n\t\te.preventDefault();\n\t} else {\n\t\tremoveTextareas();\n\t}\n}\n\nwindow.handleKeySlash = function(e) {\n\tconst textarea = e.target;\n\tconst block = textarea.closest('[data-block]');\n\tconst text = textarea.value;\n\tcreateMenuDefault();\n}\n\nwindow.handleKeyArrowUp = function(e){\n\tif(window.hasMenu()) {\n\t\twindow.prevItemSelectedMenu();\n\t\te.preventDefault();\n\t\treturn;\n\t}\n\n\tif(e.shiftKey && e.altKey){\n\t\tvar block = e.target.closest('[data-block]');\n\t\tvar parent = block.parentNode;\n\t\tvar prev = block.previousSibling;\n\t\tif(!prev) return;\n\t\tparent.removeChild(block);\n\t\tparent.insertBefore(block,prev);\n\t\treturn editBlock(block);\n\t}\n\n\tif(isFirstLine(e.target)) {\n\t\te.preventDefault();\n\t\tselectPrev();\n\t}\n}\nwindow.handleKeyArrowDown = function(e){\n\tif(window.hasMenu()) {\n\t\twindow.nextItemSelectedMenu();\n\t\te.preventDefault();\n\t\treturn;\n\t}\n\n\tif(e.shiftKey && e.altKey){\n\t\tvar block = e.target.closest('[data-block]');\n\t\tvar parent = block.parentNode;\n\t\tvar next = block.nextSibling;\n\t\tif(!next) return;\n\t\tparent.removeChild(block);\n\t\tvar nextNext = next.nextSibling;\n\t\tif(nextNext){\n\t\t\tparent.insertBefore(block,nextNext);\n\t\t} else {\n\t\t\tparent.appendChild(block);\n\t\t}\n\t\treturn editBlock(block);\n\t}\n\n\tif(isLastLine(e.target)) {\n\t\te.preventDefault();\n\t\tselectNext();\n\t}\n}\n\nwindow.handleKeyEnter = function(e){\n\te.preventDefault();\n\tif(window.hasMenu()) {\n\t\twindow.callSelectItemMenu();\n\t\treturn;\n\t}\n\tvar textarea = e.target;\n\tvar block = textarea.closest('[data-block]');\n\tvar text = textarea.value;\n\n\tvar li = document.createElement('li');\n\tli.setAttribute('data-block','');\n\tli.setAttribute('data-temp-id',getTempId());\n\tvar p = document.createElement('p');\n\tp.innerHTML = unmarked(text.substr(0,textarea.selectionStart));\n\tli.appendChild(p);\n\n\tblock.parentNode.insertBefore(li,block);\n\n\ttextarea.value = text.substr(textarea.selectionEnd);\n\ttextarea.selectionStart = 0;\n\ttextarea.selectionEnd = 0;\n}\n\nwindow.handleKeyCtrlEnter = function(e){\n\te.preventDefault();\n\tvar textarea = e.target;\n\tsetTodo(textarea);\n\tsetInputHeight(textarea);\n}\n\nwindow.handleKeyBackspace = function(e){\n\tvar textarea = e.target;\n\tif(textarea.selectionStart == 0 && textarea.selectionEnd==0) {\n\t\tvar block = textarea.closest('[data-block]');\n\n\t\t//get previous\n\t\tvar prevBlock = getPrevBlock(block);\n\t\tif(!prevBlock) return;\n\n\t\te.preventDefault();\n\t\t//grab text,\n\t\tvar text = textarea.value;\n\n\t\tvar prevText = unmarked(prevBlock.querySelector('p').innerHTML);\n\n\t\t//delete previous block\n\t\tprevBlock.parentNode.removeChild(prevBlock);\n\n\t\t//append text\n\t\ttextarea.value = prevText + textarea.value;\n\t\tsetInputHeight(textarea);\n\n\t\ttextarea.selectionStart = prevText.length;\n\t\ttextarea.selectionEnd = prevText.length;\n\n\t}\n}\n\n\n\nwindow.handleKeyDelete = function(e){\n\tvar textarea = e.target;\n\tif(textarea.selectionStart == textarea.value.length && textarea.selectionEnd==textarea.value.length) {\n\t\tvar block = textarea.closest('[data-block]');\n\t\tvar text = textarea.value;\n\n\t\t//get next block\n\t\tvar nextBlock = getNextBlock(block);\n\t\tif(!nextBlock) return;\n\n\t\te.preventDefault();\n\n\n\t\t//if next block is a child, grab its text and merge with current block\n\t\tif(nextBlock == block.querySelector('[data-block]')){\n\t\t\tvar nextvalue = unmarked(nextBlock.querySelector('p').innerHTML);\n\t\t\tnextBlock.parentNode.removeChild(nextBlock);\n\t\t\ttextarea.value += nextvalue;\n\t\t\tsetInputHeight(textarea);\n\t\t} else {\n\t\t\tblock.parentNode.removeChild(block);\n\t\t\teditBlock(nextBlock);\n\t\t\ttextarea = $('textarea');\n\t\t\ttextarea.value = text + textarea.value;\n\t\t}\n\t\ttextarea.selectionStart = text.length;\n\t\ttextarea.selectionEnd = text.length;\n\n\t}\n}\n\n\n\nwindow.handleTab = function(e){\n\te.preventDefault();\n\tvar textarea = e.target;\n\tvar block = textarea.closest('[data-block]');\n\n\t//get prev\n\tvar prevBlock = block.previousSibling;\n\tif(!prevBlock) return;\n\n\tvar ul = prevBlock.querySelector('ul');\n\tif(!ul){\n\t\tul = document.createElement('ul');\n\t\tprevBlock.appendChild(ul);\n\t}\n\n\tblock.parentNode.removeChild(block);\n\n\tul.appendChild(block);\n\t$('textarea').focus();\n\n}\n\n\n\nwindow.handleShiftTab = function(e){\n\te.preventDefault();\n\tvar textarea = e.target;\n\tvar block = textarea.closest('[data-block]');\n\n\tvar ul = block.parentNode;\n\tif(ul.tagName!='UL') return;\n\n\tvar parentBlock = ul.closest('[data-block]');\n\n\tvar reference = parentBlock.nextSibling;\n\n\tul.removeChild(block);\n\tif(ul.querySelectorAll('li').length==0){\n\t\tparentBlock.removeChild(ul);\n\t}\n\n\tif(reference){\n\t\tparentBlock.parentNode.insertBefore(block,reference);\n\t} else {\n\t\tparentBlock.parentNode.appendChild(block);\n\t}\n\n\t$('textarea').focus();\n\n\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper-app\"},[_c('aside',[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"Dashboard\")])],1),_c('main',[_c('router-view',{key:_vm.$route.fullPath})],1),_c('loader')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoading),expression:\"isLoading\"}],staticClass:\"ajax-loader\"},[_vm._m(0),(_vm.loadingMessage)?_c('p',[_vm._v(_vm._s(_vm.loadingMessage))]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loader-circle\"},[_c('div',{staticClass:\"loader-line-mask\"},[_c('div',{staticClass:\"loader-line\"})]),_c('div',{staticClass:\"loader-img\"})])}]\n\nexport { render, staticRenderFns }","<template>\n\n\t<div v-show=\"isLoading\" class=\"ajax-loader\">\n\t\t<div class=\"loader-circle\">\n\t\t\t<div class=\"loader-line-mask\">\n\t\t\t\t<div class=\"loader-line\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"loader-img\"></div>\n\t\t</div>\n\t\t<p v-if=\"loadingMessage\">{{loadingMessage}}</p>\n\t</div>\n</template>\n\n<style>\n\n\n.ajax-loader {\n  position: fixed;\n  background: rgba(255,255,255,.7);\n  top:0;\n  left:0;\n  width: 100%;\n  height: 100%;\n  z-index: 999999;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color:#fff;\n}\n\n.ajax-loader .loader-circle {\n  position:relative;\n  width:120px;\n  height:120px;\n  border-radius: 50%;\n  box-shadow: inset 0 0 0 1px rgba(255,255,255,.1);\n}\n\n.ajax-loader .loader-line-mask {\n  position: absolute;\n  top:0;\n  left:0;\n  width:60px;\n  height:120px;\n  overflow: hidden;\n  transform-origin:60px 60px;\n  -webkit-mask-image: -webkit-linear-gradient(top, rgba(0,0,0,1), rgba(0,0,0,0));\n  animation: rotate 1.2s infinite linear;\n}\n.ajax-loader .loader-line {\n  width:120px;\n  height:120px;\n  border-radius: 50%;\n  box-shadow: inset 0 0 0 3px #000;\n}\n.ajax-loader .loader-img {\n  position: relative;\n  top: 30px;\n  left: 30px;\n  display: block;\n  width:60px;\n  height:60px;\n  /* background:url(../../public/logo.png) no-repeat center; */\n  background-size:contain;\n}\n.ajax-loader p{\n  font-weight: bold;\n  color:#000;\n  margin-top:20px;\n}\n@keyframes rotate {\n  0% { transform: rotate(0deg);}\n  100% { transform: rotate(360deg);}\n}\n\n\n\n\t</style>\n\n\n<script>\n\n\texport default {\n\t\tcomputed:{\n\n\t\t\tisLoading(){\n\t\t\t\treturn this.$store.state.loading\n\t\t\t},\n\t\t\tloadingMessage(){\n\t\t\t\treturn this.$store.state.loadingMessage\n\t\t\t}\n\n\t\t}\n\t}\n\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Loader.vue?vue&type=template&id=6f5b6b41&\"\nimport script from \"./Loader.vue?vue&type=script&lang=js&\"\nexport * from \"./Loader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Loader.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n<div class=\"wrapper-app\">\n\t<aside>\n\t\t<router-link to=\"/\">Dashboard</router-link>\n\t</aside>\n\t<main>\n\t\t<router-view :key=\"$route.fullPath\" />\n\n\t</main>\n\t<loader/>\n</div>\n</template>\n\n<script>\n\n\nimport Loader from './components/Loader.vue';\n\nexport default {\n\tname: 'app',\n\tcomponents: {\n\t\tLoader\n\t},\n\tdata() {\n\t\treturn {\n\t\t}\n\t},\n\tcomputed:{\n\t\tisAuthenticated:function(){\n\t\t\treturn this.$store.getters.isAuthenticated\n\t\t},\n\t\teditingBlockId(){\n\t\t\treturn this.$store.state.editingBlockId;\n\t\t},\n\t},\n\tmethods:{\n\n\t},\n\n}\n\n\n\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=1e2db2ae&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dashboard\"},[_c('div',{staticClass:\"container\"},[_vm._m(0),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.newNote($event)}}},[_vm._v(\" new note: \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.note.name),expression:\"note.name\"}],attrs:{\"required\":\"\"},domProps:{\"value\":(_vm.note.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.note, \"name\", $event.target.value)}}})]),_c('ul',{staticClass:\"notes\"},_vm._l((_vm.notes),function(note){return _c('li',{key:note.id},[_c('router-link',{attrs:{\"to\":'/'+note.slug}},[_vm._v(_vm._s(note.slug))])],1)}),0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex align-items-center justify-content-between my-3\"},[_c('h1',[_vm._v(\"Notes\")])])}]\n\nexport { render, staticRenderFns }","<template>\n\n\t<div class=\"dashboard\">\n\n\t\t<!-- <app-header /> -->\n\n\t\t<div class=\"container\">\n\t\t\t<div class=\"d-flex align-items-center justify-content-between my-3\">\n\t\t\t\t<h1>Notes</h1>\n\t\t\t</div>\n\t\t\t<form @submit.prevent=\"newNote\">\n\t\t\t\tnew note: <input v-model=\"note.name\" required>\n\t\t\t</form>\n\t\t\t<ul class=\"notes\">\n\t\t\t\t<li v-for=\"note in notes\" :key=\"note.id\">\n\t\t\t\t\t<router-link :to=\"'/'+note.slug\">{{note.slug}}</router-link>\n\t\t\t\t</li>\n\t\t\t</ul>\n\n\t\t</div>\n\n\t</div>\n\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n\tname: 'dashboard',\n\tdata() {\n\t\treturn {\n\t\t\tnote:{\n\t\t\t\t\tname:''\n\t\t\t}\n\t\t}\n\t},\n\tcomputed:{\n\t\tnotes(){\n\t\t\treturn this.$store.state.notes\n\t\t}\n\t},\n\tmethods:{\n\n\t\tnewNote(){\n\t\t\tif(!this.note.name) return false;\n\t\t\tthis.$store.dispatch('startLoading');\n\t\t\tvar data = this.note;\n\t\t\taxios({\n\t\t\t\tmethod:'post',\n\t\t\t\turl: '/api/notes',\n\t\t\t\tdata:data,\n\t\t\t}).then((res) => {\n\t\t\t\tthis.$router.push({path:res.data.slug});\n\t\t\t\tthis.$store.dispatch('getNotesIndex');\n\t\t\t}).finally(()=>{\n\t\t\t\tthis.$store.dispatch('stopLoading');\n\t\t\t});\n\n\t\t}\n\n\n\n\t},\n\n\tmounted(){\n\t\tthis.$store.dispatch('getNotesIndex');\n\t},\n\n}\n\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dashboard.vue?vue&type=template&id=93e4cb9a&\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.note_id)?_c('div',{staticClass:\"container\",attrs:{\"data-note\":_vm.note_id}},[_c('button',{attrs:{\"onclick\":\"saveAll()\"}},[_vm._v(\"save\")]),_c('div',{staticClass:\"my-3\"},[_c('h1',[_vm._v(_vm._s(_vm.note.name))])]),_vm._m(0),(_vm.note.references)?_c('ul',{staticClass:\"references\"},_vm._l((_vm.references),function(block,index){return _c('li',{key:index},[_c('router-link',{attrs:{\"to\":'/'+block.note.slug}},[_vm._v(_vm._s(block.note.name))]),_c('p',[_vm._v(_vm._s(block.text))])],1)}),0):_vm._e()]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"blocks\"},[_c('div',{staticClass:\"vanilla\"},[_c('ul')])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{attrs:{\"data-level\":_vm.level}},_vm._l((_vm.levelBlocks),function(block){return _c('li',{key:block.id},[_c('div',{staticClass:\"block-content\"},[(_vm.editingBlockId !== null && _vm.editingBlockId == block.id)?_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(block.text),expression:\"block.text\"}],key:block.id,domProps:{\"value\":(block.text)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(block, \"text\", $event.target.value)},_vm.setLayerHeight],\"focus\":_vm.setLayerHeight,\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleEnter($event, block)}}}):_vm._e(),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.marked(block.text))},on:{\"click\":function($event){return _vm.editBlock(block.id)}}})]),_c('block-list',{attrs:{\"blocks\":_vm.blocks,\"level\":_vm.level + 1,\"parent_id\":block.id,\"note_id\":_vm.note_id}})],1)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<ul :data-level=\"level\">\n\t\t<li v-for=\"block in levelBlocks\" :key=\"block.id\">\n\t\t\t<div class=\"block-content\">\n\t\t\t\t<textarea\n\t\t\t\t\t:key=\"block.id\"\n\t\t\t\t\tv-if=\"editingBlockId !== null && editingBlockId == block.id\"\n\t\t\t\t\tv-model=\"block.text\"\n\t\t\t\t\t@input=\"setLayerHeight\"\n\t\t\t\t\t@focus=\"setLayerHeight\"\n\t\t\t\t\t@keydown.enter=\"handleEnter($event, block)\"\n\t\t\t\t></textarea>\n\t\t\t\t<p @click=\"editBlock(block.id)\" v-html=\"marked(block.text)\"></p>\n\t\t\t</div>\n\t\t\t<block-list\n\t\t\t\t:blocks=\"blocks\"\n\t\t\t\t:level=\"level + 1\"\n\t\t\t\t:parent_id=\"block.id\"\n\t\t\t\t:note_id=\"note_id\"\n\t\t\t/>\n\t\t</li>\n\t</ul>\n</template>\n<script>\nimport axios from \"axios\";\n\nexport default {\n\tname: \"BlockList\",\n\tcomponents: {},\n\tprops: [\"blocks\", \"level\", \"parent_id\", \"note_id\"],\n\tdata() {\n\t\treturn {};\n\t},\n\tcomputed: {\n\t\teditingBlockId() {\n\t\t\treturn this.$store.state.editingBlockId;\n\t\t},\n\t\tlevelBlocks() {\n\t\t\treturn this.blocks.filter(block => block.parent_id == this.parent_id);\n\t\t}\n\t},\n\tmethods: {\n\t\thandleEnter(e) {\n\t\t\tconsole.log(\"enter\");\n\t\t\tif (e.ctrlKey) {\n\t\t\t\tvar block = this.$store.getters.block;\n\t\t\t\tif (!block.text.match(/^\\[\\[(TODO|DONE)\\]\\]/)) {\n\t\t\t\t\tblock.text = \"[[TODO]] \" + block.text;\n\t\t\t\t} else if (block.text.match(/^\\[\\[TODO\\]\\]/)) {\n\t\t\t\t\tblock.text = block.text.replace(/^\\[\\[TODO\\]\\]/, \"[[DONE]]\");\n\t\t\t\t} else if (block.text.match(/^\\[\\[DONE\\]\\]/)) {\n\t\t\t\t\tblock.text = block.text.replace(/^\\[\\[DONE\\]\\] */, \"\");\n\t\t\t\t}\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!e.shiftKey) {\n\t\t\t\tthis.$store.dispatch(\"saveAndNew\");\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\teditBlock(block_id) {\n\t\t\tconsole.log(\"starteditblock\");\n\t\t\tthis.$store.dispatch(\"editBlock\", block_id);\n\t\t\t//this.$nextTick(function(){\n\t\t\t//    document.querySelector('textarea').focus()\n\t\t\t//})\n\t\t},\n\t},\n\tmounted() {}\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BlockList.vue?vue&type=template&id=14b0fc65&\"\nimport script from \"./BlockList.vue?vue&type=script&lang=js&\"\nexport * from \"./BlockList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div>\n\t\t<div class=\"container\" v-if=\"note_id\" :data-note=\"note_id\">\n\t\t\t<button onclick=\"saveAll()\">save</button>\n\t\t\t<div class=\"my-3\">\n\t\t\t\t<h1>{{ note.name }}</h1>\n\t\t\t</div>\n\t\t\t<div class=\"blocks\">\n\t\t\t\t<div class=\"vanilla\"><ul></ul></div>\n\t\t\t</div>\n\n\t\t\t<ul class=\"references\" v-if=\"note.references\">\n\t\t\t\t<li v-for=\"(block,index) in references\" :key=\"index\">\n\t\t\t\t\t<router-link :to=\"'/'+block.note.slug\">{{block.note.name}}</router-link>\n\t\t\t\t\t<p>{{block.text}}</p>\n\t\t\t\t</li>\n\t\t\t</ul>\n\n\n\n\t\t</div>\n\t</div>\n</template>\n<script>\nimport axios from \"axios\";\nimport BlockList from \"@/components/BlockList\";\n\nexport default {\n\tname: \"note\",\n\tcomponents: {\n\t\tBlockList\n\t},\n\n\tprops: [\"slug\"],\n\tdata() {\n\t\treturn {\n\t\t\tnote_id:null,\n\t\t};\n\t},\n\tcomputed: {\n\t\tnotes() {\n\t\t\treturn this.$store.getters.notes;\n\t\t},\n\t\tnote() {\n\t\t\treturn this.$store.state.note;\n\t\t},\n\t\treferences(){\n\t\t\tif(!this.notes || !this.note.references) return false;\n\t\t\tvar blocks = this.note.references;\n\n\t\t\treturn blocks.map(block=>{\n\t\t\t\tblock.note = this.notes[block.note_id];\n\t\t\t\treturn block;\n\t\t\t})\n\n\t\t}\n\t},\n\tmethods: {\n\n\t\taddHistory(){ window.addHistory() },\n\t\trevertHistory(){ window.revertHistory() },\n\t},\n\tmounted() {\n\n\t\tif(!this.notes){\n\t\t\tthis.$store.dispatch('getNotesIndex');\n\t\t}\n\n\t\tthis.$store.dispatch(\"getNote\", this.slug).then(res => {\n\t\t\tthis.note_id = res.data.id;\n\t\t\tthis.$nextTick(()=>{\n\t\t\t\thydrate(res.data.id, res.data.blocks);\n\t\t\t\tif(res.data.blocks.length==0){\n\t\t\t\t\twindow.newBlock(res.data.id);\n\t\t\t\t}\n\t\t\t})\n\t\t});\n\t},\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Note.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Note.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Note.vue?vue&type=template&id=1ad4d231&scoped=true&\"\nimport script from \"./Note.vue?vue&type=script&lang=js&\"\nexport * from \"./Note.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ad4d231\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"my-3\"},[_c('h1',[_vm._v(_vm._s(_vm.project.name))]),_c('p',{staticClass:\"text-muted\"},[_c('a',{attrs:{\"href\":_vm.url(_vm.project.slug),\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.url(_vm.project.slug)))])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('dl',[_c('dt',[_vm._v(\"Domain\")]),_c('dd',[_c('span',[_vm._v(_vm._s(_vm.project.domain || '(not set)'))]),_c('button',{staticClass:\"btn ml-1  btn-sm btn-light\",on:{\"click\":_vm.openModalDomain}},[_vm._v(\"Configure\")])])])]),(_vm.project.domain)?_c('div',{staticClass:\"col\"},[_c('dl',[_c('dt',[_vm._v(\"State\")]),_c('dd',[(_vm.project.is_published)?_c('span',[_c('a',{on:{\"click\":function($event){$event.preventDefault();return _vm.openModalUnpublish($event)}}},[_c('i',{staticClass:\"state-published\"}),_vm._v(\" Published \")])]):_vm._e(),(!_vm.project.is_published)?_c('span',[_c('a',{on:{\"click\":function($event){$event.preventDefault();return _vm.openModalPublish($event)}}},[_c('i',{staticClass:\"state-unpublished\"}),_vm._v(\" Unpublished \")])]):_vm._e()])])]):_vm._e()]),_c('router-link',{staticClass:\"btn btn-light btn-sm\",attrs:{\"to\":'/project/'+_vm.project.id+'/edit'}},[_vm._v(\"Edit project\")]),_c('router-link',{staticClass:\"btn btn-light btn-sm\",attrs:{\"to\":{name:'project-tables',params:{project_id:_vm.project.id}}}},[_vm._v(\"Admin\")]),(_vm.project.domain)?_c('router-link',{staticClass:\"btn btn-light btn-sm\",attrs:{\"to\":{name:'form-history',params:{project_id:_vm.project.id}}}},[_vm._v(\"Form history\")]):_vm._e(),(_vm.project.tables && _vm.project.tables.length>0)?_c('p',{staticClass:\"text-muted\"},[_c('a',{attrs:{\"href\":_vm.urladmin(),\"target\":\"_blank\"}},[_vm._v(\"Painel Admin\")])]):_vm._e()],1),_c('h3',[_vm._v(\"Pages\")]),_c('table',{staticClass:\"table\"},[_c('tbody',_vm._l((_vm.project.pages),function(page){return _c('tr',[_c('td',[_vm._v(_vm._s(page.name))]),_c('td',{staticClass:\"text-nowrap\"},[_vm._v(\" \"+_vm._s(page.slug)+\" \"),_c('a',{staticClass:\"ml-2\",attrs:{\"href\":_vm.url(_vm.project.slug,page.slug),\"target\":\"_blank\"}},[_c('svg',{staticClass:\"icosvg\",attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z\"}})])])]),_c('td',{staticClass:\"text-right text-nowrap\"},[_c('router-link',{staticClass:\"btn btn-sm btn-primary mr-2\",attrs:{\"to\":'/project/'+_vm.project.id+'/'+page.id}},[_c('span',{staticClass:\"is-desktop\"},[(!page.output)?_c('span',[_vm._v(\"start building page\")]):_c('span',[_vm._v(\"edit page\")])]),_c('svg',{staticClass:\"is-mobile icosvg\",attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z\"}})])]),_c('button',{staticClass:\"btn btn-sm btn-link has-text-danger\",on:{\"click\":function($event){return _vm.removePage(page)}}},[_c('svg',{staticClass:\"icosvg\",attrs:{\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z\"}})])])],1)])}),0)]),_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.newPage}},[_vm._v(\"New page\")]),(_vm.isAdmin)?_c('button',{staticClass:\"btn btn-warning\",on:{\"click\":_vm.openModalSaveTemplate}},[_vm._v(\"save as template\")]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n<div>\n\n\n\n  <div class=\"container\">\n\n      <div class=\"my-3\">\n        <h1>{{project.name}}</h1>\n        <p class=\"text-muted\"><a :href=\"url(project.slug)\" target=\"_blank\">{{url(project.slug)}}</a></p>\n\n\n        <div class=\"row\">\n          <div class=\"col\">\n            <dl>\n              <dt>Domain</dt>\n              <dd>\n                <span>{{ project.domain || '(not set)'}}</span>\n                <button class=\"btn ml-1  btn-sm btn-light\" @click=\"openModalDomain\">Configure</button>\n              </dd>\n            </dl>\n          </div>\n          <div class=\"col\" v-if=\"project.domain\">\n            <dl>\n              <dt>State</dt>\n              <dd>\n                <span v-if=\"project.is_published\">\n                  <a @click.prevent=\"openModalUnpublish\">\n                    <i class=\"state-published\"></i>\n                    Published\n                  </a>\n                </span>\n                <span v-if=\"!project.is_published\">\n                  <a @click.prevent=\"openModalPublish\">\n                    <i class=\"state-unpublished\"></i>\n                    Unpublished\n                  </a>\n                </span>\n              </dd>\n            </dl>\n          </div>\n        </div>\n\n        <router-link class=\"btn btn-light btn-sm\" :to=\"'/project/'+project.id+'/edit'\">Edit project</router-link>\n        <router-link class=\"btn btn-light btn-sm\" :to=\"{name:'project-tables',params:{project_id:project.id}}\">Admin</router-link>\n        <router-link v-if=\"project.domain\" class=\"btn btn-light btn-sm\" :to=\"{name:'form-history',params:{project_id:project.id}}\">Form history</router-link>\n\n        <p v-if=\"project.tables && project.tables.length>0\" class=\"text-muted\"><a :href=\"urladmin()\" target=\"_blank\">Painel Admin</a></p>\n\n      </div>\n\n      <h3>Pages</h3>\n      <table class=\"table\">\n        <tbody>\n          <tr v-for=\"page in project.pages\">\n            <td>{{ page.name }}</td>\n            <td class=\"text-nowrap\">\n              {{ page.slug }}\n              <a class=\"ml-2\" :href=\"url(project.slug,page.slug)\" target=\"_blank\">\n                <svg class=\"icosvg\" viewBox=\"0 0 24 24\">\n                  <path fill=\"currentColor\" d=\"M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z\" />\n                </svg>\n              </a>\n            </td>\n            <td class=\"text-right text-nowrap\">\n              <router-link class=\"btn btn-sm btn-primary mr-2\" :to=\"'/project/'+project.id+'/'+page.id\">\n                <span class=\"is-desktop\"><span v-if=\"!page.output\">start building page</span><span v-else>edit page</span></span>\n                <svg class=\"is-mobile icosvg\" viewBox=\"0 0 24 24\">\n                    <path fill=\"currentColor\" d=\"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z\" />\n                </svg>\n              </router-link>\n              <button class=\"btn btn-sm btn-link has-text-danger\" @click=\"removePage(page)\"><svg class=\"icosvg\" viewBox=\"0 0 24 24\">\n                <path fill=\"currentColor\" d=\"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z\" />\n              </svg></button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <button class=\"btn btn-primary\" @click=\"newPage\">New page</button>\n\n\n\n      <button v-if=\"isAdmin\" class=\"btn btn-warning\" @click=\"openModalSaveTemplate\">save as template</button>\n\n   </div>\n\n\n\n\n\n</div>\n\n</template>\n<script>\n\nimport axios from 'axios';\n\n\nexport default {\n  name: 'project',\n  components:{\n\n  },\n  // prop:['id'],\n  props:['id'],\n  data() {\n    return {\n        modalDomain:false,\n        modalTemplate:false,\n        modalPublish:false,\n        modalUnpublish:false,\n\n    }\n  },\n  computed:{\n    project(){\n      return this.$store.getters.project;\n    },\n    isAdmin(){\n      return this.$store.getters.user.is_admin;\n    },\n  },\n  methods:{\n    openModalSaveTemplate(){\n      this.modalTemplate = true;\n    },\n    openModalDomain(){\n      this.modalDomain = true;\n    },\n    openModalUnpublish(){\n      this.modalUnpublish = true;\n      },\n    openModalPublish(){\n      this.modalPublish = true;\n    },\n    url(slug,page){\n      var url = process.env.VUE_APP_PROTOCOL+'://'+slug+'.'+process.env.VUE_APP_BASEURL;\n      if(page) url += '/'+page.replace(/\\/$/,'')\n      return url;\n    },\n    urladmin(){\n      var domain = this.project.domain;\n      if(domain){\n        var url = 'https://'+domain;\n      } else {\n        var url = process.env.VUE_APP_PROTOCOL+'://'+this.project.slug+'.'+process.env.VUE_APP_BASEURL;\n      }\n\n      url += '/admin?token='+this.project.token;\n      return url;\n    },\n    dataBr(data){\n      var d = new Date(data);\n      return ('0'+d.getDate()).substr(-2) + '/' +('0'+(d.getMonth()+1)).substr(-2)+'/'+d.getFullYear();\n    },\n\n    getProject(){\n      this.$store.dispatch('startLoading');\n      this.$store.dispatch('getProject',this.id).catch(res=>{\n        toastr('No permisson to view this project','Error','#cc0000');\n        this.$router.replace('/');\n      }).finally(()=>{\n        this.$store.dispatch('stopLoading');\n      })\n    },\n\n    newPage(){\n      let name = prompt('Page name');\n      if(!name) return;\n\n      axios({\n        method: 'post',\n        url: '/api/pages',\n        data: {\n          name:name,\n          project_id:this.id,\n        }\n      }).then((res) => {\n        this.$router.push('/project/'+this.id+'/'+res.data.id);\n//      let project = res.data;\n//      this.editProject(project.id);\n      });\n\n    },\n    removePage(page){\n      if(!confirm('Remove page?')) return;\n      axios({\n        method: 'delete',\n        url: '/api/page/'+page.id,\n      }).then((res) => {\n        this.getProject();\n        //router push /project/'+project.id+'/'+page.id\n//        let project = res.data;\n//        this.editProject(project.id);\n      });\n\n    },\n\n  },\n  mounted(){\n  \tconsole.log('id',this.id);\n    this.getProject();\n  }\n\n}\n\n\n\n</script>\n\n<style scoped>\n\n\n\n\n\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Block.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Block.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Block.vue?vue&type=template&id=fc4871f8&scoped=true&\"\nimport script from \"./Block.vue?vue&type=script&lang=js&\"\nexport * from \"./Block.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fc4871f8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h1',{staticClass:\"mt-5 mb-3 text-center\"},[_vm._v(\"Bullet Text\")]),(_vm.error)?_c('div',{staticClass:\"alert alert-danger\"},[_vm._v(_vm._s(_vm.error))]):_vm._e(),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-6\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_vm._v(\"Login\")]),_c('div',{staticClass:\"card-body\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmitLogin($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.login.email),expression:\"login.email\"}],staticClass:\"form-control\",attrs:{\"type\":\"email\",\"placeholder\":\"E-mail\",\"required\":\"\"},domProps:{\"value\":(_vm.login.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.login, \"email\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.login.password),expression:\"login.password\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"placeholder\":\"Password\",\"required\":\"\"},domProps:{\"value\":(_vm.login.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.login, \"password\", $event.target.value)}}}),_c('small',{staticClass:\"form-text text-muted text-right\"},[_c('router-link',{attrs:{\"to\":\"forgot\"}},[_vm._v(\"forgot password\")])],1)]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Login\")])])])])]),_c('div',{staticClass:\"col-lg-6\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_vm._v(\"Register\")]),_c('div',{staticClass:\"card-body\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmitRegister($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.register.name),expression:\"register.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Name\",\"required\":\"\"},domProps:{\"value\":(_vm.register.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.register, \"name\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.register.email),expression:\"register.email\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"E-mail\",\"required\":\"\"},domProps:{\"value\":(_vm.register.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.register, \"email\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.register.password),expression:\"register.password\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"placeholder\":\"Password\",\"required\":\"\"},domProps:{\"value\":(_vm.register.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.register, \"password\", $event.target.value)}}})]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Register\")])])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n  <div class=\"container\">\n\n    <h1 class=\"mt-5 mb-3 text-center\">Bullet Text</h1>\n\n    <div v-if=\"error\" class=\"alert alert-danger\">{{ error }}</div>\n\n\n\n    <div class=\"row\">\n      <div class=\"col-lg-6\">\n\n        <div class=\"card\">\n          <div class=\"card-header\">Login</div>\n          <div class=\"card-body\">\n            <form @submit.prevent=\"onSubmitLogin\">\n              <div class=\"form-group\">\n                <input type=\"email\" placeholder=\"E-mail\" class=\"form-control\" v-model=\"login.email\" required>\n              </div>\n              <div class=\"form-group\">\n                <input type=\"password\" placeholder=\"Password\" class=\"form-control\" v-model=\"login.password\" required>\n                <small class=\"form-text text-muted text-right\"><router-link to=\"forgot\">forgot password</router-link></small>\n              </div>\n              <button class=\"btn btn-primary\" type=\"submit\">Login</button>\n            </form>\n          </div>\n\n\n        </div>\n\n\n      </div>\n      <div class=\"col-lg-6\">\n        <div class=\"card\">\n          <div class=\"card-header\">Register</div>\n          <div class=\"card-body\">\n            <form @submit.prevent=\"onSubmitRegister\">\n              <div class=\"form-group\">\n                <input type=\"text\" placeholder=\"Name\" v-model=\"register.name\" class=\"form-control\" required>\n              </div>\n              <div class=\"form-group\">\n                <input type=\"text\" placeholder=\"E-mail\" v-model=\"register.email\" class=\"form-control\" required>\n              </div>\n              <div class=\"form-group\">\n                <input type=\"password\" placeholder=\"Password\" v-model=\"register.password\" class=\"form-control\" required>\n              </div>\n              <button class=\"btn btn-primary\" type=\"submit\">Register</button>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n\n\n</template>\n<style scoped>\n\n\n\n</style>\n\n<script>\n\n  import axios from 'axios';\n\n  export default {\n  // props:['id','page_id'],\n  data() {\n    return {\n      error:'',\n      login:{\n        email:'',\n        password:'',\n      },\n      register:{\n        name:'',\n        email:'',\n        password:'',\n      }\n    }\n  },\n\n  methods:{\n\n    onSubmitLogin(){\n      this.error = '';\n      axios({\n        method: 'post',\n        url: '/api/login',\n        data: this.login\n      }).then((res)=>{\n        this.$store.dispatch('setUser',res.data)\n        let intendedUrl = this.$store.state.intendedUrl;\n        if(intendedUrl=='/login' || !intendedUrl) intendedUrl = '/';\n        this.$router.push({path:intendedUrl})\n\n      }).catch((error)=>{\n        this.error = error.response.data;\n      });\n\n    },\n\n    onSubmitRegister(){\n      this.error = '';\n      axios({\n        method: 'post',\n        url: '/api/register',\n        data: this.register\n      }).then((res)=>{\n        this.$store.dispatch('setUser',res.data)\n\n        let intendedUrl = this.$store.state.intendedUrl;\n        if(intendedUrl=='/login' || !intendedUrl) intendedUrl = '/';\n        this.$router.push({path:intendedUrl})\n\n      }).catch((error)=>{\n        this.error = error.response.data;\n      });\n\n    },\n\n  },\n  mounted(){\n  }\n\n}\n\n\n\n</script>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=2650618a&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2650618a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h1',{staticClass:\"mt-5 mb-3 text-center\"},[_vm._v(\"Bullet Text\")]),(_vm.error)?_c('div',{staticClass:\"alert alert-danger\"},[_vm._v(_vm._s(_vm.error))]):_vm._e(),_c('div',{staticClass:\"w-50 mx-auto\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_vm._v(\"Password recovery\")]),_c('div',{staticClass:\"card-body\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"E-mail\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.login.email),expression:\"login.email\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"required\":\"\"},domProps:{\"value\":(_vm.login.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.login, \"email\", $event.target.value)}}})]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Recover\")])])])]),_c('p',{staticClass:\"text-center mt-3\"},[_c('router-link',{attrs:{\"to\":\"login\"}},[_vm._v(\"Back to login\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n  <div class=\"container\">\n\n<h1 class=\"mt-5 mb-3 text-center\">Bullet Text</h1>\n\n<div v-if=\"error\" class=\"alert alert-danger\">{{ error }}</div>\n\n<div class=\"w-50 mx-auto\">\n<div class=\"card\">\n  <div class=\"card-header\">Password recovery</div>\n  <div class=\"card-body\">\n\n        <form @submit.prevent=\"onSubmit\">\n            <div class=\"form-group\">\n              <label>E-mail</label>\n              <input type=\"text\" class=\"form-control\" v-model=\"login.email\" required>\n            </div>\n          <button type=\"submit\" class=\"btn btn-primary\">Recover</button>\n        </form>\n\n\n  </div>\n  </div>\n  <p class=\"text-center mt-3\">\n        <router-link to=\"login\">Back to login</router-link>\n        </p>\n\n  </div>\n  </div>\n\n\n</template>\n<style scoped>\n\n\n</style>\n\n<script>\n\nimport axios from 'axios';\n\nexport default {\n  // props:['id','page_id'],\n  data() {\n    return {\n      error:'',\n      login:{\n        email:'',\n      },\n    }\n  },\n\n  methods:{\n\n    onSubmit(){\n      this.error = '';\n      axios({\n        method: 'post',\n        url: '/api/forgot',\n        data: this.login\n      }).then((res)=>{\n          alert('mensagem enviada');\n      }).catch((error)=>{\n          this.error = error.response.data;\n      });\n\n    },\n  },\n  mounted(){\n  }\n\n}\n\n\n\n</script>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Forgot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Forgot.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Forgot.vue?vue&type=template&id=6e1ae4d9&scoped=true&\"\nimport script from \"./Forgot.vue?vue&type=script&lang=js&\"\nexport * from \"./Forgot.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6e1ae4d9\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h1',{staticClass:\"mt-5 mb-3 text-center\"},[_vm._v(\"Bullet Text\")]),(_vm.error)?_c('div',{staticClass:\"alert alert-danger\"},[_vm._v(_vm._s(_vm.error))]):_vm._e(),_c('div',{staticClass:\"w-50 mx-auto\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_vm._v(\"Set a new password\")]),_c('div',{staticClass:\"card-body\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"E-mail\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.login.email),expression:\"login.email\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"readonly\":\"\"},domProps:{\"value\":(_vm.login.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.login, \"email\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"New password\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.login.password),expression:\"login.password\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\"},domProps:{\"value\":(_vm.login.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.login, \"password\", $event.target.value)}}})]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Save\")])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n  <div class=\"container\">\n\n<h1 class=\"mt-5 mb-3 text-center\">Bullet Text</h1>\n\n<div v-if=\"error\" class=\"alert alert-danger\">{{ error }}</div>\n\n<div class=\"w-50 mx-auto\">\n<div class=\"card\">\n  <div class=\"card-header\">Set a new password</div>\n  <div class=\"card-body\">\n\n        <form @submit.prevent=\"onSubmit\">\n            <div class=\"form-group\">\n              <label>E-mail</label>\n              <input type=\"text\" class=\"form-control\" v-model=\"login.email\" readonly>\n             </div>\n            <div class=\"form-group\">\n              <label>New password</label>\n              <input type=\"password\" class=\"form-control\" v-model=\"login.password\">\n             </div>\n            <!-- <p><label>token:</label><input type=\"text\" v-model=\"login.token\"></p> -->\n        <button type=\"submit\" class=\"btn btn-primary\">Save</button>\n        </form>\n\n  </div>\n  </div>\n  </div>\n  </div>\n\n\n</template>\n<style scoped>\n\n\n</style>\n\n<script>\n\nimport axios from 'axios';\n\nexport default {\n  // props:['id','page_id'],\n  data() {\n    return {\n      error:'',\n      login:{\n        email:'',\n        password:'',\n        token:'',\n      },\n    }\n  },\n\n  methods:{\n\n    onSubmit(){\n      this.error = '';\n      axios({\n        method: 'post',\n        url: '/api/new-password',\n        data: this.login\n      }).then((res)=>{\n          alert('New password successfully set');\n          this.$router.push('login')\n      }).catch((error)=>{\n          this.error = error.response.data;\n      });\n\n    },\n\n  },\n  mounted(){\n      var query = window.location.search.replace(/^\\?/,'');\n      var queryArr = query.split('&');\n      var obj = {};\n      for(var i in queryArr){\n          var parts = queryArr[i].split('=');\n          obj[parts[0]] = parts[1];\n      }\n\n      this.login.email = decodeURIComponent(obj.email)\n      this.login.token = decodeURIComponent(obj.token)\n  }\n\n}\n\n\n\n</script>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewPassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewPassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewPassword.vue?vue&type=template&id=52fcf5f6&scoped=true&\"\nimport script from \"./NewPassword.vue?vue&type=script&lang=js&\"\nexport * from \"./NewPassword.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52fcf5f6\",\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable no-console */\n\nimport Vue from 'vue'\nimport Router from 'vue-router'\nimport axios from 'axios';\nimport store from '@/store';\n\nimport Dashboard from './views/Dashboard.vue'\nimport Note from './views/Note.vue'\nimport Block from './views/Block.vue'\n\nimport Login from './views/Login.vue'\nimport Forgot from './views/Forgot.vue'\nimport NewPassword from './views/NewPassword.vue'\n\n//import store from './store'\n\nVue.use(Router)\n\nconst router = new Router({\n\tmode:'history',\n\troutes: [\n\t\t{ path: '/', name: 'dashboard', component: Dashboard, meta: {restricted:true}, },\n\n\t\t{ path: '/login', name: 'login', component: Login, props: true, meta: {restricted:false}, },\n\t\t{ path: '/forgot', name: 'forgot', component: Forgot, props: true, meta: {restricted:false}, },\n\t\t{ path: '/new-password', name: 'new-password', component: NewPassword, props: true, meta: {restricted:false}, },\n\n\t\t{ path: '/:slug', name: 'note', component: Note, props: true, meta: {restricted:true}, },\n\t\t{ path: '/:slug/:id', name: 'block', component: Block, props: true, meta: {restricted:true}, },\n\n\t]\n})\n\n\nrouter.beforeEach((to, from, next) => {\n/*  window.scrollTo(0,0); */\n\n\tconsole.log('route beforeeach to: ',to.path);\n\n\tif(edited && $('[data-note]')){\n\t\tsaveAll();\n\t}\n\n\tif(to.path=='/logout'){\n\n\t\taxios({\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/logout',\n\t\t}).then((res)=>{\n\t\t\tstore.dispatch('setUser',{})\n\t\t}).catch((error)=>{\n\t\t\tconsole.log('error',error);\n\t\t});\n\n\t\treturn next('/login');\n\t}\n\n\tif(!store.getters.isAuthenticated && to.meta.restricted){\n\t\tstore.dispatch('setIntendedUrl',to.path);\n\t\treturn next('/login');\n\t}\n\n\tnext();\n\n});\n\nexport default router\n","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from 'axios';\nimport router from '@/router';\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n\tstate: {\n\t\tuser: {\n\t\t\tid:null,\n\t\t\temail:'',\n\t\t\tis_admin:false,\n\t\t},\n\t\tauthInitialized:false,\n\t\tintendedUrl:'',\n\t\tnotes:[],\n\t\tnote:{},\n\t\tblocks:[],\n\t\tloading: 0,\n\t\tloadingMessage: '',\n\t},\n\tmutations: {\n\t\tstartLoading(state) {\n\t\t\tstate.loading += 1;\n\t\t},\n\t\tstopLoading(state) {\n\t\t\tif(state.loading>0) state.loading -= 1;\n\t\t},\n\t\tsetLoadingMessage(state, payload) {\n\t\t\tstate.loadingMessage = payload;\n\t\t},\n\t\tsetIntendedUrl (state,payload) {\n\t\t\tstate.intendedUrl = payload;\n\t\t},\n\t\tauthInitialized (state) {\n\t\t\tstate.authInitialized = true;\n\t\t},\n\t\tsetUser (state,payload) {\n\t\t\t\tstate.user = payload;\n\t\t},\n\t\tsetNotes (state,payload) {\n\t\t\tstate.notes = payload;\n\t\t},\n\t},\n\tactions: {\n\t\tstartLoading({commit}){\n\t\t\tcommit('startLoading')\n\t\t},\n\t\tstopLoading({commit}){\n\t\t\tcommit('stopLoading')\n\t\t\tif(this.state.loading==0 && this.state.loadingMessage) {\n\t\t\t\tcommit('setLoadingMessage','');\n\t\t\t}\n\t\t},\n\t\tsetLoadingMessage({commit},{message}){\n\t\t\tcommit('setLoadingMessage',message)\n\t\t},\n\t\tsetUser ({commit},user) {\n\t\t\tcommit('setUser',user)\n\t\t},\n\t\tsetIntendedUrl ({commit},url) {\n\t\t\tcommit('setIntendedUrl',url)\n\t\t},\n\t\tauthInitialized ({commit},bool) {\n\t\t\tcommit('authInitialized',bool)\n\t\t},\n\t\tgetNotesIndex({commit}){\n\t\t\tconsole.log('getNotesIndex')\n\t\t\tthis.dispatch('startLoading');\n\t\t\taxios({\n\t\t\t\turl: '/api/notes',\n\t\t\t}).then((res) => {\n\t\t\t\tcommit('setNotes',res.data)\n\t\t\t}).finally(()=>{\n\t\t\t\tthis.dispatch('stopLoading');\n\t\t\t});\n\t\t},\n\t\tgetNote({state},slug){\n\n\t\t\tthis.dispatch('startLoading');\n\t\t\treturn axios({\n\t\t\t\t\turl: '/api/notes/'+slug,\n\t\t\t}).then(res=>{\n\t\t\t\t\tstate.note = res.data;\n\t\t\t\t\tstate.blocks = res.data.blocks;\n\t\t\t\t\treturn res;\n\n\t\t\t}).catch(res=>{\n\t\t\t\t\ttoastr('No permisson to view this project','Error','#cc0000');\n\t\t\t\t\tthis.$router.replace('/');\n\t\t\t}).finally(()=>{\n\t\t\t\t\tthis.dispatch('stopLoading');\n\t\t\t})\n\n\n\t\t},\n\n\t},\n\n\n\n\tgetters: {\n\t\tisAuthenticated:(state) => state.authInitialized && state.user &&  state.user.id,\n\n\t\tblocks:(state,getters) => {\n\t\t\t\treturn getters.sort(state.blocks);\n\t\t},\n\t\tnotes:(state) => {\n\t\t\tif(state.notes.length==0) return false;\n\t\t\tvar dict = {};\n\t\t\tstate.notes.forEach(note=>{\n\t\t\t\tdict[note.id] = note;\n\t\t\t});\n\t\t\treturn dict;\n\t\t},\n\t\tblock:(state) => {\n\t\t\t\tif(state.editingBlockId===null) return null;\n\t\t\t\treturn state.blocks.find(i=>i.id==state.editingBlockId);\n\t\t}\n\t}\n})\n","import axios from \"axios\";\nimport store from '@/store';\n//import router from '@/router';\n\nvar note_id;\nvar history = [];\nvar selectedBlock = null;\n\nwindow.$$ = window.$$ || function(selector, context) {\n\tcontext = context || document;\n\tvar elements = context.querySelectorAll(selector);\n\treturn Array.prototype.slice.call(elements);\n}\nwindow.$ = window.$ || function(selector, context) {\n\tcontext = context || document;\n\treturn context.querySelector(selector);\n}\n\nwindow.addHistory = function(data){\n\tif(!data) return;\n\n\tif(history.length && JSON.stringify(data) == JSON.stringify(history[history.length-1])) return; //same\n\thistory.push(data);\n\tconsole.log('history added',data);\n\n\tif(history.length>10) {\n\t\thistory.shift();\n\t}\n\n}\n\nwindow.revertHistory = function(){\n\tvar data = history.pop();\n\tconsole.log('history data',data);\n\tif(!data) return;\n\thydrate(window.note_id,data);\n}\n\n\nwindow.getData = function(){\n\n\n\tvar textarea = $('textarea');\n\tif(textarea){\n\t\tvar p = textarea.nextSibling;\n\t\tif(p && p.tagName=='P') p.innerHTML = marked(textarea.value);\n\t}\n\n\tvar data = $$('[data-block]').map(block=>{\n\t\tvar parent = block.parentNode.closest('[data-block]');\n\t\tvar parent_id = null;\n\t\tif(parent){\n\t\t\tparent_id = parent.getAttribute('data-block');\n\t\t\tif(!parent_id) parent_id = parent.getAttribute('data-temp-id');\n\t\t}\n\t\treturn {\n\t\t\tid:block.getAttribute('data-block'),\n\t\t\tparent_id:parent_id,\n\t\t\torder:getBlockOrder(block),\n\t\t\ttemp_id:block.getAttribute('data-temp-id'),\n\t\t\ttext:unmarked($('p',block).innerHTML),\n\t\t}\n\t});\n\n\treturn data;\n\n}\n\ndocument.addEventListener('click',function(e){\n\n\tif(e.target.matches('textarea')) {\n\t\tconsole.log('textarea clicked');\n\t\tconsole.log(e);\n\t\te.stopPropagation();\n\t} else {\n\t\tvar blockDom = e.target.closest('[data-block]');\n\t\tif(!blockDom) return;\n\n\t\tclickedBlock(blockDom,e)\n\t}\n})\n\n\nwindow.getTempId = function(){\n\tif(!window.tempId) window.tempId = new Date().getTime();\n\treturn 'temp-'+(window.tempId++);\n}\n\n\nwindow.newBlock = function(note_id){\n\tvar li = document.createElement('li');\n\tli.setAttribute('data-block','');\n\tli.setAttribute('data-temp-id',getTempId());\n\tvar p = document.createElement('p');\n\tli.appendChild(p);\n\tvar container = $(`[data-note=\"${note_id}\"] .vanilla`);\n\tvar parent =  $('ul',container);\n\tif(!parent) {\n\t\tvar parent = document.createElement('ul');\n\t\tcontainer.appendChild(parent);\n\t}\n\tparent.appendChild(li);\n\teditBlock(li);\n}\n\nwindow.clickedBlock = function(block,e){\n\n\tvar x = e.clientX - e.target.getBoundingClientRect().x;\n\tvar y = e.clientY - e.target.getBoundingClientRect().y;\n\n\tvar clickPos = window.getSelection().getRangeAt(0).endOffset;\n\teditBlock(block);\n\n\tconsole.log('clickPos',clickPos);\n\n\tvar textareaDom = $('textarea');\n\ttextareaDom.focus();\n\ttextareaDom.selectionStart = clickPos;\n\ttextareaDom.selectionEnd = clickPos;\n\n}\n\nwindow.editBlock = function(block){\n\tconsole.log('editBlock');\n\n\tselectedBlock = block;\n\n\tvar p = block.querySelector('p');\n\tvar prev = p.previousSibling;\n\tif(prev && prev.tagName=='TEXTAREA') return prev.focus();\n\n\tremoveTextareas()\n\n\tvar textareaDom = document.createElement('textarea');\n\ttextareaDom.value = unmarked(p.innerHTML);\n\tblock.insertBefore(textareaDom,p);\n\ttextareaDom.focus();\n\tsetInputHeight(textareaDom);\n\n}\n\nwindow.updateBlocksRefs = function(data){\n\n\tfor(var temp_id in data){\n\t\tvar block_id = data[temp_id]\n\t\tvar block = document.querySelector(`[data-temp-id=\"${temp_id}\"]`);\n\t\tif(!block) continue;\n\t\tblock.removeAttribute('data-temp-id');\n\t\tblock.setAttribute('data-block',block_id);\n\t}\n\n}\n\nwindow.saveAll = function(){\n\n\tconsole.log('saving');\n\n\tvar note_id = $('[data-note]').getAttribute('data-note');\n\n\tvar data = getData();\n\taddHistory(data);\n\n\taxios({\n\t\t\tmethod:'post',\n\t\t\turl:'/api/notes/save-blocks/'+note_id,\n\t\t\tdata:data,\n\t}).then(res=>{\n\t\t\tupdateBlocksRefs(res.data);\n\t}).catch(res=>{\n\t\t\tconsole.error('save error');\n\t\t\tconsole.error(res);\n\t});\n}\n\nwindow.getBlockOrder = function(block){\n\tvar blocks = $$('[data-block]');\n\treturn blocks.indexOf(block)+1;\n}\n\nwindow.getPrevBlock = function(block){\n\tif(!block) block = $('textarea').closest('[data-block]');\n\tvar blocks = $$('[data-block]');\n\tvar index = blocks.indexOf(block)\n\tif(index==0) return;\n\treturn blocks[index-1];\n}\n\nwindow.selectPrev = function(){\n\tvar block = getPrevBlock(block);\n\tif(!block) return;\n\tvar pos = getCarretPosition();\n\teditBlock(block);\n\tvar textareaDom = $('textarea');\n\tvar selectionStart = getSelectionEnd(textareaDom,pos.x);\n\ttextareaDom.selectionStart = selectionStart;\n\ttextareaDom.selectionEnd = selectionStart;\n}\n\nwindow.getNextBlock = function(block){\n\tif(!block) block = $('textarea').closest('[data-block]');\n\tvar blocks = $$('[data-block]');\n\tvar index = blocks.indexOf(block)\n\tif(index==blocks.length-1) return;\n\treturn blocks[index+1];\n}\n\nwindow.selectNext = function(block){\n\tvar block = getNextBlock(block);\n\tif(!block) return;\n\tvar pos = getCarretPosition();\n\teditBlock(block);\n\tvar textareaDom = $('textarea');\n\tvar selectionStart = getSelectionStart(textareaDom,pos.x);\n\ttextareaDom.selectionStart = selectionStart;\n\ttextareaDom.selectionEnd = selectionStart;\n}\n\nwindow.hydrate = function(note_id,data){\n\twindow.note_id = note_id;\n\t$(`[data-note=\"${note_id}\"] .vanilla`).innerHTML = build_html(data);\n}\n\nwindow.build_html = function(data,parent_id,level) {\n\tparent_id = parent_id || null;\n\tlevel = level || 0;\n\tvar output_html = ''\n\tdata.forEach(block=>{\n\t\tif(block.parent_id==parent_id){\n\t\t\toutput_html += `<li data-block=\"${block.id}\">`;\n\t\t\toutput_html += `<p>${marked(block.text)}</p>`;\n\t\t\toutput_html += build_html(data,block.id,level+1);\n\t\t\toutput_html += `</li>`;\n\t\t}\n\t})\n\tif(!output_html) return '';\n\treturn `<ul>${output_html}</ul>`;\n}\n\nwindow.saferEval = function(expression, dataContext) {\n\ttry{\n\t\treturn (new Function(['$data'], `var result; with($data) { result = ${expression} }; return result`))(dataContext)\n\t} catch(e){\n\t\tconsole.log('Safer eval error: '+e)\n\t\treturn;\n\t}\n}\n\nwindow.toastr = function(body,title,color,seconds){\n\n\ttitle = title || '';\n\tcolor = color || '#007aff'\n\tseconds = seconds || (2 + body.length/50);\n\n\tvar div = document.createElement('div');\n\tdiv.className = 'toast show';\n\tdiv.setAttribute('style','min-width:200px; position: fixed; bottom: 10px; right: 10px;');\n\tdiv.innerHTML = `\n\t<div class=\"toast-header\">\n\t<svg class=\"bd-placeholder-img rounded mr-2\" width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\" preserveAspectRatio=\"xMidYMid slice\" focusable=\"false\" role=\"img\"><rect width=\"100%\" height=\"100%\" fill=\"${color}\"></rect></svg>\n\t<strong>${title}</strong>\n\t</div>\n\t<div class=\"toast-body\">\n\t${body}\n\t</div>`;\n\tdocument.body.appendChild(div);\n\n\tsetTimeout(()=>{\n\t\tdocument.body.removeChild(div);\n\t},seconds*1000);\n\n}\n\nwindow.marked = function(text){\n\tif(!text) return '';\n\ttext = text.replace(/\\[\\[TODO\\]\\]/g,'<span class=\"checkbox\"></span>')\n\ttext = text.replace(/\\[\\[DONE\\]\\]/g,'<span class=\"checkbox checked\"></span>')\n\n\ttext = text.replace(/\\*\\*([^\\*]+)\\*\\*/g,'<strong>$1</strong>')\n\ttext = text.replace(/__([^_]+)__/g,'<strong>$1</strong>')\n\ttext = text.replace(/~~([^~]+)~~/g,'<del>$1</del>')\n\n\ttext = text.replace(/\\*([^\\*]+)\\*/g,'<em>$1</em>')\n\ttext = text.replace(/_([^_]+)_/g,'<em>$1</em>')\n\n\tvar matches = text.match(/\\[\\[([^\\]]+)\\]\\]/g);\n\tif(matches) matches.forEach(match=>{\n\t\tvar note_name = match.replace(/[\\[\\]]/g,'');\n\t\tvar note = store.state.notes.find(note=>{\n\t\t\treturn note.name == note_name\n\t\t});\n\t\tif(!note) return;\n\t\ttext = text.replace(match,`<a href=\"/${note.slug}\">${match}</a>`);\n\t});\n\n\treturn text;\n}\n\nwindow.unmarked = function(text){\n\tif(!text) return '';\n\ttext = text.replace(/<span class=\"checkbox\"><\\/span>/g,'[[TODO]]')\n\ttext = text.replace(/<span class=\"checkbox checked\"><\\/span>/g,'[[DONE]]')\n\n\ttext = text.replace(/<strong>([\\s\\S]+?)<\\/strong>/g,'**$1**')\n\ttext = text.replace(/<em>([\\s\\S]+?)<\\/em>/g,'*$1*')\n\ttext = text.replace(/<del>([\\s\\S]+?)<\\/del>/g,'~~$1~~')\n\n\ttext = text.replace(/<a href=\"([^\"]*)\">([^<]*)<\\/a>/g,'$2')\n\treturn text;\n}\n","import Vue from 'vue'\nimport App from './App.vue'\nimport axios from 'axios';\nimport helpers from './helpers.js';\nimport textareaHelpers from './textareaHelpers.js';\nimport keyboardHelpers from './keyboardHelpers.js';\nimport './menuHelpers.js';\nimport styles from './assets/style.css';\nimport router from '@/router';\nimport store from '@/store';\n\n\nwindow.Vue = Vue;\nVue.config.productionTip = false\n\naxios({\n\tmethod: 'get',\n\turl: '/api/user',\n}).then((res)=>{\n\tstore.dispatch('setUser',res.data)\n\tstore.dispatch('authInitialized')\n}).catch(()=>{\n\tstore.dispatch('authInitialized')\n}).finally(()=> {\n\twindow.vm = new Vue({\n\t\trouter,\n\t\tstore,\n\t\trender: h => h(App),\n\t}).$mount('#app')\n });\n\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=style&index=0&lang=css&\"","document.addEventListener(\"DOMContentLoaded\", function() {\n\n\n\tdocument.addEventListener('input',function(e){\n\t\tif(!e.target.matches('textarea')) return;\n\t\tsetInputHeight(e.target);\n\t});\n});\n\nwindow.setInputHeight = function(el){\n\n\tel.style.height = \"1.5em\";\n\tvar textareaHeight = el.scrollHeight;\n\n\tel.style.height = textareaHeight + \"px\";\n}\n\nwindow.removeTextareas = function(){\n\t$$('textarea').forEach(textarea=>{\n\t\tvar p = textarea.nextSibling;\n\t\tif(p && p.tagName=='P'){\n\t\t\tp.innerHTML = marked(textarea.value);\n\t\t\ttextarea.parentNode.removeChild(textarea);\n\t\t}\n\t});\n}\n\nwindow.getSelectionEnd = function(textareaDom,x,y){\n\tvar originalText = textareaDom.value;\n\tvar text = originalText;\n\n\tvar span = document.createElement('span');\n\tspan.className = 'calculate';\n\tspan.style.width = textareaDom.offsetWidth+'px';\n\n\tvar inner = document.createTextNode(text);\n\tspan.appendChild(inner);\n\n\tvar carret = document.createElement('span');\n\tcarret.id = 'carret';\n\tspan.appendChild(carret);\n\n\tdocument.body.appendChild(span);\n\n\tconsole.time('loopx');\n\twhile(carret.offsetLeft>x){\n\t\ttext = originalText.substr(0,text.length-1);\n\t\tinner.textContent = text;\n\t}\n\tconsole.timeEnd('loopx');\n\n\t$$('.calculate').forEach(span=>{\n\t\tspan.parentNode.removeChild(span);\n\t})\n\treturn text.length;\n}\n\nwindow.getSelectionStart = function(textareaDom,x){\n\n\tvar originalText = textareaDom.value;\n\tvar text = '';\n\n\tvar span = document.createElement('span');\n\tspan.className = 'calculate';\n\tspan.style.width = textareaDom.offsetWidth+'px';\n\n\tvar inner = document.createTextNode(text);\n\tspan.appendChild(inner);\n\n\tvar carret = document.createElement('span');\n\tcarret.id = 'carret';\n\tspan.appendChild(carret);\n\n\tdocument.body.appendChild(span);\n\n\twhile(carret.offsetLeft<x){\n\t\ttext = originalText.substr(0,text.length+1);\n\t\tinner.textContent = text;\n\t\tif(originalText.length==text.length) break;\n\t}\n\ttext = originalText.substr(0,text.length-1);\n\n\t$$('.calculate').forEach(span=>{\n\t\tspan.parentNode.removeChild(span);\n\t})\n\treturn text.length;\n\n}\nwindow.getCarretPositonByWindow = function() {\n\tconst positions = getCarretPosition();\n\tconst textareaDom = $('textarea');\n\treturn {\n\t\tx: positions.x + textareaDom.getBoundingClientRect().x,\n\t\ty: positions.y + textareaDom.getBoundingClientRect().y\n\t}\n}\n\nwindow.getCarretPosition = function(){\n\tvar textareaDom = $('textarea');\n\tvar span = document.createElement('span');\n\tspan.className = 'calculate';\n\tvar text = textareaDom.value.substr(0,textareaDom.selectionStart);\n\tspan.innerHTML = text + '<span id=\"carret\"></span>';\n\tspan.style.width = textareaDom.offsetWidth+'px';\n\n\tdocument.body.appendChild(span);\n\n\tvar carret = span.querySelector('#carret');\n\tvar ret = {\n\t\tx:carret.offsetLeft+4,\n\t\ty:carret.offsetTop,\n\t}\n\n\t$$('.calculate').forEach(span=>{\n\t\tspan.parentNode.removeChild(span);\n\t})\n\n\treturn ret;\n}\n\nwindow.isFirstLine = function(textareaDom){\n\tvar pos = getCarretPosition();\n\n\tconsole.log('getCarretPosition first line',pos);\n\n\treturn pos.y==0;\n}\n\nwindow.isLastLine = function(textareaDom){\n\n\tvar span = document.createElement('span');\n\tspan.className = 'calculate';\n\tspan.style.width = textareaDom.offsetWidth+'px';\n\tspan.innerHTML = textareaDom.value + '<span id=\"carret\"></span>';\n\n\tdocument.body.appendChild(span);\n\tvar carret = span.querySelector('#carret');\n\tvar ret = {\n\t\tx:carret.offsetLeft,\n\t\ty:carret.offsetTop,\n\t}\n\n\tvar pos = getCarretPosition();\n\n\tconsole.log('getCarretPosition last line',pos,ret);\n\n\treturn pos.y == ret.y;\n}\n\nwindow.setTextFormat = function(append, event) {\n\tconst textarea = $('textarea');\n\tconst selectionStart = textarea.selectionStart;\n\tconst selectionEnd = textarea.selectionEnd;\n\tconst sizeAppend = append.length;\n\ttextarea.value = textarea.value.substring(0,selectionStart) + append + textarea.value.substring(selectionStart);\n\ttextarea.value = textarea.value.substring(0,selectionEnd+sizeAppend) + append + textarea.value.substring(selectionEnd+sizeAppend);\n\ttextarea.selectionStart = selectionStart + sizeAppend;\n\ttextarea.selectionEnd = selectionEnd + sizeAppend;\n\tsetInputHeight(textarea);\n\tif(event) event.preventDefault();\n}\n\nwindow.setBold = function(event) {\n\tsetTextFormat('**', event);\n}\n\nwindow.setItalic = function(event) {\n\tsetTextFormat('*', event);\n}\n\nwindow.setStrikeout = function(event) {\n\tsetTextFormat('~~', event);\n}\n\nwindow.setTodo = function(textareaDom) {\n\tvar text = textareaDom.value;\n\n\tif (!text.match(/^\\[\\[(TODO|DONE)\\]\\]/)) {\n\t\ttext = \"[[TODO]] \" + text;\n\t} else if (text.match(/^\\[\\[TODO\\]\\]/)) {\n\t\ttext = text.replace(/^\\[\\[TODO\\]\\]/, \"[[DONE]]\");\n\t} else if (text.match(/^\\[\\[DONE\\]\\]/)) {\n\t\ttext = text.replace(/^\\[\\[DONE\\]\\] */, \"\");\n\t}\n\n\ttextareaDom.value = text;\n}\n"],"sourceRoot":""}